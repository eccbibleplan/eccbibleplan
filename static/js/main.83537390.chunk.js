(this.webpackJsonpeccbibleplan=this.webpackJsonpeccbibleplan||[]).push([[0],{214:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),c=a(24),s=a(25),i=(a(214),a(396)),u=a(134),m=a.n(u),p={palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},rootStyles:{form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}},closeButton:{position:"absolute",right:"0.2rem",top:"0.4rem"}}},d=a(23),h=a.n(d),f=a(11),b=a(67),E=a(179),g=a(69),C=a(6),v="SET_AUTHENTICATED",y="SET_UNAUTHENTICATED",k="SET_USER",O="LOADING_USER",A="MARK_NOTIFCATIONS_READ",j="SET_ERRORS",I="LOADING_DATA",w="LOADING_UI",N="CLEAR_ERRORS",S="STOP_LOADING_UI",T="SET_ANNOUNCEMENTS",x="SET_ANNOUNCEMENT",B="APPEND_IMAGEURL_TO_ANNOUNCEMENT",U="LIKE_ANNOUNCEMENT",Q="UNLIKE_ANNOUNCEMENT",D="DELETE_ANNOUNCEMENT",F="POST_ANNOUNCEMENT",P="SUBMIT_COMMENT",W={authenticated:!1,credentials:{},likes:[],notifications:[],loading:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(C.a)(Object(C.a)({},e),{},{authenticated:!0});case y:return W;case k:return Object(C.a)({loading:!1,authenticated:!0},t.payload);case O:return Object(C.a)(Object(C.a)({},e),{},{loading:!0});case U:return Object(C.a)(Object(C.a)({},e),{},{taskCompletions:[].concat(Object(g.a)(e.taskCompletions),[{userHandle:e.credentials.handle,taskId:t.payload.taskId}])});case Q:return Object(C.a)(Object(C.a)({},e),{},{taskCompletions:e.taskCompletions.filter((function(e){return e.taskId!==t.payload.taskId}))});case A:return e.notifications.forEach((function(e){return e.read=!0})),Object(C.a)({},e);default:return e}},z={tasks:[],task:{},loading:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(C.a)(Object(C.a)({},e),{},{loading:!0});case T:var a=t.payload.filter((function(e){return!!e.pinToTop})),n=t.payload.filter((function(e){return!e.pinToTop}));return Object(C.a)(Object(C.a)({},e),{},{tasks:[].concat(Object(g.a)(a),Object(g.a)(n)),loading:!1});case x:return Object(C.a)(Object(C.a)({},e),{},{task:t.payload});case B:return Object(C.a)(Object(C.a)({},e),{},{task:Object(C.a)(Object(C.a)({},e.task),{},{body:"".concat(e.task.body,"\n\n![](").concat(t.payload,")")})});case U:case Q:var r=e.tasks.findIndex((function(e){return e.taskId===t.payload.taskId}));return e.tasks[r]=t.payload,e.task.taskId===t.payload.taskId&&(e.task=Object(C.a)(Object(C.a)({},e.task),t.payload)),Object(C.a)({},e);case D:var o=e.tasks.findIndex((function(e){return e.taskId===t.payload}));return e.tasks.splice(o,1),Object(C.a)({},e);case F:return Object(C.a)(Object(C.a)({},e),{},{tasks:[t.payload].concat(Object(g.a)(e.tasks))});case P:return Object(C.a)(Object(C.a)({},e),{},{task:Object(C.a)(Object(C.a)({},e.task),{},{comments:[t.payload].concat(Object(g.a)(e.task.comments))})});default:return e}},H={loading:!1,errors:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case j:return Object(C.a)(Object(C.a)({},e),{},{loading:!1,errors:t.payload});case N:return Object(C.a)(Object(C.a)({},e),{},{loading:!1,errors:null});case w:return Object(C.a)(Object(C.a)({},e),{},{loading:!0});case S:return Object(C.a)(Object(C.a)({},e),{},{loading:!1})}},V=[E.a],J=Object(b.c)({user:R,data:K,UI:L}),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d,G=Object(b.e)(J,{},Y(b.a.apply(void 0,V))),M=a(62),q=function(e){h.a.defaults.headers.common.Authentication="Bearer ".concat(e)},X=function(){return function(e){e({type:O}),h.a.get("/user").then((function(t){e({type:k,payload:t.data})})).catch((function(t){console.log(t),e({type:j,payload:t.response.data})}))}},Z=a(13),_=a(14),$=a(16),ee=a(15),te=a(397),ae=a(398),ne=a(18),re=a.n(ne),oe=a(412),le=a(391),ce=function(e){var t=e.children,a=e.onClick,n=e.tip,o=e.btnClassName,l=e.tipClassName;return r.a.createElement(oe.a,{title:n,placement:"top",className:l},r.a.createElement(le.a,{onClick:a,className:o},t))},se=a(142),ie=a.n(se),ue=a(27),me=function(){return function(e){e({type:I}),h.a.get("/tasks").then((function(t){e({type:T,payload:t.data.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{taskId:e.taskId})}))})})).catch((function(t){e({type:T,payload:[]})}))}},pe=function(e){return function(t){t({type:w}),h.a.get("/task/".concat(e)).then((function(e){t({type:x,payload:Object(C.a)(Object(C.a)({},e.data),{},{taskId:e.data.taskId})}),t({type:S})})).catch((function(e){console.log(e)}))}},de=function(){return function(e){e({type:N})}},he=a(358),fe=a(394),be=a(413),Ee=a(393),ge=a(392),Ce=a(395),ve=a(181),ye=a.n(ve),ke=a(80),Oe=a.n(ke),Ae=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1,body:"",errors:{}},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.props.clearErrors(),e.setState({open:!1,errors:{}})},e.handleChange=function(t){e.setState(Object(ue.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.postTask({body:e.state.body})},e}return Object(_.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.errors||e.UI.loading||this.setState({body:"",open:!1})}},{key:"render",value:function(){var e=this.state.errors,t=this.props,a=t.classes,o=t.UI.loading;return r.a.createElement(n.Fragment,null,r.a.createElement(ce,{onClick:this.handleOpen,tip:"Post an Task!"},r.a.createElement(ye.a,null)),r.a.createElement(be.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"md"},r.a.createElement(ce,{tip:"Close",onClick:this.handleClose,tipClassName:a.closeButton},r.a.createElement(Oe.a,null)),r.a.createElement(ge.a,null,"Post a new task"),r.a.createElement(Ee.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(fe.a,{name:"body",type:"text",label:"Content",multiline:!0,placeholder:"Task content with markdown",error:!!e.body,helperText:e.body,className:a.textField,onChange:this.handleChange,fullWidth:!0,rows:"6",rowsMax:"12"}),r.a.createElement(he.a,{type:"submit",variant:"contained",color:"primary",className:a.submitButton,disabled:o},"Submit",o&&r.a.createElement(Ce.a,{size:30,className:a.progressSpinner}))))))}}]),a}(n.Component),je=Object(f.b)((function(e){return{UI:e.UI}}),{postTask:function(e){return function(t){t({type:w}),h.a.post("/task",e).then((function(e){t({type:F,payload:Object(C.a)(Object(C.a)({},e.data),{},{taskId:e.data.taskId})}),t(de())})).catch((function(e){t({type:j,payload:e.response.data})}))}},clearErrors:de})(re()((function(e){return Object(C.a)(Object(C.a)({},e.rootStyles),{},{submitButton:{margin:"10px auto 10px auto",position:"relative",float:"right"},progressSpinner:{position:"absolute"}})}))(Ae)),Ie=a(182),we=a.n(Ie),Ne=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authenticated,a=e.isAnnouncementProvider;return r.a.createElement(te.a,null,r.a.createElement(ae.a,{className:"nav-container"},t?r.a.createElement(n.Fragment,null,a?r.a.createElement(je,null):r.a.createElement("div",null),r.a.createElement(c.b,{to:"/"},r.a.createElement(ce,{tip:"Home"},r.a.createElement(ie.a,null)))):r.a.createElement(n.Fragment,null,r.a.createElement(c.b,{to:"/login"},r.a.createElement(ce,{tip:"Account login"},r.a.createElement(we.a,null))),r.a.createElement(c.b,{to:"/"},r.a.createElement(ce,{tip:"Home"},r.a.createElement(ie.a,null))))))}}]),a}(n.Component),Se=Object(f.b)((function(e){return{authenticated:e.user.authenticated,isAnnouncementProvider:e.user.credentials.isAnnouncementProvider}}))(re()({})(Ne)),Te=a(197),xe=Object(f.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(Te.a)(e,["component","authenticated"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(s.a,{to:"/"}):r.a.createElement(t,e)}}))})),Be=a(55),Ue=a.n(Be),Qe=a(183),De=a.n(Qe),Fe=a(2),Pe=a(81),We=a.n(Pe),Re=a(185),ze=a.n(Re),Ke=a(184),He=a.n(Ke),Le=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).state={open:!1,oldPath:"",newPath:"",errors:{},body:""},n.handleOpen=function(){var e=window.location.pathname,t=n.props,a=t.userHandle,r=t.taskId,o="/users/".concat(a,"/task/").concat(r);e===o&&(e="/users/".concat(a)),window.history.pushState(null,null,o),n.setState({open:!0,oldPath:e,newPath:o}),n.props.getTask(n.props.taskId)},n.handleClose=function(){window.history.pushState(null,null,n.state.oldPath),n.setState({open:!1}),n.props.clearErrors()},n.handleSubmit=function(e){e.preventDefault(),n.props.updateTask(n.props.taskId,n.state.body)},n.handleChange=function(e){n.setState(Object(ue.a)({},e.target.name,e.target.value))},n.handleImageChange=function(e){var t=e.target.files[0],a=new FormData;a.append("image",t,t.name),n.props.uploadImageForPost(n.props.taskId,a)},n.handleEditPicture=function(){n.imageButtonRef.current.click()},n.imageButtonRef=r.a.createRef(),n}return Object(_.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors&&this.setState({errors:e.UI.errors}),e.task.body&&this.setState({body:e.task.body})}},{key:"componentDidMount",value:function(){this.props.openDialog&&this.handleOpen()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,o=this.state,l=o.body,c=o.errors,s=a?r.a.createElement("div",{className:t.spinnerDiv},r.a.createElement(Ce.a,{size:200})):r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(He.a,{name:"body",type:"text",label:"Content",multiline:!0,placeholder:"Task content with markdown",error:!!c.body,helperText:c.body,className:t.textField,onChange:this.handleChange,fullWidth:!0,value:l,rows:"6",rowsMax:"12"}),r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange,ref:this.imageButtonRef}),r.a.createElement(he.a,{variant:"contained",color:"primary",className:t.toolButton,disabled:a,onClick:this.handleEditPicture},r.a.createElement(ze.a,null)),r.a.createElement(he.a,{type:"submit",variant:"contained",color:"primary",className:t.submitButton,disabled:a},"Submit",a&&r.a.createElement(Ce.a,{size:30,className:t.progressSpinner})));return r.a.createElement(n.Fragment,null,r.a.createElement(ce,{onClick:this.handleOpen,tip:"Edit task",tipClassName:t.expandButton},r.a.createElement(We.a,{color:"primary"})),r.a.createElement(be.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"md"},r.a.createElement(ce,{tip:"Close",onClick:this.handleClose,tipClassName:t.closeButton},r.a.createElement(Oe.a,null)),r.a.createElement(Ee.a,{className:t.dialogContent},s)))}}]),a}(n.Component),Ve=Object(f.b)((function(e){return{task:e.data.task,UI:e.UI}}),{getTask:pe,updateTask:function(e,t){return function(a){a({type:w}),h.a.post("/task/".concat(e),{body:t}).then((function(){a(me())})).catch((function(e){a({type:j,payload:e.response.data})}))}},uploadImageForPost:function(e,t){return function(a){a({type:O}),h.a.post("/task/".concat(e,"/image"),t).then((function(e){a({type:B,payload:e.data.imageUrl})})).catch((function(e){return console.log(e)}))}},clearErrors:de})(re()((function(e){return Object(C.a)(Object(C.a)({},e.rootStyles),{},{avatar:{height:"80%",width:"80%"},dialogContent:{padding:20},expandButton:{float:"right"},spinnerDiv:{textAlign:"center",marginTo:50,marginBottom:50},submitButton:{margin:"10px auto 10px auto",position:"relative",float:"right"},toolButton:{margin:"10px auto 10px auto",position:"relative",float:"left"}})}))(Le)),Je=a(399),Ye=a(186),Ge=a.n(Ye),Me=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.deleteAnnouncement=function(){e.props.deleteAnnouncement(e.props.announcementId),e.handleClose()},e}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(ce,{tip:"Delete Task",onClick:this.handleOpen,btnClassName:e.deleteButton},r.a.createElement(Ge.a,{color:"primary"})),r.a.createElement(be.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ge.a,null,"Are you sure you want to delete this announcement?"),r.a.createElement(Je.a,null,r.a.createElement(he.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(he.a,{onClick:this.deleteAnnouncement,color:"secondary"},"Delete"))))}}]),a}(n.Component),qe=Object(f.b)(null,{deleteAnnouncement:function(e){return function(t){h.a.delete("/task/".concat(e)).then((function(){t({type:D,payload:e})})).catch((function(e){return console.log(e)}))}}})(re()({})(Me)),Xe=a(414),Ze=a(403),_e=a(404),$e=a(406),et=a(70),tt=a(402),at=a(187),nt=a.n(at),rt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.archiveAnnouncement=function(){e.props.archiveAnnouncement(e.props.announcementId),e.handleClose()},e}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(ce,{tip:"Archive Task",onClick:this.handleOpen,btnClassName:e.archiveButton},r.a.createElement(nt.a,{color:"primary"})),r.a.createElement(be.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ge.a,null,"Are you sure you want to archive this announcement?"),r.a.createElement(Je.a,null,r.a.createElement(he.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(he.a,{onClick:this.archiveAnnouncement,color:"secondary"},"Archive"))))}}]),a}(n.Component),ot=Object(f.b)(null,{archiveAnnouncement:function(e){return function(t){h.a.post("/task/".concat(e),{isArchived:!0}).then((function(){t(me())})).catch((function(e){t({type:j,payload:e.response.data})}))}}})(re()({})(rt)),lt=a(109),ct=a.n(lt);function st(e){return e.match(/^[0-9]+\. /)||e.match(/^\* /)}function it(e){if(!e)return e;var t="",a="";return e.split("\n").forEach((function(e){var n=e.trim();!st(a)&&st(n)&&(t+="\n"),t=(t=(t=(t+=n).replace(/\u3002/g," \u3002")).replace(/\uff09/g," \uff09 ")).replace(/\uff08/g," \uff08 "),t+="\n",a=n})),t}var ut=a(405),mt=a(188),pt=a.n(mt),dt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleShare=function(){var t=e.props,a=t.announcementId,n={title:"H2 App",text:t.content,url:"".concat("/eccbibleplan","?announcementId=").concat(a)};try{navigator.share(n),console.log("Shared successfully")}catch(r){console.log("Share failed")}},e.canShare=function(){try{return navigator.canShare}catch(e){return!1}},e}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props.classes;return this.canShare()?r.a.createElement("div",null,r.a.createElement(ce,{onClick:this.handleShare,tip:"Share announcement",tipClassName:e.expandButton},r.a.createElement(pt.a,{color:"primary"}))):null}}]),a}(n.Component),ht=re()((function(e){return Object(C.a)({},e.rootStyles)}))(dt),ft=a(400),bt=a(189),Et=a.n(bt),gt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props,t=e.comments,a=e.classes;return r.a.createElement(ft.a,{container:!0},t&&t.map((function(e,o){var l=e.body,s=e.createdAt,i=e.userImage,u=e.userHandle;return r.a.createElement(n.Fragment,{key:s},r.a.createElement(ft.a,{item:!0,sm:12},r.a.createElement(ft.a,{container:!0},r.a.createElement(ft.a,{item:!0,sm:1},r.a.createElement(Xe.a,{alt:u,src:i,className:a.avatar})),r.a.createElement(ft.a,{item:!0,sm:9},r.a.createElement("div",{className:a.commentData},r.a.createElement(et.a,{component:c.b,to:"/users/".concat(u),color:"primary"},u),r.a.createElement(et.a,{variant:"body2",color:"textSecondary"},Ue()(s).format("h:mm a, MMMM DD YYYY")),r.a.createElement("hr",{className:a.invisibleSeparator}),r.a.createElement(et.a,{variant:"body1"},l))))),o!==t.length-1&&r.a.createElement("hr",{className:a.visibleSeparator}))})))}}]),a}(n.Component),Ct=Object(f.b)((function(e){return{announcement:e.data.announcement,UI:e.UI}}))(re()((function(e){return Object(C.a)(Object(C.a)({},e.rootStyles),{},{commentData:{marginLeft:20}})}))(gt)),vt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={body:"",errors:{}},e.handleChange=function(t){e.setState(Object(ue.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.submitComment(e.props.announcementId,{body:e.state.body})},e}return Object(_.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors!==this.state.errors&&this.setState({errors:e.UI.errors?e.UI.errors:{}}),e.UI.errors||e.UI.loading||this.setState({body:""})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.authenticated,n=this.state.errors;return a?r.a.createElement(ft.a,{item:!0,sm:12,style:{textAlign:"center"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(fe.a,{name:"body",type:"text",label:"Comment on announcement",error:!!n.error,helperText:n.error,value:this.state.body,onChange:this.handleChange,fullWidth:!0,className:t.textField}),r.a.createElement(he.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Submit")),r.a.createElement("hr",{className:t.visibleSeparator})):null}}]),a}(n.Component),yt=Object(f.b)((function(e){return{UI:e.UI,authenticated:e.user.authenticated}}),{submitComment:function(e,t){return function(a){h.a.post("/task/".concat(e,"/comment"),t).then((function(e){a({type:P,payload:e.data}),a(de())})).catch((function(e){a({type:j,payload:e.response.data})}))}}})(re()((function(e){return Object(C.a)({},e.rootStyles)}))(vt)),kt=a(401),Ot=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleOpen=function(){e.setState({open:!0}),e.props.getTask(e.props.announcementId)},e.handleClose=function(){window.history.pushState(null,null,e.state.oldPath),e.setState({open:!1}),e.props.clearErrors()},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){this.props.openDialog&&this.handleOpen()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.task,o=a.body,l=a.createdAt,s=a.userImage,i=a.userHandle,u=a.taskId,m=a.commentCount,p=a.comments,d=e.UI.loading?r.a.createElement("div",{className:t.spinnerDiv},r.a.createElement(Ce.a,{size:200})):r.a.createElement(ft.a,{container:!0},r.a.createElement(ft.a,{item:!0,sm:1,className:t.avatarContainer},r.a.createElement(Xe.a,{alt:i,src:s,className:t.avatar})),r.a.createElement(ft.a,{item:!0,sm:!0},r.a.createElement(et.a,{component:c.b,color:"primary",variant:"h6",to:"/users/".concat(i)},"@",i),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(et.a,{variant:"body2",color:"textSecondary"},Ue()(l).format("h:mm a, MMMM DD YYYY"))),r.a.createElement("div",{className:t.markdownContainer},r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(ct.a,{source:it(o)})),r.a.createElement(kt.a,null,r.a.createElement(ce,{tip:"comments"},r.a.createElement(Et.a,{color:"primary"})),r.a.createElement("span",null,m," comments")),r.a.createElement("hr",{className:t.visibleSeparator}),r.a.createElement(yt,{announcementId:u}),r.a.createElement(Ct,{comments:p}));return r.a.createElement(n.Fragment,null,r.a.createElement(be.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"md"},r.a.createElement(ce,{tip:"Close",onClick:this.handleClose,tipClassName:t.closeButton},r.a.createElement(Oe.a,null)),r.a.createElement(Ee.a,{className:t.dialogContent},d)))}}]),a}(n.Component),At=Object(f.b)((function(e){return{task:e.data.task,UI:e.UI}}),{getTask:pe,clearErrors:de})(re()((function(e){return Object(C.a)(Object(C.a)({},e.rootStyles),{},{dialogContent:{padding:20},closeButton:{position:"absolute",right:"0.6rem",top:"0.6rem"},spinnerDiv:{textAlign:"center",marginTo:50,marginBottom:50},markdownContainer:{display:"block",width:"100%",overflow:"hidden"},avatar:{width:"4rem",height:"4rem"}})}))(Ot)),jt=a(190),It=a.n(jt),wt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.togglePinToTop=function(){var t=e.props,a=t.announcementId,n=t.pinToTop;e.props.pinAnnouncement(a,!n)},e}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(ce,{tip:"Pin Task to Top",onClick:this.togglePinToTop,btnClassName:e.pinToTop},r.a.createElement(It.a,{color:this.props.pinToTop?"secondary":"primary"})))}}]),a}(n.Component),Nt=Object(f.b)(null,{pinAnnouncement:function(e,t){return function(a){h.a.post("/task/".concat(e),{pinToTop:t}).then((function(){a(me())})).catch((function(e){a({type:j,payload:e.response.data})}))}}})(re()({})(wt)),St=a(143),Tt=a.n(St),xt=a(191),Bt=a.n(xt),Ut=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).taskCompleted=function(){return!(!e.props.user.taskCompletions||!e.props.user.taskCompletions.find((function(t){return t.taskId===e.props.taskId})))},e.completeTask=function(){e.props.completeTask(e.props.taskId)},e.undoCompleteTask=function(){e.props.undoCompleteTask(e.props.taskId)},e}return Object(_.a)(a,[{key:"render",value:function(){return this.props.user.authenticated?this.taskCompleted()?r.a.createElement(ce,{tip:"Undo Complete",onClick:this.undoCompleteTask},r.a.createElement(Bt.a,{color:"primary"})):r.a.createElement(ce,{tip:"Complete",onClick:this.completeTask},r.a.createElement(Tt.a,{color:"primary"})):r.a.createElement(c.b,{to:"/login"},r.a.createElement(ce,{tip:"Complete"},r.a.createElement(Tt.a,{color:"primary"})))}}]),a}(n.Component),Qt={completeTask:function(e){return function(t){h.a.get("/task/".concat(e,"/complete")).then((function(a){t({type:U,payload:Object(C.a)(Object(C.a)({},a.data),{},{taskId:e})})})).catch((function(e){return console.log(e)}))}},undoCompleteTask:function(e){return function(t){h.a.get("/task/".concat(e,"/undo_complete")).then((function(a){t({type:Q,payload:Object(C.a)(Object(C.a)({},a.data),{},{taskId:e})})})).catch((function(e){return console.log(e)}))}}},Dt=Object(f.b)((function(e){return{user:e.user}}),Qt)(re()({})(Ut)),Ft=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){Ue.a.extend(De.a);var e=this.props,t=e.classes,a=e.task,n=a.body,o=a.createdAt,l=a.userImage,s=a.userHandle,i=a.taskId,u=a.pinToTop,m=e.user,p=m.authenticated,d=m.credentials.handle,h=e.openDialog,f=p&&s===d?r.a.createElement(qe,{taskId:i}):null,b=p&&s===d?r.a.createElement(Ve,{taskId:i,userHandle:s}):null,E=p&&s===d?r.a.createElement(ot,{taskId:i,userHandle:s}):null,g=p&&s===d?r.a.createElement(Nt,{taskId:i,pinToTop:u}):null,C=r.a.createElement(ht,{taskId:i,content:n}),v=r.a.createElement(Dt,{taskId:i,user:this.props.user}),y=r.a.createElement(tt.a,{classes:t.buttonGroup},C,b,g,E,f,v),k=r.a.createElement(et.a,{component:c.b,to:"/users/".concat(s),color:"primary"},s);return r.a.createElement(Ze.a,{className:Object(Fe.default)(t.card,Object(ue.a)({},t.cardPinToTop,u))},r.a.createElement(_e.a,{avatar:r.a.createElement(Xe.a,{alt:s,className:t.avatar,src:l}),title:k,subheader:Ue()(o).fromNow()}),r.a.createElement(ut.a,{className:t.content},r.a.createElement(et.a,{id:"content-"+i},r.a.createElement(ct.a,{source:it(n),className:t.markdownContainer}))),r.a.createElement($e.a,{className:t.actions},y),r.a.createElement(At,{taskId:i,openDialog:h}))}}]),a}(n.Component),Pt=Object(f.b)((function(e){return{user:e.user}}))(re()((function(e){return{card:{marginBottom:20,position:"relative"},cardPinToTop:{"background-color":"cornsilk"},image:{minWidth:200},content:{padding:25,objectFit:"cover"},actions:{display:"block"},markdownContainer:{h2:{fontSize:"1em"},"& img":{width:"100%"},"& a":{"white-space":"pre-wrap","word-wrap":"break-word"}}}}))(Ft)),Wt=re()((function(e){return{container:{height:"100%",position:"fixed"},spinnerDiv:{textAlign:"center"}}}))((function(e){var t=e.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(ft.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",className:t.container},r.a.createElement(ft.a,{item:!0,xs:4}),r.a.createElement(ft.a,{item:!0,className:t.spinnerDiv,xs:4},r.a.createElement(Ce.a,null))))})),Rt=a(410),zt=a(407),Kt=a(408),Ht=a(337),Lt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={taskId:null,showCompleted:!1},e.onShowCompletedChange=function(t){e.setState(Object(ue.a)({},t.target.name,t.target.checked))},e}return Object(_.a)(a,[{key:"taskCompleted",value:function(e){return!(!this.props.user.taskCompletions||!this.props.user.taskCompletions.find((function(t){return t.taskId===e})))}},{key:"componentDidMount",value:function(){this.props.getTasks();var e=Ht.parse(this.props.location.search).taskId;e&&this.setState({taskId:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.taskId,o=t.showCompleted,l=this.props.data,c=l.tasks;return l.loading?r.a.createElement(Wt,null):r.a.createElement(n.Fragment,null,r.a.createElement(zt.a,{row:!0},r.a.createElement(Kt.a,{control:r.a.createElement(Rt.a,{checked:o,onChange:this.onShowCompletedChange,name:"showCompleted"}),label:"Show Completed Tasks"})),c.filter((function(t){return!t.isArchived&&(o||!e.taskCompleted(t.taskId))})).map((function(e){return a&&e.taskId===a?r.a.createElement(Pt,{key:e.taskId,task:e,openDialog:!0}):r.a.createElement(Pt,{key:e.taskId,task:e})})))}}]),a}(n.Component),Vt=Object(f.b)((function(e){return{data:e.data,user:e.user}}),{getTasks:me})(Lt),Jt="data:image/png;base64,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lzY+obu44bU+KsMZr7aYjN+LS4OVaY/QF4tsZHw+WCB/zCTYKzZIvJcNP26AAVyoYDh4p6ekD9v5t+Ar+aAgnH5wYCYlpNG1zQfWjPk5n42kiIIojDyJzVngc6FlP1X/3v+EuXwV32mws6/cDqB+GTTEuOczmYAWF8DCxQ2963ChT4cGK5VThJnRUtPHuLUo33ZJNtFhoZwFjbQUFaqXgMHfDPOI6JG6wDR4XwMA2EyFbgpPe+En0teCD1uwBaBK2vkNH0C5zfMA2ZN68jzcqPTPA1xxmsiQgwqWlz/CXFFoosa9uKfwaw3GKDPPR3WXj1tjIArchJxhh2u9hf0eOlcCcEmU4iyjPCKqVDntQGYSwQWqIWodRIi9dO8jaK/fo17+fvhfnahwXYUPDYIvK/pfp3Btk/ajcWmwoKMn7OThbnapZZ/eGvfijkeyUX9m2Z1GIp06ntPBBPI2tIeRFUIZdI/MGG6o4I0ovKiQdww1IpeIB+7ooRvn/Rciw6fAb10D/2wrnPwZ4L9+Yxc2XodqCKpAxa1r/nyOWAEW1stw/ydygEJFFkOiNlJdobI8on47TDGMc11RBQEw5bAdU16l+w1RSz7Yd+64Q1vtRztaAtpqPba/GFH06T/FTUapsfVPNBy+m0LVxEW4feCGcQ4/qb8WF8AIQNQByjedLduTIhJOHCYyzLseTY4U/z3uOaCxwkNqCBxXgkwcL68Bkcr3mYCTj3qwZlRVNP8a/34K/w5698MD3yUCdczm2kmNolEmFxfAsC2Sa8FC0q0sgqNsOUF9Vt1EouSlgJ10YIL8mmPkwc21MjjeRYR5lJnbizvj1u9BN898bJFUi9YyXu+F/zUYiQv/G2ki1H25BnoyyOv/izli4TqZ1VPDMq/cACVGi0uahIAdaRQPOypv1+sv+2O1pT6Y7cS2NXxjD9pEOKDzg4MZWmogZdaPu0IB7WhpMPZX4bZ8/wzK4mLSYlSnChP5O+z38H5Vq3fQcIutYQfaNWPGhLZiqracKnn+WABWyQlP5nMBZNPRjvYk5tiKfbZ+AJ7LRYPsvZrWNG7tOJmv92TmFpeJPJm5nPGfgaOP0uXW1yTfmgslvR+NF0/9JYPrjF/QyXoBjrX3Bmrxn6zzE/MSEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBL4c5XA/wNmB/fimPXDpAAAAABJRU5ErkJggg==",Yt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password};n.props.loginUser(t,n.props.history)},n.handleChange=function(e){n.setState(Object(ue.a)({},e.target.name,e.target.value))},n.state={email:"",password:"",errors:[]},n}return Object(_.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return r.a.createElement(ft.a,{container:!0,className:t.form},r.a.createElement(ft.a,{item:!0,sm:!0}),r.a.createElement(ft.a,{item:!0,sm:!0},r.a.createElement("img",{src:Jt,alt:"h2",className:t.image}),r.a.createElement(et.a,{variant:"h2",className:t.pageTitle},"Login"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement(fe.a,{id:"email",name:"email",label:"Email",className:t.textField,helperText:n.email,error:!!n.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(fe.a,{id:"password",name:"password",label:"Password",type:"password",className:t.textField,helperText:n.password,error:!!n.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),n.general&&r.a.createElement(et.a,{variant:"body2",className:t.customError},n.general),r.a.createElement(he.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a},"Login",a&&r.a.createElement(Ce.a,{className:t.progress,size:30})),r.a.createElement("br",null),r.a.createElement("small",null,"don't have an account ? signup ",r.a.createElement(c.b,{to:"/signup"},"here")))),r.a.createElement(ft.a,{item:!0,sm:!0}))}}]),a}(n.Component),Gt=Object(f.b)((function(e){return{UI:e.UI}}),{loginUser:function(e,t){return function(a){a({type:w}),M.a.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){return e.user.getIdToken()})).then((function(e){q(e),a(X()),a({type:N}),t.push("/")})).catch((function(e){console.log(e),a({type:j,payload:e.response.data})}))}}})(re()((function(e){return Object(C.a)({},e.rootStyles)}))(Yt)),Mt=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),n.setState({loading:!0});var t={email:n.state.email,password:n.state.password,confirmPassword:n.state.confirmPassword,handle:n.state.handle};n.props.signupUser(t,n.props.history)},n.handleChange=function(e){n.setState(Object(ue.a)({},e.target.name,e.target.value))},n.state={email:"",password:"",confirmPassword:"",handle:"",errors:[]},n}return Object(_.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return r.a.createElement(ft.a,{container:!0,className:t.form},r.a.createElement(ft.a,{item:!0,sm:!0}),r.a.createElement(ft.a,{item:!0,sm:!0},r.a.createElement("img",{src:Jt,alt:"h2",className:t.image}),r.a.createElement(et.a,{variant:"h2",className:t.pageTitle},"Signup"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement(fe.a,{id:"email",name:"email",label:"Email",className:t.textField,helperText:n.email,error:!!n.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(fe.a,{id:"password",name:"password",label:"Password",type:"password",className:t.textField,helperText:n.password,error:!!n.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(fe.a,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",className:t.textField,helperText:n.password,error:!!n.confirmPassword,value:this.state.confirmPassword,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(fe.a,{id:"handle",name:"handle",label:"Username",type:"text",className:t.textField,helperText:n.handle,error:!!n.handle,value:this.state.handle,onChange:this.handleChange,fullWidth:!0}),n.general&&r.a.createElement(et.a,{variant:"body2",className:t.customError},n.general),r.a.createElement(he.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a},"Login",a&&r.a.createElement(Ce.a,{className:t.progress,size:30})),r.a.createElement("br",null),r.a.createElement("small",null,"Already have an account ? login ",r.a.createElement(c.b,{to:"/login"},"here")))),r.a.createElement(ft.a,{item:!0,sm:!0}))}}]),a}(n.Component),qt=Object(f.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:w}),h.a.post("/signup",e).then((function(e){var n=e.data;q(n.token),a(X()),a({type:N}),t.push("/")})).catch((function(e){console.log(e),a({type:j,payload:e.response.data})}))}}})(re()((function(e){return Object(C.a)({},e.rootStyles)}))(Mt)),Xt=a.p+"static/media/no-img.c3f94521.png",Zt=a(198),_t=a(110),$t=a.n(_t),ea=a(111),ta=a.n(ea),aa=a(112),na=a.n(aa),ra=re()((function(e){return Object(C.a)(Object(C.a)({},e.rootStyles),{},{handle:{height:20,backgroundColor:e.palette.primary.main,width:60,margin:"0 auto 7px auto"},fullLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"100%",marginBottom:10},halfLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"50%",marginBottom:10}})}))((function(e){var t=e.classes;return r.a.createElement(Zt.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:Xt,alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:t.handle}),r.a.createElement("hr",null),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("hr",null),r.a.createElement($t.a,{color:"primary"}),r.a.createElement("span",null,"Location"),r.a.createElement("hr",null),r.a.createElement(ta.a,{color:"primary"}),"https://website.com",r.a.createElement("hr",null),r.a.createElement(na.a,{color:"primary"}),"Join date")))})),oa=a(409),la=a(192),ca=a.n(la),sa=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={bio:"",website:"",location:"",open:!1},e.handleClose=function(){e.setState({open:!1})},e.mapUserDetailsToState=function(t){e.setState({bio:t.bio?t.bio:"",website:t.website?t.website:"",location:t.location?t.location:""})},e.handleOpen=function(){e.setState({open:!0}),e.mapUserDetailsToState(e.props.credentials)},e.handleChange=function(t){e.setState(Object(ue.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t={bio:e.state.bio,website:e.state.website,location:e.state.location};e.props.editUserDetails(t),e.handleClose()},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.credentials;this.mapUserDetailsToState(e)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(ce,{tip:"Edit details",onClick:this.handleOpen,btnClassName:e.button},r.a.createElement(We.a,{color:"primary"})),r.a.createElement(be.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(ge.a,null,"Edit your details"),r.a.createElement(Ee.a,null,r.a.createElement("form",null,r.a.createElement(fe.a,{name:"bio",type:"text",label:"Bio",multiline:!0,rows:"3",placeholder:"A short bio of yourself",className:e.textField,value:this.state.bio,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(fe.a,{name:"website",type:"text",label:"Website",multiline:!0,placeholder:"Your personal website",className:e.textField,value:this.state.website,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(fe.a,{name:"location",type:"text",label:"Location",multiline:!0,placeholder:"Where you live",className:e.textField,value:this.state.location,onChange:this.handleChange,fullWidth:!0}))),r.a.createElement(Je.a,null,r.a.createElement(he.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(he.a,{onClick:this.handleSubmit,color:"primary"},"Submit"))))}}]),a}(n.Component),ia=Object(f.b)((function(e){return{credentials:e.user.credentials}}),{editUserDetails:function(e){return function(t){t({type:O}),h.a.post("/user",e).then((function(){t(X())})).catch((function(e){return console.log(e)}))}}})(re()((function(e){return Object(C.a)(Object(C.a)({},e.rootStyles),{},{button:{float:"right"}})}))(sa)),ua=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(e){var n;return Object(Z.a)(this,a),(n=t.call(this,e)).handleImageChange=function(e){var t=e.target.files[0],a=new FormData;a.append("image",t,t.name),n.props.uploadImage(a)},n.handleEditPicture=function(){n.imageButtonRef.current.click()},n.handleLogout=function(){n.props.logoutUser()},n.imageButtonRef=r.a.createRef(),n}return Object(_.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user,o=a.credentials,l=o.handle,s=o.createdAt,i=o.imageUrl,u=o.bio,m=o.website,p=o.location,d=a.loading,h=a.authenticated;return d?r.a.createElement(ra,null):h?r.a.createElement(Zt.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:i,alt:"profile",className:"profile-image"}),r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange,ref:this.imageButtonRef}),r.a.createElement(ce,{tip:"Edit profile picture",onClick:this.handleEditPicture,btnClassName:"button"},r.a.createElement(We.a,{color:"primary"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(oa.a,{component:c.b,to:"/users/".concat(l),color:"primary",variant:"h5"},"@",l),u&&r.a.createElement(et.a,{variant:"body2"},u),r.a.createElement("hr",null),p&&r.a.createElement(n.Fragment,null,r.a.createElement($t.a,{color:"primary"}),r.a.createElement("span",null,p)),r.a.createElement("hr",null),m&&r.a.createElement(n.Fragment,null,r.a.createElement(ta.a,{color:"primary"}),r.a.createElement("a",{href:m,target:"_blank",rel:"noopener noreferrer"},"  ",m)),r.a.createElement("hr",null),r.a.createElement(na.a,{color:"primary"}),"  ",r.a.createElement("span",null,"Joined ",Ue()(s).format("MMM YYYY")))),r.a.createElement(oe.a,{title:"Logout",placement:"top"},r.a.createElement(ce,{tip:"Logout",onClick:this.handleLogout},r.a.createElement(ca.a,{color:"primary"}))),r.a.createElement(ia,null)):r.a.createElement(Zt.a,{className:t.paper},r.a.createElement(et.a,{variant:"body2",aligh:"center"},"No profile found, please login again"),r.a.createElement("div",{className:t.buttons},r.a.createElement(he.a,{variant:"contained",color:"primary",component:c.b,to:"/login"},"Login"),r.a.createElement(he.a,{variant:"contained",color:"secondary",component:c.b,to:"/signup"},"Signup")))}}]),a}(n.Component),ma=Object(f.b)((function(e){return{user:e.user}}),{logoutUser:function(){return function(e){M.a.auth().signOut().then((function(){e({type:y})}))}},uploadImage:function(e){return function(t){t({type:O}),h.a.post("/user/image",e).then((function(e){t(X())})).catch((function(e){return console.log(e)}))}}})(re()((function(e){return Object(C.a)({},e.rootStyles)}))(ua)),pa=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={profile:{},taskIdParam:null},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.handle,a=this.props.match.params.taskId;a&&this.setState({taskIdParam:a}),this.props.getUserData(t),h.a.get("/user/".concat(t)).then((function(t){e.setState({profile:t.data.user})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.data,t=e.tasks,a=e.loading,n=this.state.taskIdParam,o=a?r.a.createElement(Wt,null):null===t?r.a.createElement("p",null,"No tasks from this user"):n?t.map((function(e){return e.taskId!==n?r.a.createElement(Pt,{key:e.taskId,task:e}):r.a.createElement(Pt,{key:e.taskId,task:e,openDialog:!0})})):t.map((function(e){return r.a.createElement(Pt,{key:e.taskId,task:e})}));return r.a.createElement(ft.a,{container:!0,spacing:10},r.a.createElement(ft.a,{item:!0,sm:8,xs:12},o),r.a.createElement(ft.a,{item:!0,sm:4,xs:12},this.state.profile?r.a.createElement(ma,null):r.a.createElement(ra,null)))}}]),a}(n.Component),da=Object(f.b)((function(e){return{data:e.data,UI:e.UI}}),{getUserData:function(e){return function(t){t({type:I}),h.a.get("/user/".concat(e)).then((function(e){t({type:T,payload:e.data.tasks})})).catch((function(){t({type:T,payload:[]})}))}}})(pa),ha=a(49),fa=a(144),ba=a.n(fa),Ea=(a(351),a(196));var ga=new Date,Ca=Object(ha.c)(ba.a),va=/(\d{2})\/(\d{2})\/(\d{4})/g,ya=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={view:ha.b.WEEK,events:[]},e}return Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vQvXCDvZBgp4hm89EvIzlKfiJpbkZDaK5dFYqVYYDJUZ4zGknXkOeUaT5xlGk5pyfL3G8Qfrp2TDZxJ/pub?output=csv").then((function(e){return e.text()})).then((function(t){var a,n=(a=function(e){var t,a,n="",r=[""],o=[r],l=0,c=0,s=!0,i=Object(Ea.a)(e);try{for(i.s();!(a=i.n()).done;)'"'===(t=a.value)?(s&&t===n&&(r[l]+=t),s=!s):","===t&&s?t=r[++l]="":"\n"===t&&s?("\r"===n&&(r[l]=r[l].slice(0,-1)),r=o[++c]=[t=""],l=0):r[l]+=t,n=t}catch(u){i.e(u)}finally{i.f()}return o}(t),a[0].map((function(e,t){return a.map((function(e){return e[t]}))}))).flat(),r=[];n.forEach((function(e,t){if(e.match(va)){var a=va.exec(e),o=parseInt(a[1]),l=parseInt(a[2]),c=parseInt(a[3]),s=n[t+1];if(s){var i=new Date(c,o-1,l),u=new Date(c,o-1,l);s.includes("\u9884\u67e5\u5e26\u9886")?(s="\u9884\u67e5\n"+s,i=new Date(c,o-1,l,11,15,0),u=new Date(c,o-1,l,12,15,0)):s.includes("\u8bd7\u6b4c\u5e26\u9886")&&(s="\u56e2\u5951\u67e5\u7ecf\n"+s,i=new Date(c,o-1,l,19,20,0),u=new Date(c,o-1,l,21,30,0));var m={id:t,title:s,start:i,end:u};r.push(m)}}})),e.setState({events:r})}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.events,n=[ha.b.MONTH,ha.b.WEEK,ha.b.DAY,ha.b.AGENDA];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement(ha.a,{events:a,views:n,defaultView:ha.b.WEEK,step:60,defaultDate:ga,components:{eventWrapper:function(e){var a=Math.floor((e.event.end-e.event.start)/6e4);return r.a.createElement("div",{className:a<60?t.eventWrapperNoLabel:t.eventWrapper},e.children)}},localizer:Ca,style:{height:1e3},titleAccessor:function(a){if(e.state.view===ha.b.MONTH){var n=a.title.split("\n");return r.a.createElement("div",{className:t.eventContent},n[0])}return r.a.createElement("div",{className:t.eventContent},a.title)},onView:function(t){e.setState({view:t})},min:ba()("6:00am","h:mma").toDate()})))}}]),a}(n.Component),ka=Object(f.b)((function(e){return{user:e.user}}))(re()((function(){return{container:{},eventContent:{"white-space":"pre-wrap"},eventWrapper:{},eventWrapperNoLabel:{"& .rbc-event-label":{display:"none"}}}}))(ya)),Oa=function(e){Object($.a)(a,e);var t=Object(ee.a)(a);function a(){return Object(Z.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ka,null))}}]),a}(n.Component),Aa=Object(f.b)((function(e){return{data:e.data}}),{getAnnouncements:me})(Oa),ja=(a(352),m()(p));M.a.apps.length?M.a.app():M.a.initializeApp({apiKey:"AIzaSyCCx9TDJtVzEaPym1OyU5KSuWgwslGDzEY"}),M.a.auth().onAuthStateChanged((function(e){e&&e.getIdToken().then((function(e){q(e),G.dispatch(X())}))})),h.a.defaults.baseURL="https://us-central1-h2-app.cloudfunctions.net/api";var Ia=function(){return r.a.createElement(i.a,{theme:ja},r.a.createElement(f.a,{store:G},r.a.createElement(c.a,{basename:"/eccbibleplan"},r.a.createElement(Se,null),r.a.createElement("div",{className:"container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:Vt}),r.a.createElement(xe,{exact:!0,path:"/login",component:Gt}),r.a.createElement(xe,{exact:!0,path:"/signup",component:qt}),r.a.createElement(s.b,{exact:!0,path:"/users/:handle",component:da}),r.a.createElement(s.b,{exact:!0,path:"/users/:handle/announcement/:announcementId",component:da}),r.a.createElement(s.b,{exact:!0,path:"/cal",component:Aa}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ia,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[354,1,2]]]);
//# sourceMappingURL=main.83537390.chunk.js.map