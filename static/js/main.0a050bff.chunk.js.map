{"version":3,"sources":["util/theme.js","redux/types.js","redux/reducers/userReducers.js","redux/reducers/dataReducers.js","redux/reducers/uiReducers.js","redux/store.js","util/auth.js","redux/actions/userActions.js","util/MyButton.js","redux/actions/dataActions.js","components/task/PostTask.js","components/layout/Navbar.js","util/AuthRoute.js","components/task/EditTask.js","components/task/DeleteTask.js","util/ContentIFrame.js","components/task/ArchiveButton.js","util/markdown_utils.js","components/task/ShareButton.js","components/task/Comments.js","components/task/CommentForm.js","components/task/TaskDialog.js","components/task/PinTask.js","components/task/CompleteButton.js","components/task/Task.js","util/TaskSkeleton.js","pages/home.js","images/icon.png","pages/login.js","pages/signup.js","images/no-img.png","util/ProfileSkeleton.js","components/profile/EditDetails.js","components/profile/Profile.js","pages/user.js","util/array_utils.js","components/calendar/Calendar.js","util/csv_utils.js","pages/calendar.js","App.js","serviceWorker.js","index.js"],"names":["theme","palette","primary","light","main","dark","contrastText","secondary","typography","useNextVariants","rootStyles","form","textAlign","image","margin","pageTitle","textField","button","marginTop","position","customError","color","fontSize","progress","invisibleSeparator","border","visibleSeparator","width","borderBottom","marginBottom","paper","padding","profile","top","left","height","objectFit","maxWidth","borderRadius","verticalAlign","cursor","buttons","closeButton","right","SET_AUTHENTICATED","SET_UNAUTHENTICATED","SET_USER","LOADING_USER","MARK_NOTIFCATIONS_READ","SET_ERRORS","LOADING_DATA","LOADING_UI","CLEAR_ERRORS","STOP_LOADING_UI","SET_TASKS","SET_TASK","APPEND_IMAGEURL_TO_ANNOUNCEMENT","COMPLETE_TASK","UNDO_COMPLETE_TASK","DELETE_TASK","POST_TASK","SUBMIT_COMMENT","initialState","authenticated","credentials","likes","notifications","loading","userReducers","state","action","type","payload","taskCompletions","userHandle","handle","taskId","filter","t","forEach","n","read","tasks","task","reducers","topItems","e","pinToTop","regularItems","body","index","findIndex","ann","deleteIdx","splice","comments","initalState","errors","uiReducers","middleware","thunk","combineReducers","user","userReducer","data","dataReducer","UI","uiReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","setAuthorizationHeader","token","axios","defaults","headers","common","getUserData","dispatch","get","then","res","catch","err","console","log","response","MyButton","children","onClick","tip","btnClassName","tipClassName","Tooltip","title","placement","className","IconButton","getTasks","map","s","getTask","clearErrors","PostTask","open","handleOpen","setState","handleClose","props","handleChange","event","target","name","value","handleSubmit","preventDefault","postTask","nextProps","nextContext","this","classes","Dialog","onClose","fullWidth","DialogTitle","DialogContent","onSubmit","TextField","label","multiline","placeholder","error","helperText","onChange","rows","rowsMax","Button","variant","submitButton","disabled","CircularProgress","size","progressSpinner","Component","connect","newTask","post","withStyles","float","Navbar","isAnnouncementProvider","AppBar","Toolbar","to","component","rest","render","EditTask","oldPath","newPath","location","pathname","history","pushState","updateTask","handleImageChange","files","formData","FormData","append","uploadImageForPost","handleEditPicture","imageButtonRef","current","click","React","createRef","openDialog","dialogMarkup","spinnerDiv","id","hidden","ref","toolButton","expandButton","dialogContent","imageUrl","avatar","marginTo","DeleteTask","deleteAnnouncement","announcementId","deleteButton","DialogActions","delete","ContentIFrame","src","ArchiveButton","archiveAnnouncement","archiveButton","isArchived","isListLine","match","markdownTextPreProcess","bodyFinal","prevLine","split","rawLine","line","trim","replace","ShareButton","handleShare","shareData","text","content","url","process","navigator","share","canShare","Comments","Grid","container","createdAt","userImage","key","item","sm","Avatar","alt","commentData","Typography","Link","dayjs","format","length","announcement","marginLeft","CommentForm","submitComment","style","TaskDialog","commentCount","avatarContainer","markdownContainer","source","Container","display","overflow","PinTask","togglePinToTop","pinAnnouncement","CompleteButton","taskCompleted","find","completeTask","undoCompleteTask","mapActionToProps","Task","extend","relativeTime","editButton","pinButton","shareButton","completeButton","actionsMarkup","ButtonGroup","buttonGroup","userLink","contentMarkup","startsWith","substring","Card","clsx","card","cardPinToTop","CardHeader","subheader","fromNow","CardContent","CardActions","actions","minWidth","h2","withStyle","direction","justifyContent","alignItems","xs","queryString","require","home","showCompleted","onShowCompletedChange","checked","parse","search","FormGroup","row","FormControlLabel","control","Checkbox","login","userData","email","password","loginUser","AppIcon","noValidate","general","firebase","auth","signInWithEmailAndPassword","getIdToken","idToken","push","signup","newUserData","confirmPassword","signupUser","backgroundColor","fullLine","halfLine","Paper","NoImg","EditDetails","bio","website","mapUserDetailsToState","userDetails","editUserDetails","Profile","uploadImage","handleLogout","logoutUser","href","rel","aligh","signOut","taskIdParam","params","tasksMarkup","spacing","now","Date","localizer","momentLocalizer","moment","DATE_RE","Calendar","view","Views","WEEK","events","fetch","rsp","m","eventsRaw","l","p","ret","i","r","slice","csvToArray","x","flat","d","exec","eventMo","parseInt","eventDa","eventYr","eventTitle","start","end","includes","allViews","MONTH","DAY","AGENDA","views","defaultView","step","defaultDate","components","eventWrapper","eventWrapperProps","eventTimeMin","Math","floor","eventWrapperNoLabel","titleAccessor","titleLines","eventContent","onView","min","toDate","calendar","getAnnouncements","createMuiTheme","themeFile","apps","app","initializeApp","apiKey","onAuthStateChanged","usr","baseURL","App","basename","exact","path","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.0a050bff.chunk.js","sourcesContent":["const theme = {\n    palette: {\n        primary: {\n            light: '#33c9dc',\n            main: '#00bcd4',\n            dark: '#008394',\n            contrastText: '#fff'\n        },\n        secondary: {\n            light: '#ff6333',\n            main: '#ff3d00',\n            dark: '#b22a00',\n            contrastText: '#fff'\n        }\n    },\n    typography: {\n        useNextVariants: true\n    },\n    rootStyles: {\n        form: {\n            textAlign: 'center'\n        },\n        image: {\n            margin: \"20px auto 20px auto\"\n        },\n        pageTitle: {\n            margin: \"10px auto 10px auto\"\n        },\n        textField: {\n            margin: \"10px auto 10px auto\"\n        },\n        button: {\n            marginTop: 20,\n            position: 'relative'\n        },\n        customError: {\n            color: 'red',\n            fontSize: \"0.8rem\",\n            marginTop: 10\n        },\n        progress: {\n            position: 'absolute'\n        },\n        invisibleSeparator: {\n            border: \"none\",\n            margin: 4\n        },\n        visibleSeparator: {\n            width: \"100%\",\n            borderBottom: \"1px solid rgba(0, 0, 0, 0.1)\",\n            marginBottom: 20\n        },\n        paper: {\n            padding: 20\n        },\n        profile: {\n            '& .image-wrapper': {\n                textAlign: 'center',\n                position: 'relative',\n                '& button': {\n                    position: 'absolute',\n                    top: '80%',\n                    left: '70%'\n                }\n            },\n            '& .profile-image': {\n                width: 200,\n                height: 200,\n                objectFit: 'cover',\n                maxWidth: '100%',\n                borderRadius: '50%'\n            },\n            '& .profile-details': {\n                textAlign: 'center',\n                '& span, svg': {\n                    verticalAlign: 'middle'\n                },\n                '& a': {\n                    color: '#00bcd4'\n                }\n            },\n            '& hr': {\n                border: 'none',\n                margin: '0 0 10px 0'\n            },\n            '& svg.button': {\n                '&:hover': {\n                    cursor: 'pointer'\n                }\n            }\n        },\n        buttons: {\n            textAlign: 'center',\n            '& a': {\n                margin: '20px 10px'\n            }\n        },\n        closeButton: {\n            position: \"absolute\",\n            right: \"0.2rem\",\n            top: \"0.4rem\"\n        }\n    }\n};\n\nexport default theme;","// User reducer types\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\nexport const SET_USER = \"SET_USER\";\nexport const LOADING_USER = \"LOADING_USER\";\nexport const MARK_NOTIFCATIONS_READ = \"MARK_NOTIFCATIONS_READ\";\n// UI reducer types\nexport const SET_ERRORS = \"SET_ERRORS\";\nexport const LOADING_DATA = \"LOADING_DATA\";\nexport const LOADING_UI = \"LOADING_UI\";\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\nexport const STOP_LOADING_UI = \"STOP_LOADING_UI\";\n// Data reducer types\nexport const SET_TASKS = \"SET_ANNOUNCEMENTS\";\nexport const SET_TASK = \"SET_ANNOUNCEMENT\";\nexport const APPEND_IMAGEURL_TO_ANNOUNCEMENT = \"APPEND_IMAGEURL_TO_ANNOUNCEMENT\";\nexport const COMPLETE_TASK = \"LIKE_ANNOUNCEMENT\";\nexport const UNDO_COMPLETE_TASK = \"UNLIKE_ANNOUNCEMENT\";\nexport const DELETE_TASK = \"DELETE_ANNOUNCEMENT\";\nexport const POST_TASK = \"POST_ANNOUNCEMENT\";\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\";","import {\n    SET_USER,\n    LOADING_USER,\n    SET_AUTHENTICATED,\n    SET_UNAUTHENTICATED,\n    COMPLETE_TASK,\n    UNDO_COMPLETE_TASK,\n    MARK_NOTIFCATIONS_READ\n} from \"../types\";\n\nconst initialState = {\n    authenticated: false,\n    credentials: {},\n    likes: [],\n    notifications: [],\n    loading: false\n};\n\nconst userReducers = function(state = initialState, action) {\n    switch (action.type) {\n        case SET_AUTHENTICATED:\n            return {\n                ...state,\n                authenticated: true\n            };\n        case SET_UNAUTHENTICATED:\n            return initialState;\n        case SET_USER:\n            return {\n                loading: false,\n                authenticated: true,\n                ...action.payload\n            };\n        case LOADING_USER:\n            return {\n                ...state,\n                loading: true\n            };\n        case COMPLETE_TASK:\n            return {\n                ...state,\n                taskCompletions: [\n                    ...state.taskCompletions,\n                    {\n                        userHandle: state.credentials.handle,\n                        taskId: action.payload.taskId\n                    }\n                ]\n            };\n        case UNDO_COMPLETE_TASK:\n            return {\n                ...state,\n                taskCompletions: state.taskCompletions.filter(t => t.taskId !== action.payload.taskId)\n            };\n        case MARK_NOTIFCATIONS_READ:\n            state.notifications.forEach(n => n.read = true);\n            return {...state};\n        default:\n            return state\n    }\n}\n\nexport default userReducers;","import {\n    SET_TASKS,\n    COMPLETE_TASK,\n    UNDO_COMPLETE_TASK,\n    LOADING_DATA,\n    DELETE_TASK,\n    POST_TASK,\n    SET_TASK,\n    SUBMIT_COMMENT, APPEND_IMAGEURL_TO_ANNOUNCEMENT\n} from \"../types\";\n\nconst initialState = {\n    tasks: [],\n    task: {},\n    loading: false\n};\n\nconst reducers = function(state = initialState, action) {\n    switch (action.type) {\n        case LOADING_DATA:\n            return {\n                ...state,\n                loading: true\n            };\n        case SET_TASKS:\n            const topItems = action.payload.filter(e => !!e.pinToTop);\n            const regularItems = action.payload.filter(e => !e.pinToTop);\n\n            return {\n                ...state,\n                tasks: [\n                    ...topItems,\n                    ...regularItems\n                ],\n                loading: false\n            };\n        case SET_TASK:\n            return {\n                ...state,\n                task: action.payload\n            };\n        case APPEND_IMAGEURL_TO_ANNOUNCEMENT:\n            return {\n                ...state,\n                task: {\n                    ...state.task,\n                    body: `${state.task.body}\\n\\n![](${action.payload})`\n                }\n            };\n        case COMPLETE_TASK:\n        case UNDO_COMPLETE_TASK:\n            let index = state.tasks\n                .findIndex((ann) => ann.taskId === action.payload.taskId);\n            state.tasks[index] = action.payload;\n            if(state.task.taskId === action.payload.taskId) {\n                state.task = {\n                    ...state.task,\n                    ...action.payload\n                }\n            }\n            return {\n                ...state\n            };\n        case DELETE_TASK:\n            let deleteIdx = state.tasks.findIndex(ann => ann.taskId === action.payload);\n            state.tasks.splice(deleteIdx, 1);\n            return {\n                ...state\n            };\n        case POST_TASK:\n            return {\n                ...state,\n                tasks: [\n                    action.payload,\n                    ...state.tasks\n                ]\n            };\n        case SUBMIT_COMMENT:\n            return {\n                ...state,\n                task: {\n                    ...state.task,\n                    comments: [\n                        action.payload,\n                        ...state.task.comments\n                    ]\n                }\n            };\n        default:\n            return state;\n    }\n}\n\nexport default reducers;","import {SET_ERRORS, CLEAR_ERRORS, LOADING_UI, STOP_LOADING_UI} from \"../types\";\n\nconst initalState = {\n    loading: false,\n    errors: null\n};\n\nconst uiReducers = function (state = initalState, action) {\n    switch (action.type) {\n        default:\n            return state;\n        case SET_ERRORS:\n            return {\n                ...state,\n                loading: false,\n                errors: action.payload\n            };\n        case CLEAR_ERRORS:\n            return {\n                ...state,\n                loading: false,\n                errors: null\n            };\n        case LOADING_UI:\n            return {\n                ...state,\n                loading: true\n            };\n        case STOP_LOADING_UI:\n            return {\n                ...state,\n                loading: false\n            };\n    }\n}\n\nexport default uiReducers;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport userReducer from './reducers/userReducers';\nimport dataReducer from './reducers/dataReducers';\nimport uiReducer from './reducers/uiReducers';\n\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst reducers = combineReducers({\n    user: userReducer,\n    data: dataReducer,\n    UI: uiReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, /* preloadedState, */initialState, composeEnhancers(applyMiddleware(...middleware)));\n\nexport default store;","import axios from \"axios\";\n\nexport const setAuthorizationHeader = (token) => {\n    axios.defaults.headers.common[\"Authentication\"] = `Bearer ${token}`;\n};","import {\n    CLEAR_ERRORS,\n    LOADING_UI,\n    LOADING_USER,\n    MARK_NOTIFCATIONS_READ,\n    SET_ERRORS,\n    SET_UNAUTHENTICATED,\n    SET_USER\n} from \"../types\";\nimport axios from \"axios\";\nimport firebase from \"firebase/app\";\nimport { setAuthorizationHeader } from \"../../util/auth\";\n\nexport const loginUser = (userData, history) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    firebase.auth().signInWithEmailAndPassword(userData.email, userData.password)\n        .then(res => res.user.getIdToken())\n        .then(idToken => {\n            setAuthorizationHeader(idToken);\n            dispatch(getUserData());\n            dispatch({ type: CLEAR_ERRORS });\n            history.push('/');\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const getUserData = () => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.get('/user')\n        .then(res => {\n            dispatch({\n                type: SET_USER,\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const signupUser = (newUserData, history) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    axios.post('/signup', newUserData)\n        .then(res => {\n            const data = res.data;\n            setAuthorizationHeader(data.token);\n            dispatch(getUserData());\n            dispatch({ type: CLEAR_ERRORS });\n            history.push('/');\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const logoutUser = () => (dispatch) => {\n    firebase.auth().signOut().then(() => {\n        dispatch({ type: SET_UNAUTHENTICATED })\n    })\n};\n\nexport const uploadImage = (formData) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(\"/user/image\", formData)\n        .then(res => {\n            dispatch(getUserData())\n        })\n        .catch(err => console.log(err))\n};\n\nexport const editUserDetails = (userDetails) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(\"/user\", userDetails)\n        .then(() => {\n            dispatch(getUserData());\n        })\n        .catch(err => console.log(err));\n};\n\nexport const markNotificationsRead = (notificationIds) => dispatch => {\n    axios.post(\"/notifications\", notificationIds)\n        .then(res => {\n            dispatch({\n                type: MARK_NOTIFCATIONS_READ\n            });\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n};","import React from 'react';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst MyButton = ({ children, onClick, tip, btnClassName, tipClassName }) => {\n    return (\n        <Tooltip title={tip} placement=\"top\" className={tipClassName}>\n            <IconButton onClick={onClick} className={btnClassName}>\n                {children}\n            </IconButton>\n        </Tooltip>\n\n    )\n}\n\nexport default MyButton;\n","import {\n    SET_TASKS,\n    LOADING_DATA,\n    COMPLETE_TASK,\n    UNDO_COMPLETE_TASK,\n    DELETE_TASK,\n    CLEAR_ERRORS,\n    SET_ERRORS,\n    LOADING_UI,\n    POST_TASK,\n    SET_TASK,\n    STOP_LOADING_UI,\n    SUBMIT_COMMENT,\n    LOADING_USER,\n    APPEND_IMAGEURL_TO_ANNOUNCEMENT\n} from \"../types\";\nimport axios from 'axios';\n\nexport const getTasks = () => dispatch => {\n    dispatch({ type: LOADING_DATA });\n    axios.get(\"/tasks\")\n        .then(res => {\n            dispatch({\n                type: SET_TASKS,\n                payload: res.data.map(s => ({...s, taskId: s.taskId}))\n            })\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_TASKS,\n                payload: []\n            })\n\n        })\n};\n\nexport const getTask = (taskId) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.get(`/task/${taskId}`)\n        .then(res => {\n            dispatch({\n                type: SET_TASK,\n                payload: {...res.data, taskId: res.data.taskId}\n            });\n            dispatch({\n                type: STOP_LOADING_UI\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n};\n\nexport const postTask = (newTask) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.post(\"/task\", newTask)\n        .then(res => {\n            dispatch({\n                type: POST_TASK,\n                payload: {...res.data, taskId: res.data.taskId}\n            });\n            dispatch(clearErrors())\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const updateTask = (taskId, body) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.post(`/task/${taskId}`, { body: body })\n        .then(() => {\n            dispatch(getTasks());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const completeTask = (taskId) => dispatch => {\n    axios.get(`/task/${taskId}/complete`)\n        .then(res => {\n            dispatch({\n                type: COMPLETE_TASK,\n                payload: {...res.data, taskId: taskId}\n            })\n        })\n        .catch(err => console.log(err))\n};\n\nexport const undoCompleteTask = (taskId) => dispatch => {\n    axios.get(`/task/${taskId}/undo_complete`)\n        .then(res => {\n            dispatch({\n                type: UNDO_COMPLETE_TASK,\n                payload: {...res.data, taskId: taskId}\n            })\n        })\n        .catch(err => console.log(err))\n};\n\nexport const deleteTask = (taskId) => dispatch => {\n    axios.delete(`/task/${taskId}`)\n        .then(() => {\n            dispatch({\n                type: DELETE_TASK, payload: taskId\n            })\n        })\n        .catch(err => console.log(err));\n};\n\nexport const archiveTask = (taskId) => dispatch => {\n    axios.post(`/task/${taskId}`, { isArchived: true })\n        .then(() => {\n            dispatch(getTasks());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const pinTask = (taskId, pinToTop) => dispatch => {\n    axios.post(`/task/${taskId}`, { pinToTop })\n        .then(() => {\n            dispatch(getTasks());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const submitComment = (taskId, commentData) => dispatch => {\n    axios.post(`/task/${taskId}/comment`, commentData)\n        .then(res => {\n            dispatch({\n                type: SUBMIT_COMMENT,\n                payload: res.data\n            });\n            dispatch(clearErrors());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const getUserData = (userHandle) => dispatch => {\n    dispatch({ type: LOADING_DATA });\n    axios.get(`/user/${userHandle}`)\n        .then((res) => {\n            dispatch({\n                type: SET_TASKS,\n                payload: res.data.tasks\n            })\n        })\n        .catch(() => {\n            dispatch({\n                type: SET_TASKS,\n                payload: []\n            });\n        });\n};\n\nexport const clearErrors = () => dispatch => {\n    dispatch({ type: CLEAR_ERRORS })\n};\n\nexport const uploadImageForPost = (taskId, formData) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(`/task/${taskId}/image`, formData)\n        .then(res => {\n            dispatch({\n                type: APPEND_IMAGEURL_TO_ANNOUNCEMENT,\n                payload: res.data.imageUrl\n            })\n        })\n        .catch(err => console.log(err))\n};\n","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport {clearErrors, postTask} from \"../../redux/actions/dataActions\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Icon\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport MyButton from \"../../util/MyButton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    submitButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"right\"\n    },\n    progressSpinner: {\n        position: \"absolute\"\n    }\n});\n\nclass PostTask extends Component {\n    state = {\n        open: false,\n        body: \"\",\n        errors: {}\n    };\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            })\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({\n                body: \"\",\n                open: false\n            });\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({open: true})\n    };\n\n    handleClose = () => {\n        this.props.clearErrors();\n        this.setState({\n            open: false,\n            errors: {}\n        })\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.postTask({body: this.state.body});\n    };\n\n    render() {\n        const { errors } = this.state;\n        const { classes, UI: { loading }} = this.props;\n\n        return (\n            <Fragment>\n                <MyButton\n                    onClick={this.handleOpen}\n                    tip=\"Post an Task!\">\n                    <AddIcon/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogTitle>\n                        Post a new task\n                    </DialogTitle>\n                    <DialogContent>\n                        <form onSubmit={this.handleSubmit}>\n                            <TextField\n                                name={\"body\"}\n                                type=\"text\"\n                                label=\"Content\"\n                                multiline\n                                placeholder=\"Task content with markdown\"\n                                error={!!errors.body}\n                                helperText={errors.body}\n                                className={classes.textField}\n                                onChange={this.handleChange}\n                                fullWidth\n                                rows=\"6\"\n                                rowsMax=\"12\"\n                            />\n                            <Button type=\"submit\" variant=\"contained\"\n                                    color=\"primary\"\n                                    className={classes.submitButton}\n                                    disabled={loading}>\n                                Submit\n                                {loading && (\n                                    <CircularProgress\n                                        size={30}\n                                        className={classes.progressSpinner}\n                                    />\n                                )}\n\n                            </Button>\n                        </form>\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nPostTask.propTypes = {\n    postTask: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { postTask: postTask, clearErrors })(withStyles(styles)(PostTask));\n","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\n\n// MUI stuff\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { Link } from 'react-router-dom';\nimport PropTyes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport MyButton from \"../../util/MyButton\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport PostAnnouncement from \"../task/PostTask\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nconst styles = {};\n\nclass Navbar extends Component {\n    render() {\n        const {\n            authenticated,\n            isAnnouncementProvider\n        } = this.props;\n\n        return (\n            <AppBar>\n                <Toolbar className=\"nav-container\">\n                    {authenticated ? (\n                        <Fragment>\n                            { !!isAnnouncementProvider ? <PostAnnouncement /> : <div/>}\n                            <Link to=\"/\">\n                                <MyButton tip=\"Home\">\n                                    <HomeIcon/>\n                                </MyButton>\n                            </Link>\n                        </Fragment>\n                    ) : (\n                        <Fragment>\n                            <Link to=\"/login\">\n                                <MyButton tip=\"Account login\">\n                                    <AccountCircleIcon />\n                                </MyButton>\n                            </Link>\n                            <Link to=\"/\">\n                                <MyButton tip=\"Home\">\n                                    <HomeIcon/>\n                                </MyButton>\n                            </Link>\n                        </Fragment>\n                    )}\n                </Toolbar>\n            </AppBar>\n        )\n    }\n}\n\nNavbar.propTypes = {\n    authenticated: PropTyes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    authenticated: state.user.authenticated,\n    isAnnouncementProvider: state.user.credentials.isAnnouncementProvider\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Navbar))","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\n\nconst AuthRoute = ({ component: Component, authenticated, ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={(props) => authenticated === true ? <Redirect to='/'/> : <Component {...props}/>}\n        />\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps)(AuthRoute);","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Icon\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ImageIcon from '@material-ui/icons/Image';\n\nimport MyButton from \"../../util/MyButton\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\n// Redux\nimport {getTask, updateTask, clearErrors, uploadImageForPost} from \"../../redux/actions/dataActions\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    avatar: {\n        height: \"80%\",\n        width: \"80%\"\n    },\n    dialogContent: {\n        padding: 20\n    },\n    expandButton: {\n        float: \"right\"\n    },\n    spinnerDiv: {\n        textAlign: \"center\",\n        marginTo: 50,\n        marginBottom: 50\n    },\n    submitButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"right\"\n    },\n    toolButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"left\"\n    },\n});\n\nclass EditTask extends Component {\n    state = {\n        open: false,\n        oldPath: \"\",\n        newPath: \"\",\n        errors: {},\n        body: \"\"\n    };\n\n    constructor(props) {\n        super(props);\n        this.imageButtonRef = React.createRef();\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            })\n        }\n        if (nextProps.task.body) {\n            this.setState({ body: nextProps.task.body })\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.openDialog) {\n            this.handleOpen();\n        }\n    }\n\n    handleOpen = () => {\n        let oldPath = window.location.pathname;\n        const { userHandle, taskId } = this.props;\n        const newPath = `/users/${userHandle}/task/${taskId}`;\n\n        if (oldPath === newPath) {\n            oldPath = `/users/${userHandle}`;\n        }\n        window.history.pushState(null, null, newPath);\n\n        this.setState({ open: true, oldPath, newPath });\n        this.props.getTask(this.props.taskId);\n    };\n\n    handleClose = () => {\n        window.history.pushState(null, null, this.state.oldPath);\n        this.setState({ open: false });\n        this.props.clearErrors();\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.updateTask(this.props.taskId, this.state.body);\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleImageChange = (event) => {\n        const image = event.target.files[0];\n        const formData = new FormData();\n        formData.append(\"image\", image, image.name);\n        this.props.uploadImageForPost(this.props.taskId, formData);\n    };\n\n    handleEditPicture = () => {\n        this.imageButtonRef.current.click();\n    };\n\n    render() {\n        const {\n            classes,\n            UI: { loading }\n        } = this.props;\n\n        const { body, errors } = this.state;\n\n        const dialogMarkup = loading ? (\n            <div className={classes.spinnerDiv}>\n                <CircularProgress size={200}/>\n            </div>\n\n        ) : (\n            <form onSubmit={this.handleSubmit}>\n                <TextField\n                    name={\"body\"}\n                    type=\"text\"\n                    label=\"Content\"\n                    multiline\n                    placeholder=\"Task content with markdown\"\n                    error={!!errors.body}\n                    helperText={errors.body}\n                    className={classes.textField}\n                    onChange={this.handleChange}\n                    fullWidth\n                    value={body}\n                    rows=\"6\"\n                    rowsMax=\"12\"\n                />\n                <input\n                    type=\"file\"\n                    id=\"imageInput\"\n                    hidden=\"hidden\"\n                    onChange={this.handleImageChange}\n                    ref={this.imageButtonRef}\n                />\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.toolButton}\n                    disabled={loading}\n                    onClick={this.handleEditPicture}\n                >\n                    <ImageIcon />\n\n                </Button>\n\n                <Button type=\"submit\" variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submitButton}\n                        disabled={loading}>\n                    Submit\n                    {loading && (\n                        <CircularProgress\n                            size={30}\n                            className={classes.progressSpinner}\n                        />\n                    )}\n\n                </Button>\n            </form>\n        );\n        return (\n            <Fragment>\n                <MyButton onClick={this.handleOpen} tip=\"Edit task\" tipClassName={classes.expandButton}>\n                    <EditIcon color=\"primary\" />\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogContent className={classes.dialogContent}>\n                        {dialogMarkup}\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nEditTask.propTypes = {\n    getTask: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    taskId: PropTypes.string.isRequired,\n    userHandle: PropTypes.string.isRequired,\n    task: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    task: state.data.task,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, {\n    getTask: getTask, updateTask: updateTask, uploadImageForPost, clearErrors })(withStyles(styles)(EditTask));","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n\nimport { connect } from \"react-redux\";\nimport { deleteTask } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\n\nconst styles = {\n\n};\n\nclass DeleteTask extends Component {\n    state = {\n        open: false\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true })\n    };\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    deleteAnnouncement = () => {\n        this.props.deleteAnnouncement(this.props.announcementId);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Delete Task\"\n                          onClick={this.handleOpen}\n                          btnClassName={classes.deleteButton}\n                >\n                    <DeleteOutline color=\"primary\"/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                    >\n                    <DialogTitle>\n                        Are you sure you want to delete this announcement?\n                    </DialogTitle>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.deleteAnnouncement} color=\"secondary\">\n                            Delete\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nDeleteTask.propTypes = {\n    deleteAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { deleteAnnouncement: deleteTask })(withStyles(styles)(DeleteTask));","import React from 'react';\n\nconst ContentIFrame = ({ src }) => {\n    return (\n        <iframe\n            src={src}\n            width=\"100%\"\n            height=\"600px\"\n            id={src}\n        />\n    )\n}\n\nexport default ContentIFrame;\n","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n\nimport { connect } from \"react-redux\";\nimport { archiveTask } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport ArchiveOutline from '@material-ui/icons/ArchiveOutlined';\n\nconst styles = {\n\n};\n\nclass ArchiveButton extends Component {\n    state = {\n        open: false\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true })\n    };\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    archiveAnnouncement = () => {\n        this.props.archiveAnnouncement(this.props.announcementId);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Archive Task\"\n                          onClick={this.handleOpen}\n                          btnClassName={classes.archiveButton}\n                >\n                    <ArchiveOutline color=\"primary\"/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                    >\n                    <DialogTitle>\n                        Are you sure you want to archive this announcement?\n                    </DialogTitle>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.archiveAnnouncement} color=\"secondary\">\n                            Archive\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nArchiveButton.propTypes = {\n    archiveAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { archiveAnnouncement: archiveTask })(withStyles(styles)(ArchiveButton));","export function isListLine(s) {\n    return s.match(/^[0-9]+\\. /) || s.match(/^\\* /)\n}\n\nexport function markdownTextPreProcess(s) {\n    if (!s) {\n        return s;\n    }\n    let bodyFinal = \"\";\n    let prevLine = \"\";\n    s.split(\"\\n\").forEach(rawLine => {\n        const line = rawLine.trim();\n        if (!isListLine(prevLine) && isListLine(line)) {\n            bodyFinal += \"\\n\"\n        }\n        bodyFinal += line;\n        bodyFinal = bodyFinal.replace(/。/g, \" 。\");\n        bodyFinal = bodyFinal.replace(/）/g, \" ） \");\n        bodyFinal = bodyFinal.replace(/（/g, \" （ \");\n        bodyFinal += \"\\n\";\n        prevLine = line;\n    });\n\n    return bodyFinal;\n}","import ShareIcon from '@material-ui/icons/Share';\n\nimport React, {Component} from 'react';\nimport MyButton from \"../../util/MyButton\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\nclass ShareButton extends Component {\n    handleShare = () => {\n        const { announcementId, content } = this.props;\n\n        const shareData = {\n            title: 'H2 App',\n            text: content,\n            url: `${process.env.PUBLIC_URL}?announcementId=${announcementId}`\n        };\n\n        try {\n            navigator.share(shareData);\n            console.log(\"Shared successfully\")\n        } catch(err) {\n            console.log(\"Share failed\")\n        }\n    };\n\n    canShare = () => {\n        try {\n            return navigator.canShare;\n        } catch(err) {\n            return false;\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return this.canShare() ? (\n            <div>\n                <MyButton onClick={this.handleShare} tip=\"Share announcement\" tipClassName={classes.expandButton}>\n                    <ShareIcon color=\"primary\" />\n                </MyButton>\n            </div>) : null;\n    }\n}\n\nexport default withStyles(styles)(ShareButton);","import React, {Component, Fragment} from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\n// MUI\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n// Redux\nimport { connect } from \"react-redux\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    commentData: {\n        marginLeft: 20\n    }\n});\n\nclass Comments extends Component {\n    render() {\n        const { comments, classes } = this.props;\n\n        return (\n            <Grid container>\n                {comments && comments.map(({ body, createdAt, userImage, userHandle }, index) => {\n                    return (\n                        <Fragment key={createdAt}>\n                            <Grid item sm={12}>\n                                <Grid container>\n                                    <Grid item sm={1}>\n                                        <Avatar alt={userHandle} src={userImage} className={classes.avatar} />\n                                    </Grid>\n                                    <Grid item sm={9}>\n                                        <div className={classes.commentData}>\n                                            <Typography\n                                                component={Link}\n                                                to={`/users/${userHandle}`}\n                                                color=\"primary\"\n                                            >\n                                                {userHandle}\n                                            </Typography>\n\n                                            <Typography\n                                                variant=\"body2\"\n                                                color=\"textSecondary\"\n                                                >\n                                                {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\n                                            </Typography>\n                                            <hr className={classes.invisibleSeparator}/>\n                                            <Typography variant=\"body1\">\n                                                {body}\n                                            </Typography>\n                                        </div>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                            {index !== comments.length - 1 && (<hr className={classes.visibleSeparator}/>)}\n                        </Fragment>\n                    )\n                })}\n            </Grid>\n        )\n    }\n}\n\nComments.propTypes = {\n    comments: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    announcement: state.data.announcement,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Comments));","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\n// Icon\n\nimport { submitComment } from \"../../redux/actions/dataActions\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\n\nclass CommentForm extends Component {\n    state = {\n        body: \"\",\n        errors: {}\n    };\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors !== this.state.errors) {\n            this.setState({ errors: nextProps.UI.errors ? nextProps.UI.errors : {}})\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({ body: \"\" })\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.submitComment(this.props.announcementId, {body: this.state.body})\n    };\n\n    render() {\n        const { classes, authenticated } = this.props;\n        const errors = this.state.errors;\n\n        const commentFormMarkup = authenticated ? (\n            <Grid item sm={12} style={{ textAlign: \"center\" }}>\n                <form onSubmit={this.handleSubmit}>\n                    <TextField\n                        name=\"body\"\n                        type=\"text\"\n                        label=\"Comment on announcement\"\n                        error={errors.error ? true : false}\n                        helperText={errors.error}\n                        value={this.state.body}\n                        onChange={this.handleChange}\n                        fullWidth\n                        className={classes.textField}\n                    />\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                        >\n                            Submit\n                        </Button>\n                </form>\n                <hr className={classes.visibleSeparator}/>\n            </Grid>\n        ) : null;\n        return commentFormMarkup;\n    }\n}\n\nCommentForm.propTypes = {\n    submitComment: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired,\n    UI: PropTypes.object.isRequired,\n    authenticated: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI,\n    authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps, { submitComment })(withStyles(styles)(CommentForm));","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\n\n// MUI\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\n// Icon\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport MyButton from \"../../util/MyButton\";\nimport { getTask, clearErrors } from \"../../redux/actions/dataActions\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport Comments from \"./Comments\";\nimport ReactMarkdown from \"react-markdown\";\nimport CommentForm from \"./CommentForm\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Container from \"@material-ui/core/Container\";\nimport {markdownTextPreProcess} from \"../../util/markdown_utils\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    dialogContent: {\n        padding: 20\n    },\n    closeButton: {\n        position: \"absolute\",\n        right: \"0.6rem\",\n        top: \"0.6rem\"\n    },\n    spinnerDiv: {\n        textAlign: \"center\",\n        marginTo: 50,\n        marginBottom: 50\n    },\n    markdownContainer: {\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\"\n    },\n    avatar: {\n        width: \"4rem\",\n        height: \"4rem\"\n    }\n});\n\nclass TaskDialog extends Component {\n    state = {\n        open: false\n    };\n\n    componentDidMount() {\n        if (this.props.openDialog) {\n            this.handleOpen();\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({ open: true});\n        this.props.getTask(this.props.announcementId);\n    };\n\n    handleClose = () => {\n        window.history.pushState(null, null, this.state.oldPath);\n        this.setState({ open: false });\n        this.props.clearErrors();\n    };\n\n    render() {\n        const {\n            classes,\n            task : {\n                body,\n                createdAt,\n                userImage,\n                userHandle,\n                taskId,\n                commentCount,\n                comments\n            },\n            UI: { loading }\n        } = this.props;\n\n        const dialogMarkup = loading ? (\n            <div className={classes.spinnerDiv}>\n                <CircularProgress size={200}/>\n            </div>\n\n        ) : (\n            <Grid container>\n                <Grid item sm={1} className={classes.avatarContainer}>\n                    <Avatar alt={userHandle} src={userImage} className={classes.avatar} />\n                </Grid>\n                <Grid item sm>\n                    <Typography\n                        component={Link}\n                        color=\"primary\"\n                        variant=\"h6\"\n                        to={`/users/${userHandle}`}\n                        >\n                        @{userHandle}\n                    </Typography>\n                    <hr className={classes.invisibleSeparator}/>\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                        {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\n                    </Typography>\n                </Grid>\n                <div className={classes.markdownContainer}>\n                    <hr className={classes.invisibleSeparator}/>\n                    <ReactMarkdown source={markdownTextPreProcess(body)}/>\n                </div>\n\n                <Container>\n                    <MyButton tip=\"comments\">\n                        <ChatIcon color=\"primary\"/>\n                    </MyButton>\n                    <span>{commentCount} comments</span>\n                </Container>\n                <hr className={classes.visibleSeparator} />\n                <CommentForm announcementId={taskId}/>\n                <Comments comments={comments} />\n            </Grid>\n        );\n        return (\n            <Fragment>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogContent className={classes.dialogContent}>\n                        {dialogMarkup}\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nTaskDialog.propTypes = {\n    getTask: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    taskId: PropTypes.string.isRequired,\n    userHandle: PropTypes.string.isRequired,\n    task: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    task: state.data.task,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { getTask: getTask, clearErrors })(withStyles(styles)(TaskDialog));","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport { pinTask } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\nimport VerticalAlignTopIcon from '@material-ui/icons/VerticalAlignTop';\n\nconst styles = {\n\n};\n\nclass PinTask extends Component {\n    state = {\n        open: false\n    };\n\n    togglePinToTop = () => {\n        const { announcementId, pinToTop } = this.props;\n        this.props.pinAnnouncement(announcementId, !pinToTop);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Pin Task to Top\"\n                          onClick={this.togglePinToTop}\n                          btnClassName={classes.pinToTop}\n                >\n\n                        <VerticalAlignTopIcon color={this.props.pinToTop ? \"secondary\" : \"primary\"}/>\n                </MyButton>\n            </Fragment>\n        )\n    }\n}\n\nPinTask.propTypes = {\n    pinAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { pinAnnouncement: pinTask })(withStyles(styles)(PinTask));","import React, { Component } from 'react';\nimport MyButton from \"../../util/MyButton\";\nimport {Link} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport {connect} from \"react-redux\";\nimport {completeTask, undoCompleteTask} from \"../../redux/actions/dataActions\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport CheckCircleOutline from '@material-ui/icons/CheckCircleOutline';\nimport CheckCircle from '@material-ui/icons/CheckCircle';\n\nconst styles = {\n\n};\n\nclass CompleteButton extends Component {\n    taskCompleted = () => {\n        return !!(\n            this.props.user.taskCompletions &&\n            this.props.user.taskCompletions.find(t => t.taskId === this.props.taskId)\n        );\n    };\n    completeTask = () => {\n        this.props.completeTask(this.props.taskId);\n    };\n    undoCompleteTask = () => {\n        this.props.undoCompleteTask(this.props.taskId);\n    };\n\n    render() {\n        const { authenticated } = this.props.user;\n\n        return !authenticated ? (\n            <Link to=\"/login\">\n                <MyButton tip=\"Complete\">\n                    <CheckCircleOutline color=\"primary\"/>\n                </MyButton>\n            </Link>\n        ) : (\n            this.taskCompleted() ? (\n                <MyButton tip=\"Undo Complete\" onClick={this.undoCompleteTask}>\n                    <CheckCircle color=\"primary\"/>\n                </MyButton>\n            ) : (\n                <MyButton tip=\"Complete\" onClick={this.completeTask}>\n                    <CheckCircleOutline color=\"primary\"/>\n                </MyButton>\n            )\n        );\n    }\n}\n\n\nCompleteButton.propTypes = {\n    completeTask: PropTypes.func.isRequired,\n    undoCompleteTask: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    taskId: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = state => ({\n    user: state.user\n});\n\nconst mapActionToProps = { completeTask: completeTask, undoCompleteTask: undoCompleteTask };\n\nexport default connect(mapStateToProps, mapActionToProps)(withStyles(styles)(CompleteButton));","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport clsx from 'clsx';\nimport EditTask from \"./EditTask\";\nimport DeleteTask from \"./DeleteTask\";\nimport ContentIFrame from \"../../util/ContentIFrame\";\n\n// Redux\nimport { connect } from \"react-redux\";\n// MUI\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Card from '@material-ui/core/Card';\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from \"@material-ui/core/Typography\";\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\n\n// Icons\nimport ArchiveButton from \"./ArchiveButton\";\nimport ReactMarkdown from \"react-markdown\";\nimport {markdownTextPreProcess} from \"../../util/markdown_utils\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport ShareButton from \"./ShareButton\";\nimport TaskDialog from \"./TaskDialog\";\nimport PinAnnouncement from \"./PinTask\";\nimport CompleteButton from \"./CompleteButton\";\n\nconst styles = (theme) => ({\n    card: {\n        marginBottom: 20,\n        position: \"relative\",\n    },\n    cardPinToTop: {\n        \"background-color\": \"cornsilk\"\n    },\n    image: {\n        minWidth: 200\n    },\n    content: {\n        padding: 25,\n        objectFit: \"cover\"\n    },\n    actions: {\n        display: \"block\"\n    },\n    markdownContainer: {\n        h2: {\n            fontSize: \"1em\"\n        },\n        '& img': {\n            width: \"100%\"\n        },\n        '& a': {\n            'white-space': \"pre-wrap\",\n            'word-wrap': 'break-word'\n        }\n    }\n});\n\nclass Task extends Component {\n    render() {\n        dayjs.extend(relativeTime);\n\n        const {\n            classes,\n            task: {\n                body,\n                createdAt,\n                userImage,\n                userHandle,\n                taskId,\n                pinToTop\n            },\n            user: {\n                authenticated,\n                credentials: { handle }\n            },\n            openDialog\n        } = this.props;\n\n        const deleteButton = authenticated && userHandle === handle ? (\n            <DeleteTask taskId={taskId}/>\n        ) : null;\n        const editButton = authenticated && userHandle === handle ? (\n            <EditTask\n                taskId={taskId}\n                userHandle={userHandle}\n            />\n        ) : null;\n        const archiveButton = authenticated && userHandle === handle ? (\n            <ArchiveButton taskId={taskId} userHandle={userHandle} />\n        ) : null;\n        const pinButton = authenticated && userHandle === handle ? (\n            <PinAnnouncement taskId={taskId} pinToTop={pinToTop} />\n        ) : null;\n        const shareButton = <ShareButton taskId={taskId} content={body}/>;\n        const completeButton = <CompleteButton taskId={taskId} user={this.props.user}/>;\n        const actionsMarkup = (\n            <ButtonGroup classes={classes.buttonGroup}>\n                {shareButton}\n                {editButton}\n                {pinButton}\n                {archiveButton}\n                {deleteButton}\n                {completeButton}\n            </ButtonGroup>\n        );\n        const userLink = (<Typography\n            component={Link}\n            to={`/users/${userHandle}`}\n            color=\"primary\"\n        >\n            {userHandle}\n        </Typography>);\n\n        let contentMarkup = (\n            <ReactMarkdown\n                source={markdownTextPreProcess(body)}\n                className={classes.markdownContainer}\n            />\n        );\n        if (body.startsWith(\"url:\")) {\n            const url = body.substring(4).trim();\n            contentMarkup = (<ContentIFrame src={url}/>);\n        }\n\n        return (\n            <Card className={clsx(classes.card, {[classes.cardPinToTop]: pinToTop})}>\n                <CardHeader\n                    avatar={\n                        <Avatar\n                            alt={userHandle}\n                            className={classes.avatar}\n                            src={userImage}\n                        >\n                        </Avatar>\n                    }\n                    title={userLink}\n                    subheader={dayjs(createdAt).fromNow()}\n                />\n\n\n                    <CardContent className={classes.content}>\n                        <Typography\n                            id={\"content-\" + taskId}\n                        >\n                            {contentMarkup}\n                        </Typography>\n                    </CardContent>\n\n                <CardActions className={classes.actions}>\n                    {actionsMarkup}\n                </CardActions>\n                <TaskDialog taskId={taskId} openDialog={openDialog}/>\n            </Card>\n        )\n    }\n}\n\nTask.propTypes = {\n    user: PropTypes.object.isRequired,\n    task: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired,\n    openDialog: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    user: state.user\n});\nexport default connect(mapStateToProps)(withStyles(styles)(Task));","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withStyle from '@material-ui/core/styles/withStyles';\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport Grid from \"@material-ui/core/Grid\";\n\nconst styles = (theme) => ({\n    container: {\n        height: \"100%\",\n        position: \"fixed\"\n    },\n    spinnerDiv: {\n        textAlign: \"center\"\n    }\n});\n\nconst TaskSkeleton = (props) => {\n    const { classes } = props;\n    return (\n        <Fragment>\n            <Grid\n                container\n                direction=\"column\"\n                justifyContent=\"center\"\n                alignItems=\"center\"\n                className={classes.container}\n            >\n                <Grid item xs={4} />\n                <Grid item className={classes.spinnerDiv} xs={4}>\n                    <CircularProgress/>\n                </Grid>\n            </Grid>\n\n        </Fragment>\n    );\n};\n\n\nTaskSkeleton.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyle(styles)(TaskSkeleton);","import React, {Component, Fragment} from 'react'\nimport Task from '../components/task/Task';\nimport PropTypes from \"prop-types\";\n\nimport { connect } from \"react-redux\";\nimport { getTasks } from \"../redux/actions/dataActions\";\nimport TaskSkeleton from \"../util/TaskSkeleton\";\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nconst queryString = require('query-string');\n\nclass home extends Component {\n    state = {\n        taskId: null,\n        showCompleted: false\n    };\n\n    taskCompleted(taskId) {\n        return !!(\n            this.props.user.taskCompletions &&\n            this.props.user.taskCompletions.find(t => t.taskId === taskId)\n        );\n    }\n\n    componentDidMount() {\n        this.props.getTasks();\n        const queryParams = queryString.parse(this.props.location.search);\n        const taskId = queryParams.taskId;\n        if (taskId) {\n            this.setState({ taskId: taskId})\n        }\n    }\n\n    onShowCompletedChange = (event) => {\n        this.setState({[event.target.name]: event.target.checked });\n    }\n\n    render() {\n        const { taskId, showCompleted } = this.state;\n        const { tasks, loading } = this.props.data;\n        return !loading ? (\n            <Fragment>\n                <FormGroup row>\n                    <FormControlLabel\n                        control={<Checkbox\n                            checked={showCompleted}\n                            onChange={this.onShowCompletedChange}\n                            name=\"showCompleted\" />}\n                        label=\"Show Completed Tasks\"\n                    />\n                </FormGroup>\n                {\n                    tasks\n                        .filter(t => !t.isArchived && (showCompleted || !this.taskCompleted(t.taskId)))\n                        .map(t => taskId && t.taskId === taskId ?\n                            (<Task key={t.taskId} task={t} openDialog={true}/>) :\n                            (<Task key={t.taskId} task={t}/>))\n                }\n            </Fragment>\n            ) : <TaskSkeleton />;\n    }\n}\n\nhome.propTypes = {\n    getTasks: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired,\n    user: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data,\n    user: state.user\n});\n\nexport default connect(mapStateToProps, { getTasks: getTasks })(home)","export default \"data:image/png;base64,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\"","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTyes from 'prop-types';\n// MUI stuff\nimport AppIcon from '../images/icon.png';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Link } from \"react-router-dom\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { loginUser } from \"../redux/actions/userActions\";\n\nconst styles = (theme) => {\n    return {\n        ...theme.rootStyles\n    };\n};\n\nclass login extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            errors: []\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({errors: nextProps.UI.errors});\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const userData = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        this.props.loginUser(userData, this.props.history)\n    };\n\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    render() {\n        const { classes, UI: { loading } } = this.props;\n        const { errors } = this.state;\n\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <img src={AppIcon} alt=\"h2\" className={classes.image} />\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\n                        Login\n                    </Typography>\n                    <form noValidate onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"email\"\n                            name=\"email\"\n                            label=\"Email\"\n                            className={classes.textField}\n                            helperText={errors.email}\n                            error={!!errors.email}\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"password\"\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.password}\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        {errors.general && (\n                            <Typography variant=\"body2\"\n                                        className={classes.customError}>\n                                {errors.general}\n                            </Typography>\n\n                        )}\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                            disabled={loading}\n                        >\n                            Login\n                            {loading && (\n                                <CircularProgress className={classes.progress} size={30}/>\n                            )}\n                        </Button>\n                        <br/>\n                        <small>don't have an account ? signup <Link to=\"/signup\">here</Link></small>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        )\n    }\n}\n\nlogin.propTypes = {\n    classes: PropTyes.object.isRequired,\n    loginUser: PropTyes.func.isRequired,\n    // user: PropTyes.object.isRequired,\n    UI: PropTyes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    // user: state.user,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { loginUser })(withStyles(styles)(login))","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTyes from 'prop-types';\nimport AppIcon from '../images/icon.png';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Link } from \"react-router-dom\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n// Redux\nimport { connect } from 'react-redux';\nimport { signupUser } from \"../redux/actions/userActions\";\n\nconst styles = (theme) => {\n    return {\n        ...theme.rootStyles\n    };\n};\n\nclass signup extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            confirmPassword: \"\",\n            handle: \"\",\n            errors: []\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({ errors: nextProps.UI.errors });\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.setState({\n            loading: true\n        });\n\n        const newUserData = {\n            email: this.state.email,\n            password: this.state.password,\n            confirmPassword: this.state.confirmPassword,\n            handle: this.state.handle\n        };\n\n        this.props.signupUser(newUserData, this.props.history);\n    };\n\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    render() {\n        const { classes, UI: { loading } } = this.props;\n        const { errors } = this.state;\n\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <img src={AppIcon} alt=\"h2\" className={classes.image} />\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\n                        Signup\n                    </Typography>\n                    <form noValidate onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"email\"\n                            name=\"email\"\n                            label=\"Email\"\n                            className={classes.textField}\n                            helperText={errors.email}\n                            error={!!errors.email}\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"password\"\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.password}\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"confirmPassword\"\n                            name=\"confirmPassword\"\n                            label=\"Confirm Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.confirmPassword}\n                            value={this.state.confirmPassword}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"handle\"\n                            name=\"handle\"\n                            label=\"Username\"\n                            type=\"text\"\n                            className={classes.textField}\n                            helperText={errors.handle}\n                            error={!!errors.handle}\n                            value={this.state.handle}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        {errors.general && (\n                            <Typography variant=\"body2\"\n                                        className={classes.customError}>\n                                {errors.general}\n                            </Typography>\n\n                        )}\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                            disabled={loading}\n                        >\n                            Login\n                            {loading && (\n                                <CircularProgress className={classes.progress} size={30}/>\n                            )}\n                        </Button>\n                        <br/>\n                        <small>Already have an account ? login <Link to=\"/login\">here</Link></small>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        )\n    }\n}\n\nsignup.propTypes = {\n    classes: PropTyes.object.isRequired,\n    user: PropTyes.object.isRequired,\n    UI: PropTyes.object.isRequired,\n    logoutUser: PropTyes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    user: state.user,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { signupUser })(withStyles(styles)(signup));","export default __webpack_public_path__ + \"static/media/no-img.c3f94521.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport NoImg from '../images/no-img.png';\n// MUI\nimport Paper from '@material-ui/core/Paper';\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\n\nconst styles = theme => ({\n    ...theme.rootStyles,\n    handle: {\n        height: 20,\n        backgroundColor: theme.palette.primary.main,\n        width: 60,\n        margin: \"0 auto 7px auto\"\n    },\n    fullLine: {\n        height: 15,\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        width: \"100%\",\n        marginBottom: 10\n    },\n    halfLine: {\n        height: 15,\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        width: \"50%\",\n        marginBottom: 10\n    }\n});\n\nconst ProfileSkeleton = (props) => {\n    const { classes } = props;\n\n    return (\n        <Paper className={classes.paper}>\n            <div className={classes.profile}>\n                <div className=\"image-wrapper\">\n                    <img src={NoImg} alt={\"profile\"} className=\"profile-image\"/>\n                </div>\n                <hr/>\n                <div className=\"profile-details\">\n                    <div className={classes.handle}/>\n                    <hr/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.fullLine}/>\n                    <hr/>\n                    <LocationOn color=\"primary\"/><span>Location</span>\n                    <hr/>\n                    <LinkIcon color=\"primary\"/>https://website.com\n                    <hr/>\n                    <CalendarToday color=\"primary\"/>Join date\n                </div>\n            </div>\n        </Paper>\n    )\n\n};\n\nProfileSkeleton.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ProfileSkeleton);","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { editUserDetails } from \"../../redux/actions/userActions\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// Icon\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MyButton from \"../../util/MyButton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    button: {\n        float: \"right\"\n    }\n});\n\nclass EditDetails extends Component {\n    state = {\n        bio: \"\",\n        website: \"\",\n        location: \"\",\n        open: false\n    };\n\n    componentDidMount() {\n        const { credentials } = this.props;\n        this.mapUserDetailsToState(credentials);\n    }\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    mapUserDetailsToState = (credentials) => {\n        this.setState({\n            bio: credentials.bio ? credentials.bio : \"\",\n            website: credentials.website ? credentials.website : \"\",\n            location: credentials.location ? credentials.location : \"\",\n        })\n    };\n\n    handleOpen = () => {\n        this.setState({open: true});\n        this.mapUserDetailsToState(this.props.credentials);\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = () => {\n        const userDetails = {\n            bio: this.state.bio,\n            website: this.state.website,\n            location: this.state.location,\n        };\n        this.props.editUserDetails(userDetails);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Edit details\" onClick={this.handleOpen} btnClassName={classes.button}>\n                    <EditIcon color=\"primary\"/>\n                </MyButton>\n\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                >\n                    <DialogTitle>Edit your details</DialogTitle>\n                    <DialogContent>\n                        <form>\n                            <TextField\n                                name=\"bio\"\n                                type=\"text\"\n                                label=\"Bio\"\n                                multiline\n                                rows=\"3\"\n                                placeholder=\"A short bio of yourself\"\n                                className={classes.textField}\n                                value={this.state.bio}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"website\"\n                                type=\"text\"\n                                label=\"Website\"\n                                multiline\n                                placeholder=\"Your personal website\"\n                                className={classes.textField}\n                                value={this.state.website}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"location\"\n                                type=\"text\"\n                                label=\"Location\"\n                                multiline\n                                placeholder=\"Where you live\"\n                                className={classes.textField}\n                                value={this.state.location}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                        </form>\n\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.handleSubmit} color=\"primary\">\n                            Submit\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nEditDetails.propTypes = {\n    editUserDetails: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    credentials: state.user.credentials\n});\n\nexport default connect(mapStateToProps, { editUserDetails })(withStyles(styles)(EditDetails));","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport Paper from \"@material-ui/core/Paper\";\nimport MuiLink from '@material-ui/core/Link';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from '@material-ui/core/Typography';\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from \"@material-ui/icons/Edit\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { logoutUser, uploadImage } from \"../../redux/actions/userActions\";\nimport KeyboardReturn from \"@material-ui/icons/KeyboardReturn\";\nimport EditDetails from \"./EditDetails\";\nimport MyButton from \"../../util/MyButton\";\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n        this.imageButtonRef = React.createRef();\n    }\n\n    handleImageChange = (event) => {\n        const image = event.target.files[0];\n        const formData = new FormData();\n        formData.append(\"image\", image, image.name);\n        this.props.uploadImage(formData);\n    };\n\n    handleEditPicture = () => {\n        this.imageButtonRef.current.click();\n    };\n\n    handleLogout = () => {\n        this.props.logoutUser()\n    };\n    render() {\n        const {\n            classes,\n            user: {\n                credentials: { handle, createdAt, imageUrl, bio, website, location },\n                loading,\n                authenticated\n            }\n        } = this.props;\n\n\n        return !loading ? (authenticated ? (\n            <Paper className={classes.paper}>\n                <div className={classes.profile}>\n                    <div className=\"image-wrapper\">\n                        <img src={imageUrl} alt=\"profile\" className=\"profile-image\"/>\n                        <input\n                            type=\"file\"\n                            id=\"imageInput\"\n                            hidden=\"hidden\"\n                            onChange={this.handleImageChange}\n                            ref={this.imageButtonRef}\n                        />\n                        <MyButton\n                            tip=\"Edit profile picture\"\n                            onClick={this.handleEditPicture}\n                            btnClassName=\"button\"\n                        >\n                            <EditIcon color=\"primary\"/>\n                        </MyButton>\n\n                    </div>\n                    <hr/>\n                    <div className=\"profile-details\">\n                        <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\n                            @{handle}\n                        </MuiLink>\n                        {bio && <Typography variant=\"body2\">{bio}</Typography> }\n                        <hr />\n                        {location && (\n                            <Fragment>\n                                <LocationOn color=\"primary\"/>\n                                <span>{location}</span>\n                            </Fragment>\n\n                        )}\n                        <hr />\n                        {website && (\n                            <Fragment>\n                                <LinkIcon color=\"primary\" />\n                                <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    {\"  \"}{website}\n                                </a>\n                            </Fragment>\n                        )}\n                        <hr />\n                        <CalendarToday color=\"primary\" />{\"  \"}\n                        <span>Joined {dayjs(createdAt).format(\"MMM YYYY\")}</span>\n                    </div>\n                </div>\n                <Tooltip title=\"Logout\" placement=\"top\">\n                    <MyButton\n                        tip=\"Logout\"\n                        onClick={this.handleLogout}\n                    >\n                        <KeyboardReturn color=\"primary\"/>\n                    </MyButton>\n\n                </Tooltip>\n\n                <EditDetails />\n            </Paper>\n        ) : (\n\n            <Paper className={classes.paper}>\n                <Typography variant=\"body2\" aligh=\"center\">\n                    No profile found, please login again\n                </Typography>\n                <div className={classes.buttons}>\n                    <Button variant=\"contained\" color=\"primary\" component={Link} to={\"/login\"}>\n                        Login\n                    </Button>\n                    <Button variant=\"contained\" color=\"secondary\" component={Link} to={\"/signup\"}>\n                        Signup\n                    </Button>\n                </div>\n            </Paper>\n        )) : (<ProfileSkeleton />);\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user\n});\n\nProfile.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    uploadImage: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired\n};\nexport default connect(mapStateToProps, { logoutUser, uploadImage })(withStyles(styles)(Profile));","import React, { Component } from 'react'\nimport PropTyes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\n// Redux\nimport { connect } from 'react-redux';\nimport { getUserData } from \"../redux/actions/dataActions\";\nimport axios from \"axios\";\nimport Task from \"../components/task/Task\";\nimport TaskSkeleton from \"../util/TaskSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\nimport Profile from \"../components/profile/Profile\";\n\nclass user extends Component {\n    state = {\n        profile: {},\n        taskIdParam: null\n    };\n\n    componentDidMount() {\n        const handle = this.props.match.params.handle;\n        const taskId = this.props.match.params.taskId;\n\n        if (taskId) {\n            this.setState({ taskIdParam: taskId})\n        }\n        this.props.getUserData(handle);\n        axios.get(`/user/${handle}`)\n            .then(res => {\n                this.setState({\n                    profile: res.data.user\n                })\n            })\n            .catch(err => console.log(err))\n    }\n\n    render() {\n        const { tasks, loading } = this.props.data;\n        const { taskIdParam } = this.state;\n\n        const tasksMarkup = loading ? (\n            <TaskSkeleton />\n            ) : tasks === null ? (\n                <p>No tasks from this user</p>\n            ) : !taskIdParam ? (\n                tasks.map(ann => <Task key={ann.taskId} task={ann} />)\n            ) : (\n                tasks.map(ann => {\n                    if (ann.taskId !== taskIdParam) {\n                        return <Task key={ann.taskId} task={ann} />;\n                    } else {\n                        return <Task key={ann.taskId} task={ann} openDialog={true} />;\n                    }\n\n                })\n            );\n        return (\n            <Grid container spacing={10}>\n                <Grid item sm={8} xs={12}>\n                    {tasksMarkup}\n                </Grid>\n                <Grid item sm={4} xs={12}>\n                    {!this.state.profile ? (\n                        <ProfileSkeleton />\n                    ) : (\n                        <Profile />\n                    )}\n                </Grid>\n            </Grid>\n        )\n    }\n}\n\nuser.propTypes = {\n    data: PropTyes.object.isRequired,\n    getUserData: PropTyes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { getUserData })(user);","export const transpose = m => m[0].map((x,i) => m.map(x => x[i]))\n","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n// Redux\nimport { connect } from \"react-redux\";\n\nimport { Calendar as RBCalendar, Views, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport {csvToArray} from \"../../util/csv_utils\";\nimport {transpose} from \"../../util/array_utils\";\n\nconst now = new Date()\n\nconst localizer = momentLocalizer(moment)\nconst styles = () => ({\n    container: {\n    },\n    eventContent: {\n        'white-space': 'pre-wrap'\n    },\n    eventWrapper: {\n    },\n    eventWrapperNoLabel: {\n        '& .rbc-event-label': {\n            display: \"none\"\n        }\n    }\n});\n\nconst CAL_DATA_SRC_CSV = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQvXCDvZBgp4hm89EvIzlKfiJpbkZDaK5dFYqVYYDJUZ4zGknXkOeUaT5xlGk5pyfL3G8Qfrp2TDZxJ/pub?output=csv'\nconst DATE_RE = /(\\d{2})\\/(\\d{2})\\/(\\d{4})/g;\nclass Calendar extends Component {\n    state = {\n        view: Views.WEEK,\n        events: []\n    };\n\n    componentDidMount() {\n        fetch(CAL_DATA_SRC_CSV)\n            .then((rsp) => {\n                return rsp.text();\n            })\n            .then((text) => {\n                const eventsRaw = transpose(csvToArray(text)).flat()\n                const events = [];\n                eventsRaw.forEach((d, i) => {\n                    if (d.match(DATE_RE)) {\n                        const m = DATE_RE.exec(d)\n                        const eventMo = parseInt(m[1]);\n                        const eventDa = parseInt(m[2]);\n                        const eventYr = parseInt(m[3]);\n                        let eventTitle = eventsRaw[i + 1];\n                        if (!!eventTitle) {\n                            let start = new Date(eventYr, eventMo - 1, eventDa);\n                            let end = new Date(eventYr, eventMo - 1, eventDa);\n                            if (eventTitle.includes(\"预查带领\")) {\n                                eventTitle = \"预查\\n\" + eventTitle\n                                start = new Date(eventYr, eventMo - 1, eventDa, 11, 15, 0);\n                                end = new Date(eventYr, eventMo - 1, eventDa, 12, 15, 0);\n                            } else if (eventTitle.includes(\"诗歌带领\")) {\n                                eventTitle = \"团契查经\\n\" + eventTitle\n                                start = new Date(eventYr, eventMo - 1, eventDa, 19, 20, 0);\n                                end = new Date(eventYr, eventMo - 1, eventDa, 21, 30, 0);\n                            }\n                            const event = {\n                                id: i,\n                                title: eventTitle,\n                                start: start,\n                                end: end,\n                            }\n                            events.push(event);\n                        }\n                    }\n                })\n                this.setState({events});\n            })\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { events } = this.state;\n\n        let allViews = [Views.MONTH, Views.WEEK, Views.DAY, Views.AGENDA]\n\n        const titleAccessor = (event) => {\n            if (this.state.view === Views.MONTH) {\n                const titleLines = event.title.split(\"\\n\")\n                return (\n                    <div className={classes.eventContent}>\n                        {titleLines[0]}\n                    </div>\n                );\n            }\n            return (\n                <div className={classes.eventContent}>\n                    {event.title}\n                </div>\n            );\n        };\n\n        const eventWrapper = eventWrapperProps => {\n            const eventTimeMin = Math.floor( (eventWrapperProps.event.end - eventWrapperProps.event.start) / (1000*60))\n            return (\n                <div className={eventTimeMin < 60 ? classes.eventWrapperNoLabel : classes.eventWrapper}>\n                    {eventWrapperProps.children}\n                </div>\n            )\n        };\n\n        return <>\n\n            <div className={classes.container}>\n                <RBCalendar\n                    events={events}\n                    views={allViews}\n                    defaultView={Views.WEEK}\n                    step={60}\n                    defaultDate={now}\n                    // components={{\n                    //     timeSlotWrapper: ColoredDateCellWrapper\n                    // }}\n                    components={{\n                        eventWrapper: eventWrapper\n                    }}\n                    localizer={localizer}\n                    style={{ height: 1000 }}\n                    titleAccessor={titleAccessor}\n                    onView={(view) => {\n                        this.setState({view: view})\n                    }}\n                    min={moment('6:00am', 'h:mma').toDate()}\n                />\n            </div>\n        </>\n    }\n}\n\nCalendar.propTypes = {\n    user: PropTypes.object.isRequired,\n    announcement: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired,\n    openDialog: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    user: state.user\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Calendar));","export function csvToArray(text) {\n    let p = '', row = [''], ret = [row], i = 0, r = 0, s = !0, l;\n    for (l of text) {\n        if ('\"' === l) {\n            if (s && l === p) row[i] += l;\n            s = !s;\n        } else if (',' === l && s) l = row[++i] = '';\n        else if ('\\n' === l && s) {\n            if ('\\r' === p) row[i] = row[i].slice(0, -1);\n            row = ret[++r] = [l = '']; i = 0;\n        } else row[i] += l;\n        p = l;\n    }\n    return ret;\n}","import React, { Component } from 'react'\nimport PropTypes from \"prop-types\";\n\nimport { connect } from \"react-redux\";\nimport { getTasks } from \"../redux/actions/dataActions\";\n\nimport Calendar from '../components/calendar/Calendar';\n\nclass calendar extends Component {\n    render() {\n        return <>\n            <Calendar/>\n        </>\n    }\n}\n\ncalendar.propTypes = {\n    getAnnouncements: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data\n});\n\nexport default connect(mapStateToProps, { getAnnouncements: getTasks })(calendar)","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport themeFile from './util/theme';\nimport axios from 'axios';\n\n// Redux\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { getUserData } from \"./redux/actions/userActions\";\n\n// Components\nimport Navbar from './components/layout/Navbar';\nimport AuthRoute from './util/AuthRoute';\n\n// Pages\nimport home from './pages/home';\nimport login from './pages/login';\nimport signup from './pages/signup';\nimport user from './pages/user';\nimport calendar from \"./pages/calendar\";\n// This import loads the firebase namespace along with all its type information.\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport { setAuthorizationHeader } from \"./util/auth\";\n\nconst theme = createMuiTheme(themeFile);\n\n// // Initialize Firebase\n// firebase.initializeApp({apiKey: \"AIzaSyCCx9TDJtVzEaPym1OyU5KSuWgwslGDzEY\"});\nif (!firebase.apps.length) {\n    firebase.initializeApp({apiKey: \"AIzaSyCCx9TDJtVzEaPym1OyU5KSuWgwslGDzEY\"});\n    // firebase.initializeApp({});\n}else {\n    firebase.app(); // if already initialized, use that one\n}\n\nfirebase.auth().onAuthStateChanged(usr => {\n    if (usr) {\n        usr.getIdToken().then(token => {\n            setAuthorizationHeader(token);\n            store.dispatch(getUserData());\n        })\n    }\n});\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL\n\nfunction App() {\n  return (\n      <MuiThemeProvider theme={theme}>\n          <Provider store={store}>\n              <Router basename={process.env.PUBLIC_URL}>\n                  <Navbar/>\n                  <div className=\"container\">\n                      <Switch>\n                          <Route exact path=\"/\" component={home} />\n                          <AuthRoute exact path=\"/login\" component={login}/>\n                          <AuthRoute exact path=\"/signup\" component={signup}/>\n                          <Route exact path=\"/users/:handle\" component={user}/>\n                          <Route exact path=\"/users/:handle/announcement/:announcementId\" component={user}/>\n                          <Route exact path=\"/cal\" component={calendar} />\n                      </Switch>\n                  </div>\n              </Router>\n          </Provider>\n      </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}