{"version":3,"sources":["util/theme.js","redux/types.js","redux/reducers/userReducers.js","redux/reducers/dataReducers.js","redux/reducers/uiReducers.js","redux/store.js","util/auth.js","redux/actions/userActions.js","util/MyButton.js","redux/actions/dataActions.js","components/announcement/PostAnnouncement.js","components/layout/Notifications.js","components/layout/Navbar.js","util/AuthRoute.js","components/announcement/EditAnnouncement.js","components/announcement/DeleteAnnouncement.js","components/announcement/ArchiveAnnouncement.js","util/markdown_utils.js","components/announcement/ShareButton.js","components/announcement/Comments.js","components/announcement/CommentForm.js","components/announcement/AnnouncementDialog.js","components/announcement/PinAnnouncement.js","components/announcement/Announcement.js","images/no-img.png","util/AnnouncementSkeleton.js","pages/home.js","images/icon.png","pages/login.js","pages/signup.js","util/ProfileSkeleton.js","components/profile/EditDetails.js","components/profile/Profile.js","pages/user.js","util/array_utils.js","components/calendar/Calendar.js","util/csv_utils.js","pages/calendar.js","App.js","serviceWorker.js","index.js"],"names":["theme","palette","primary","light","main","dark","contrastText","secondary","typography","useNextVariants","rootStyles","form","textAlign","image","margin","pageTitle","textField","button","marginTop","position","customError","color","fontSize","progress","invisibleSeparator","border","visibleSeparator","width","borderBottom","marginBottom","paper","padding","profile","top","left","height","objectFit","maxWidth","borderRadius","verticalAlign","cursor","buttons","closeButton","right","SET_AUTHENTICATED","SET_UNAUTHENTICATED","SET_USER","LOADING_USER","MARK_NOTIFCATIONS_READ","SET_ERRORS","LOADING_DATA","LOADING_UI","CLEAR_ERRORS","STOP_LOADING_UI","SET_ANNOUNCEMENTS","SET_ANNOUNCEMENT","APPEND_IMAGEURL_TO_ANNOUNCEMENT","LIKE_ANNOUNCEMENT","UNLIKE_ANNOUNCEMENT","DELETE_ANNOUNCEMENT","POST_ANNOUNCEMENT","SUBMIT_COMMENT","initialState","authenticated","credentials","likes","notifications","loading","userReducers","state","action","type","payload","userHandle","handle","announcementId","filter","like","forEach","n","read","announcements","announcement","reducers","topItems","e","pinToTop","regularItems","body","index","findIndex","ann","deleteIdx","splice","comments","initalState","errors","uiReducers","middleware","thunk","combineReducers","user","userReducer","data","dataReducer","UI","uiReducer","store","createStore","compose","applyMiddleware","setAuthorizationHeader","token","axios","defaults","headers","common","getUserData","dispatch","get","then","res","catch","err","console","log","response","MyButton","children","onClick","tip","btnClassName","tipClassName","Tooltip","title","placement","className","IconButton","getAnnouncements","map","s","getAnnouncement","clearErrors","PostAnnouncement","open","handleOpen","setState","handleClose","props","handleChange","event","target","name","value","handleSubmit","preventDefault","postAnnouncement","nextProps","nextContext","this","classes","Dialog","onClose","fullWidth","DialogTitle","DialogContent","onSubmit","TextField","label","multiline","placeholder","error","helperText","onChange","rows","rowsMax","Button","variant","submitButton","disabled","CircularProgress","size","progressSpinner","Component","connect","newAnnouncement","post","withStyles","float","Notifications","anchorEl","onMenuOpened","unreadNotificationIds","notificationId","markNotificationsRead","notificationIcon","dayjs","extend","relativeTime","length","unreadCount","Badge","badgeContent","notificationsMarkup","verb","time","createdAt","fromNow","iconColor","icon","style","marginRight","MenuItem","key","Typography","component","Link","to","recipient","sender","aria-owns","undefined","aria-haspopup","Menu","Boolean","onEntered","notificationIds","Navbar","isAnnouncementProvider","calButton","AppBar","Toolbar","rest","render","EditAnnouncement","oldPath","newPath","window","location","pathname","history","pushState","updateAnnouncement","handleImageChange","files","formData","FormData","append","uploadImageForPost","handleEditPicture","imageButtonRef","current","click","React","createRef","openDialog","dialogMarkup","spinnerDiv","id","hidden","ref","toolButton","expandButton","dialogContent","imageUrl","avatar","marginTo","DeleteAnnouncement","deleteAnnouncement","deleteButton","DialogActions","delete","ArchiveAnnouncement","archiveAnnouncement","archiveButton","isArchived","isListLine","match","markdownTextPreProcess","bodyFinal","prevLine","split","rawLine","line","trim","replace","ShareButton","handleShare","shareData","text","content","url","process","navigator","share","canShare","Comments","Grid","container","userImage","item","sm","Avatar","alt","src","commentData","format","marginLeft","CommentForm","submitComment","AnnouncementDialog","commentCount","avatarContainer","markdownContainer","source","Container","display","overflow","PinAnnouncement","togglePinToTop","pinAnnouncement","Announcement","editButton","pinButton","shareButton","actionsMarkup","ButtonGroup","buttonGroup","userLink","Card","clsx","card","cardPinToTop","CardHeader","subheader","CardContent","CardActions","actions","minWidth","h2","withStyle","cardContent","flexDirection","cover","backgroundColor","date","fullLine","halfLine","Array","from","CardMedia","NoImg","queryString","require","home","parse","search","login","userData","email","password","loginUser","AppIcon","noValidate","general","firebase","auth","signInWithEmailAndPassword","getIdToken","idToken","push","signup","newUserData","confirmPassword","signupUser","Paper","EditDetails","bio","website","mapUserDetailsToState","userDetails","editUserDetails","Profile","uploadImage","handleLogout","logoutUser","href","rel","aligh","signOut","announcementIdParam","params","announcementsMarkup","spacing","xs","now","Date","localizer","momentLocalizer","moment","DATE_RE","Calendar","view","Views","WEEK","events","fetch","rsp","m","eventsRaw","l","p","row","ret","i","r","slice","csvToArray","x","flat","d","exec","eventMo","parseInt","eventDa","eventYr","eventTitle","start","end","includes","allViews","MONTH","DAY","AGENDA","views","defaultView","step","defaultDate","components","eventWrapper","eventWrapperProps","eventTimeMin","Math","floor","eventWrapperNoLabel","titleAccessor","titleLines","eventContent","onView","min","toDate","calendar","createMuiTheme","themeFile","initializeApp","apiKey","onAuthStateChanged","usr","baseURL","App","basename","exact","path","hostname","ReactDOM","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.8bb22834.chunk.js","sourcesContent":["const theme = {\n    palette: {\n        primary: {\n            light: '#33c9dc',\n            main: '#00bcd4',\n            dark: '#008394',\n            contrastText: '#fff'\n        },\n        secondary: {\n            light: '#ff6333',\n            main: '#ff3d00',\n            dark: '#b22a00',\n            contrastText: '#fff'\n        }\n    },\n    typography: {\n        useNextVariants: true\n    },\n    rootStyles: {\n        form: {\n            textAlign: 'center'\n        },\n        image: {\n            margin: \"20px auto 20px auto\"\n        },\n        pageTitle: {\n            margin: \"10px auto 10px auto\"\n        },\n        textField: {\n            margin: \"10px auto 10px auto\"\n        },\n        button: {\n            marginTop: 20,\n            position: 'relative'\n        },\n        customError: {\n            color: 'red',\n            fontSize: \"0.8rem\",\n            marginTop: 10\n        },\n        progress: {\n            position: 'absolute'\n        },\n        invisibleSeparator: {\n            border: \"none\",\n            margin: 4\n        },\n        visibleSeparator: {\n            width: \"100%\",\n            borderBottom: \"1px solid rgba(0, 0, 0, 0.1)\",\n            marginBottom: 20\n        },\n        paper: {\n            padding: 20\n        },\n        profile: {\n            '& .image-wrapper': {\n                textAlign: 'center',\n                position: 'relative',\n                '& button': {\n                    position: 'absolute',\n                    top: '80%',\n                    left: '70%'\n                }\n            },\n            '& .profile-image': {\n                width: 200,\n                height: 200,\n                objectFit: 'cover',\n                maxWidth: '100%',\n                borderRadius: '50%'\n            },\n            '& .profile-details': {\n                textAlign: 'center',\n                '& span, svg': {\n                    verticalAlign: 'middle'\n                },\n                '& a': {\n                    color: '#00bcd4'\n                }\n            },\n            '& hr': {\n                border: 'none',\n                margin: '0 0 10px 0'\n            },\n            '& svg.button': {\n                '&:hover': {\n                    cursor: 'pointer'\n                }\n            }\n        },\n        buttons: {\n            textAlign: 'center',\n            '& a': {\n                margin: '20px 10px'\n            }\n        },\n        closeButton: {\n            position: \"absolute\",\n            right: \"0.2rem\",\n            top: \"0.4rem\"\n        }\n    }\n};\n\nexport default theme;","// User reducer types\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\nexport const SET_USER = \"SET_USER\";\nexport const LOADING_USER = \"LOADING_USER\";\nexport const MARK_NOTIFCATIONS_READ = \"MARK_NOTIFCATIONS_READ\";\n// UI reducer types\nexport const SET_ERRORS = \"SET_ERRORS\";\nexport const LOADING_DATA = \"LOADING_DATA\";\nexport const LOADING_UI = \"LOADING_UI\";\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\nexport const STOP_LOADING_UI = \"STOP_LOADING_UI\";\n// Data reducer types\nexport const SET_ANNOUNCEMENTS = \"SET_ANNOUNCEMENTS\";\nexport const SET_ANNOUNCEMENT = \"SET_ANNOUNCEMENT\";\nexport const APPEND_IMAGEURL_TO_ANNOUNCEMENT = \"APPEND_IMAGEURL_TO_ANNOUNCEMENT\";\nexport const LIKE_ANNOUNCEMENT = \"LIKE_ANNOUNCEMENT\";\nexport const UNLIKE_ANNOUNCEMENT = \"UNLIKE_ANNOUNCEMENT\";\nexport const DELETE_ANNOUNCEMENT = \"DELETE_ANNOUNCEMENT\";\nexport const POST_ANNOUNCEMENT = \"POST_ANNOUNCEMENT\";\nexport const SUBMIT_COMMENT = \"SUBMIT_COMMENT\";","import {\n    SET_USER,\n    LOADING_USER,\n    SET_AUTHENTICATED,\n    SET_UNAUTHENTICATED,\n    LIKE_ANNOUNCEMENT,\n    UNLIKE_ANNOUNCEMENT,\n    MARK_NOTIFCATIONS_READ\n} from \"../types\";\n\nconst initialState = {\n    authenticated: false,\n    credentials: {},\n    likes: [],\n    notifications: [],\n    loading: false\n};\n\nconst userReducers = function(state = initialState, action) {\n    switch (action.type) {\n        case SET_AUTHENTICATED:\n            return {\n                ...state,\n                authenticated: true\n            };\n        case SET_UNAUTHENTICATED:\n            return initialState;\n        case SET_USER:\n            return {\n                loading: false,\n                authenticated: true,\n                ...action.payload\n            };\n        case LOADING_USER:\n            return {\n                ...state,\n                loading: true\n            };\n        case LIKE_ANNOUNCEMENT:\n            return {\n                ...state,\n                likes: [\n                    ...state.likes,\n                    {\n                        userHandle: state.credentials.handle,\n                        announcementId: action.payload.announcementId\n                    }\n                ]\n            };\n        case UNLIKE_ANNOUNCEMENT:\n            return {\n                ...state,\n                likes: state.likes.filter(like => like.announcementId !== action.payload.announcementId)\n            };\n        case MARK_NOTIFCATIONS_READ:\n            state.notifications.forEach(n => n.read = true);\n            return {...state};\n        default:\n            return state\n    }\n}\n\nexport default userReducers;","import {\n    SET_ANNOUNCEMENTS,\n    LIKE_ANNOUNCEMENT,\n    UNLIKE_ANNOUNCEMENT,\n    LOADING_DATA,\n    DELETE_ANNOUNCEMENT,\n    POST_ANNOUNCEMENT,\n    SET_ANNOUNCEMENT,\n    SUBMIT_COMMENT, APPEND_IMAGEURL_TO_ANNOUNCEMENT\n} from \"../types\";\n\nconst initialState = {\n    announcements: [],\n    announcement: {},\n    loading: false\n};\n\nconst reducers = function(state = initialState, action) {\n    switch (action.type) {\n        case LOADING_DATA:\n            return {\n                ...state,\n                loading: true\n            };\n        case SET_ANNOUNCEMENTS:\n            const topItems = action.payload.filter(e => !!e.pinToTop);\n            const regularItems = action.payload.filter(e => !e.pinToTop);\n\n            return {\n                ...state,\n                announcements: [\n                    ...topItems,\n                    ...regularItems\n                ],\n                loading: false\n            };\n        case SET_ANNOUNCEMENT:\n            return {\n                ...state,\n                announcement: action.payload\n            };\n        case APPEND_IMAGEURL_TO_ANNOUNCEMENT:\n            return {\n                ...state,\n                announcement: {\n                    ...state.announcement,\n                    body: `${state.announcement.body}\\n\\n![](${action.payload})`\n                }\n            };\n        case LIKE_ANNOUNCEMENT:\n        case UNLIKE_ANNOUNCEMENT:\n            let index = state.announcements\n                .findIndex((ann) => ann.announcementId === action.payload.announcementId);\n            state.announcements[index] = action.payload;\n            if(state.announcement.announcementId === action.payload.announcementId) {\n                state.announcement = {\n                    ...state.announcement,\n                    ...action.payload\n                }\n            }\n            return {\n                ...state\n            };\n        case DELETE_ANNOUNCEMENT:\n            let deleteIdx = state.announcements.findIndex(ann => ann.announcementId === action.payload);\n            state.announcements.splice(deleteIdx, 1);\n            return {\n                ...state\n            };\n        case POST_ANNOUNCEMENT:\n            return {\n                ...state,\n                announcements: [\n                    action.payload,\n                    ...state.announcements\n                ]\n            };\n        case SUBMIT_COMMENT:\n            return {\n                ...state,\n                announcement: {\n                    ...state.announcement,\n                    comments: [\n                        action.payload,\n                        ...state.announcement.comments\n                    ]\n                }\n            };\n        default:\n            return state;\n    }\n}\n\nexport default reducers;","import {SET_ERRORS, CLEAR_ERRORS, LOADING_UI, STOP_LOADING_UI} from \"../types\";\n\nconst initalState = {\n    loading: false,\n    errors: null\n};\n\nconst uiReducers = function (state = initalState, action) {\n    switch (action.type) {\n        default:\n            return state;\n        case SET_ERRORS:\n            return {\n                ...state,\n                loading: false,\n                errors: action.payload\n            };\n        case CLEAR_ERRORS:\n            return {\n                ...state,\n                loading: false,\n                errors: null\n            };\n        case LOADING_UI:\n            return {\n                ...state,\n                loading: true\n            };\n        case STOP_LOADING_UI:\n            return {\n                ...state,\n                loading: false\n            };\n    }\n}\n\nexport default uiReducers;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport userReducer from './reducers/userReducers';\nimport dataReducer from './reducers/dataReducers';\nimport uiReducer from './reducers/uiReducers';\n\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst reducers = combineReducers({\n    user: userReducer,\n    data: dataReducer,\n    UI: uiReducer\n});\n\nconst store = createStore(reducers, initialState, compose(applyMiddleware(...middleware)));\n\nexport default store;","import axios from \"axios\";\n\nexport const setAuthorizationHeader = (token) => {\n    axios.defaults.headers.common[\"Authentication\"] = `Bearer ${token}`;\n};","import {\n    CLEAR_ERRORS,\n    LOADING_UI,\n    LOADING_USER,\n    MARK_NOTIFCATIONS_READ,\n    SET_ERRORS,\n    SET_UNAUTHENTICATED,\n    SET_USER\n} from \"../types\";\nimport axios from \"axios\";\nimport firebase from \"firebase/app\";\nimport { setAuthorizationHeader } from \"../../util/auth\";\n\nexport const loginUser = (userData, history) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    firebase.auth().signInWithEmailAndPassword(userData.email, userData.password)\n        .then(res => res.user.getIdToken())\n        .then(idToken => {\n            setAuthorizationHeader(idToken);\n            dispatch(getUserData());\n            dispatch({ type: CLEAR_ERRORS });\n            history.push('/');\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const getUserData = () => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.get('/user')\n        .then(res => {\n            dispatch({\n                type: SET_USER,\n                payload: res.data\n            })\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const signupUser = (newUserData, history) => (dispatch) => {\n    dispatch({ type: LOADING_UI });\n    axios.post('/signup', newUserData)\n        .then(res => {\n            const data = res.data;\n            setAuthorizationHeader(data.token);\n            dispatch(getUserData());\n            dispatch({ type: CLEAR_ERRORS });\n            history.push('/');\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const logoutUser = () => (dispatch) => {\n    firebase.auth().signOut().then(() => {\n        dispatch({ type: SET_UNAUTHENTICATED })\n    })\n};\n\nexport const uploadImage = (formData) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(\"/user/image\", formData)\n        .then(res => {\n            dispatch(getUserData())\n        })\n        .catch(err => console.log(err))\n};\n\nexport const editUserDetails = (userDetails) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(\"/user\", userDetails)\n        .then(() => {\n            dispatch(getUserData());\n        })\n        .catch(err => console.log(err));\n};\n\nexport const markNotificationsRead = (notificationIds) => dispatch => {\n    axios.post(\"/notifications\", notificationIds)\n        .then(res => {\n            dispatch({\n                type: MARK_NOTIFCATIONS_READ\n            });\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n};","import React from 'react';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst MyButton = ({ children, onClick, tip, btnClassName, tipClassName }) => {\n    return (\n        <Tooltip title={tip} placement=\"top\" className={tipClassName}>\n            <IconButton onClick={onClick} className={btnClassName}>\n                {children}\n            </IconButton>\n        </Tooltip>\n\n    )\n}\n\nexport default MyButton;\n","import {\n    SET_ANNOUNCEMENTS,\n    LOADING_DATA,\n    LIKE_ANNOUNCEMENT,\n    UNLIKE_ANNOUNCEMENT,\n    DELETE_ANNOUNCEMENT,\n    CLEAR_ERRORS,\n    SET_ERRORS,\n    LOADING_UI,\n    POST_ANNOUNCEMENT,\n    SET_ANNOUNCEMENT,\n    STOP_LOADING_UI,\n    SUBMIT_COMMENT,\n    LOADING_USER,\n    APPEND_IMAGEURL_TO_ANNOUNCEMENT\n} from \"../types\";\nimport axios from 'axios';\n\nexport const getAnnouncements = () => dispatch => {\n    dispatch({ type: LOADING_DATA });\n    axios.get(\"/announcements\")\n        .then(res => {\n            dispatch({\n                type: SET_ANNOUNCEMENTS,\n                payload: res.data.map(s => ({...s, announcementId: s.announcementId}))\n            })\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ANNOUNCEMENTS,\n                payload: []\n            })\n\n        })\n};\n\nexport const getAnnouncement = (announcementId) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.get(`/announcement/${announcementId}`)\n        .then(res => {\n            dispatch({\n                type: SET_ANNOUNCEMENT,\n                payload: {...res.data, announcementId: res.data.announcementId}\n            });\n            dispatch({\n                type: STOP_LOADING_UI\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n};\n\nexport const postAnnouncement = (newAnnouncement) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.post(\"/announcement\", newAnnouncement)\n        .then(res => {\n            dispatch({\n                type: POST_ANNOUNCEMENT,\n                payload: {...res.data, announcementId: res.data.announcementId}\n            });\n            dispatch(clearErrors())\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const updateAnnouncement = (announcementId, body) => dispatch => {\n    dispatch({ type: LOADING_UI });\n    axios.post(`/announcement/${announcementId}`, { body: body })\n        .then(() => {\n            dispatch(getAnnouncements());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const likeAnnouncement = (announcementId) => dispatch => {\n    axios.get(`/announcement/${announcementId}/like`)\n        .then(res => {\n            dispatch({\n                type: LIKE_ANNOUNCEMENT,\n                payload: {...res.data, announcementId: res.data.announcementId}\n            })\n        })\n        .catch(err => console.log(err))\n};\n\nexport const unlikeAnnouncement = (announcementId) => dispatch => {\n    axios.get(`/announcement/${announcementId}/unlike`)\n        .then(res => {\n            dispatch({\n                type: UNLIKE_ANNOUNCEMENT,\n                payload: {...res.data, announcementId: res.data.announcementId}\n            })\n        })\n        .catch(err => console.log(err))\n};\n\nexport const deleteAnnouncement = (announcementId) => dispatch => {\n    axios.delete(`/announcement/${announcementId}`)\n        .then(() => {\n            dispatch({\n                type: DELETE_ANNOUNCEMENT, payload: announcementId\n            })\n        })\n        .catch(err => console.log(err));\n};\n\nexport const archiveAnnouncement = (announcementId) => dispatch => {\n    axios.post(`/announcement/${announcementId}`, { isArchived: true })\n        .then(() => {\n            dispatch(getAnnouncements());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const pinAnnouncement = (announcementId, pinToTop) => dispatch => {\n    axios.post(`/announcement/${announcementId}`, { pinToTop })\n        .then(() => {\n            dispatch(getAnnouncements());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        });\n};\n\nexport const submitComment = (announcementId, commentData) => dispatch => {\n    axios.post(`/announcement/${announcementId}/comment`, commentData)\n        .then(res => {\n            dispatch({\n                type: SUBMIT_COMMENT,\n                payload: res.data\n            });\n            dispatch(clearErrors());\n        })\n        .catch(err => {\n            dispatch({\n                type: SET_ERRORS,\n                payload: err.response.data\n            })\n        })\n};\n\nexport const getUserData = (userHandle) => dispatch => {\n    dispatch({ type: LOADING_DATA });\n    axios.get(`/user/${userHandle}`)\n        .then((res) => {\n            dispatch({\n                type: SET_ANNOUNCEMENTS,\n                payload: res.data.announcements\n            })\n        })\n        .catch(() => {\n            dispatch({\n                type: SET_ANNOUNCEMENTS,\n                payload: null\n            });\n        });\n};\n\nexport const clearErrors = () => dispatch => {\n    dispatch({ type: CLEAR_ERRORS })\n};\n\nexport const uploadImageForPost = (announcementId, formData) => (dispatch) => {\n    dispatch({ type: LOADING_USER });\n    axios.post(`/announcement/${announcementId}/image`, formData)\n        .then(res => {\n            dispatch({\n                type: APPEND_IMAGEURL_TO_ANNOUNCEMENT,\n                payload: res.data.imageUrl\n            })\n        })\n        .catch(err => console.log(err))\n};\n","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport {clearErrors, postAnnouncement} from \"../../redux/actions/dataActions\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Icon\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport MyButton from \"../../util/MyButton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    submitButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"right\"\n    },\n    progressSpinner: {\n        position: \"absolute\"\n    }\n});\n\nclass PostAnnouncement extends Component {\n    state = {\n        open: false,\n        body: \"\",\n        errors: {}\n    };\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            })\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({\n                body: \"\",\n                open: false\n            });\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({open: true})\n    };\n\n    handleClose = () => {\n        this.props.clearErrors();\n        this.setState({\n            open: false,\n            errors: {}\n        })\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.postAnnouncement({body: this.state.body});\n    };\n\n    render() {\n        const { errors } = this.state;\n        const { classes, UI: { loading }} = this.props;\n\n        return (\n            <Fragment>\n                <MyButton\n                    onClick={this.handleOpen}\n                    tip=\"Post an Announcement!\">\n                    <AddIcon/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogTitle>\n                        Post a new announcement\n                    </DialogTitle>\n                    <DialogContent>\n                        <form onSubmit={this.handleSubmit}>\n                            <TextField\n                                name={\"body\"}\n                                type=\"text\"\n                                label=\"Content\"\n                                multiline\n                                placeholder=\"Announcement content with markdown\"\n                                error={!!errors.body}\n                                helperText={errors.body}\n                                className={classes.textField}\n                                onChange={this.handleChange}\n                                fullWidth\n                                rows=\"6\"\n                                rowsMax=\"12\"\n                            />\n                            <Button type=\"submit\" variant=\"contained\"\n                                    color=\"primary\"\n                                    className={classes.submitButton}\n                                    disabled={loading}>\n                                Submit\n                                {loading && (\n                                    <CircularProgress\n                                        size={30}\n                                        className={classes.progressSpinner}\n                                    />\n                                )}\n\n                            </Button>\n                        </form>\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nPostAnnouncement.propTypes = {\n    postAnnouncement: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { postAnnouncement, clearErrors })(withStyles(styles)(PostAnnouncement));\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Link } from \"react-router-dom\";\n\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\n// MUI\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Badge from '@material-ui/core/Badge';\nimport Typography from \"@material-ui/core/Typography\";\n\n// Icons\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { markNotificationsRead } from '../../redux/actions/userActions';\n\n\nclass Notifications extends Component {\n    state = {\n        anchorEl: null\n    };\n\n    handleOpen = (event) => {\n        this.setState({anchorEl: event.target});\n    };\n\n    handleClose = () => {\n        this.setState({anchorEl: null});\n    };\n\n    onMenuOpened = () => {\n        let unreadNotificationIds = this.props.notifications\n            .filter(n => !n.read)\n            .map(n => n.notificationId);\n\n        this.props.markNotificationsRead(unreadNotificationIds)\n    };\n    render() {\n        const notifications = this.props.notifications;\n        const anchorEl = this.state.anchorEl;\n        dayjs.extend(relativeTime);\n\n        let notificationIcon;\n\n        if (notifications && notifications.length > 0) {\n            let unreadCount = notifications.filter(n => n.read === false).length;\n            unreadCount > 0 ? (\n                notificationIcon = (\n                    <Badge\n                        badgeContent={unreadCount}\n                        color=\"secondary\"\n                    >\n                        <NotificationsIcon />\n                    </Badge>\n                )\n            ) : (\n                notificationIcon = <NotificationsIcon />\n            )\n        } else {\n            notificationIcon = <NotificationsIcon />\n        }\n\n        let notificationsMarkup = notifications && notifications.length > 0 ? (\n            notifications.map(n => {\n                const verb = n.type === \"like\" ? \"liked\" : \"commented on\";\n                const time = dayjs(n.createdAt).fromNow();\n                const iconColor = n.read ? \"primary\" : \"secondary\";\n                const icon = n.type === \"like\" ? (\n                    <FavoriteIcon color={iconColor} style={{marginRight: 10}}/>\n                ) : (\n                    <ChatIcon color={iconColor} style={{marginRight: 10}}/>\n                );\n\n                return (\n                    <MenuItem key={n.createdAt} onClick={this.handleClose}>\n                        {icon}\n                        <Typography\n                            component={Link}\n                            color=\"default\"\n                            variant=\"body1\"\n                            to={`/users/${n.recipient}/announcement/${n.announcementId}`}>\n                            {n.sender} {verb} your announcement {time}\n                        </Typography>\n                    </MenuItem>\n                )\n            })\n        ) : (\n            <MenuItem onClick={this.handleClose}>\n                You have no notifications yet\n            </MenuItem>\n        );\n\n        return (\n            <Fragment>\n                <Tooltip placement=\"top\" title=\"Notifications\">\n                    <IconButton aria-owns={anchorEl ? 'simple-menu' : undefined}\n                                aria-haspopup=\"true\"\n                                onClick={this.handleOpen}\n                                >\n                        {notificationIcon}\n                    </IconButton>\n                </Tooltip>\n                <Menu\n                    anchorEl={anchorEl}\n                    open={Boolean(anchorEl)}\n                    onClose={this.handleClose}\n                    onEntered={this.onMenuOpened}\n                >\n                    {notificationsMarkup}\n                </Menu>\n            </Fragment>\n        )\n    }\n}\n\nNotifications.propTypes = {\n    markNotificationsRead: PropTypes.func.isRequired,\n    notifications: PropTypes.array.isRequired,\n\n};\n\nconst mapStateToProps = state => ({\n    notifications: state.user.notifications\n});\n\nexport default connect(mapStateToProps, { markNotificationsRead })(Notifications);","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\n\n// MUI stuff\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport { Link } from 'react-router-dom';\nimport PropTyes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport MyButton from \"../../util/MyButton\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport PostAnnouncement from \"../announcement/PostAnnouncement\";\nimport Notifications from \"./Notifications\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\n\nconst styles = {};\n\nclass Navbar extends Component {\n    render() {\n        const {\n            authenticated,\n            isAnnouncementProvider\n        } = this.props;\n\n        const calButton = (<Link to=\"/cal\">\n            <MyButton tip=\"Calendar\">\n                <CalendarTodayIcon/>\n            </MyButton>\n        </Link>)\n        return (\n            <AppBar>\n                <Toolbar className=\"nav-container\">\n                    {authenticated ? (\n                        <Fragment>\n                            { !!isAnnouncementProvider ? <PostAnnouncement /> : <div/>}\n                            <Link to=\"/\">\n                                <MyButton tip=\"Home\">\n                                    <HomeIcon/>\n                                </MyButton>\n                            </Link>\n                            <Notifications/>\n                            {calButton}\n                        </Fragment>\n                    ) : (\n                        <Fragment>\n                            <Link to=\"/login\">\n                                <MyButton tip=\"Account login\">\n                                    <AccountCircleIcon />\n                                </MyButton>\n                            </Link>\n                            <Link to=\"/\">\n                                <MyButton tip=\"Home\">\n                                    <HomeIcon/>\n                                </MyButton>\n                            </Link>\n                            {calButton}\n                        </Fragment>\n                    )}\n                </Toolbar>\n            </AppBar>\n        )\n    }\n}\n\nNavbar.propTypes = {\n    authenticated: PropTyes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    authenticated: state.user.authenticated,\n    isAnnouncementProvider: state.user.credentials.isAnnouncementProvider\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Navbar))","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\n\nconst AuthRoute = ({ component: Component, authenticated, ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={(props) => authenticated === true ? <Redirect to='/'/> : <Component {...props}/>}\n        />\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps)(AuthRoute);","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Icon\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ImageIcon from '@material-ui/icons/Image';\n\nimport MyButton from \"../../util/MyButton\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\n// Redux\nimport {getAnnouncement, updateAnnouncement, clearErrors, uploadImageForPost} from \"../../redux/actions/dataActions\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    avatar: {\n        height: \"80%\",\n        width: \"80%\"\n    },\n    dialogContent: {\n        padding: 20\n    },\n    expandButton: {\n        float: \"right\"\n    },\n    spinnerDiv: {\n        textAlign: \"center\",\n        marginTo: 50,\n        marginBottom: 50\n    },\n    submitButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"right\"\n    },\n    toolButton: {\n        margin: \"10px auto 10px auto\",\n        position: \"relative\",\n        float: \"left\"\n    },\n});\n\nclass EditAnnouncement extends Component {\n    state = {\n        open: false,\n        oldPath: \"\",\n        newPath: \"\",\n        errors: {},\n        body: \"\"\n    };\n\n    constructor(props) {\n        super(props);\n        this.imageButtonRef = React.createRef();\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({\n                errors: nextProps.UI.errors\n            })\n        }\n        if (nextProps.announcement.body) {\n            this.setState({ body: nextProps.announcement.body })\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.openDialog) {\n            this.handleOpen();\n        }\n    }\n\n    handleOpen = () => {\n        let oldPath = window.location.pathname;\n        const { userHandle, announcementId } = this.props;\n        const newPath = `/users/${userHandle}/announcement/${announcementId}`;\n\n        if (oldPath === newPath) {\n            oldPath = `/users/${userHandle}`;\n        }\n        window.history.pushState(null, null, newPath);\n\n        this.setState({ open: true, oldPath, newPath });\n        this.props.getAnnouncement(this.props.announcementId);\n    };\n\n    handleClose = () => {\n        window.history.pushState(null, null, this.state.oldPath);\n        this.setState({ open: false });\n        this.props.clearErrors();\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.updateAnnouncement(this.props.announcementId, this.state.body);\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleImageChange = (event) => {\n        const image = event.target.files[0];\n        const formData = new FormData();\n        formData.append(\"image\", image, image.name);\n        this.props.uploadImageForPost(this.props.announcementId, formData);\n    };\n\n    handleEditPicture = () => {\n        this.imageButtonRef.current.click();\n    };\n\n    render() {\n        const {\n            classes,\n            UI: { loading }\n        } = this.props;\n\n        const { body, errors } = this.state;\n\n        const dialogMarkup = loading ? (\n            <div className={classes.spinnerDiv}>\n                <CircularProgress size={200}/>\n            </div>\n\n        ) : (\n            <form onSubmit={this.handleSubmit}>\n                <TextField\n                    name={\"body\"}\n                    type=\"text\"\n                    label=\"Content\"\n                    multiline\n                    placeholder=\"Announcement content with markdown\"\n                    error={!!errors.body}\n                    helperText={errors.body}\n                    className={classes.textField}\n                    onChange={this.handleChange}\n                    fullWidth\n                    value={body}\n                    rows=\"6\"\n                    rowsMax=\"12\"\n                />\n                <input\n                    type=\"file\"\n                    id=\"imageInput\"\n                    hidden=\"hidden\"\n                    onChange={this.handleImageChange}\n                    ref={this.imageButtonRef}\n                />\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.toolButton}\n                    disabled={loading}\n                    onClick={this.handleEditPicture}\n                >\n                    <ImageIcon />\n\n                </Button>\n\n                <Button type=\"submit\" variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submitButton}\n                        disabled={loading}>\n                    Submit\n                    {loading && (\n                        <CircularProgress\n                            size={30}\n                            className={classes.progressSpinner}\n                        />\n                    )}\n\n                </Button>\n            </form>\n        );\n        return (\n            <Fragment>\n                <MyButton onClick={this.handleOpen} tip=\"Edit announcement\" tipClassName={classes.expandButton}>\n                    <EditIcon color=\"primary\" />\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogContent className={classes.dialogContent}>\n                        {dialogMarkup}\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nEditAnnouncement.propTypes = {\n    getAnnouncement: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    announcementId: PropTypes.string.isRequired,\n    userHandle: PropTypes.string.isRequired,\n    announcement: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    announcement: state.data.announcement,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, {\n    getAnnouncement, updateAnnouncement, uploadImageForPost, clearErrors })(withStyles(styles)(EditAnnouncement));","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n\nimport { connect } from \"react-redux\";\nimport { deleteAnnouncement } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\n\nconst styles = {\n\n};\n\nclass DeleteAnnouncement extends Component {\n    state = {\n        open: false\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true })\n    };\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    deleteAnnouncement = () => {\n        this.props.deleteAnnouncement(this.props.announcementId);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Delete Announcement\"\n                          onClick={this.handleOpen}\n                          btnClassName={classes.deleteButton}\n                >\n                    <DeleteOutline color=\"primary\"/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                    >\n                    <DialogTitle>\n                        Are you sure you want to delete this announcement?\n                    </DialogTitle>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.deleteAnnouncement} color=\"secondary\">\n                            Delete\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nDeleteAnnouncement.propTypes = {\n    deleteAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { deleteAnnouncement })(withStyles(styles)(DeleteAnnouncement));","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n\nimport { connect } from \"react-redux\";\nimport { archiveAnnouncement } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\n\n// MUI\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport ArchiveOutline from '@material-ui/icons/ArchiveOutlined';\n\nconst styles = {\n\n};\n\nclass ArchiveAnnouncement extends Component {\n    state = {\n        open: false\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true })\n    };\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    archiveAnnouncement = () => {\n        this.props.archiveAnnouncement(this.props.announcementId);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Archive Announcement\"\n                          onClick={this.handleOpen}\n                          btnClassName={classes.archiveButton}\n                >\n                    <ArchiveOutline color=\"primary\"/>\n                </MyButton>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                    >\n                    <DialogTitle>\n                        Are you sure you want to archive this announcement?\n                    </DialogTitle>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.archiveAnnouncement} color=\"secondary\">\n                            Archive\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nArchiveAnnouncement.propTypes = {\n    archiveAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { archiveAnnouncement })(withStyles(styles)(ArchiveAnnouncement));","export function isListLine(s) {\n    return s.match(/^[0-9]+\\. /) || s.match(/^\\* /)\n}\n\nexport function markdownTextPreProcess(s) {\n    if (!s) {\n        return s;\n    }\n    let bodyFinal = \"\";\n    let prevLine = \"\";\n    s.split(\"\\n\").forEach(rawLine => {\n        const line = rawLine.trim();\n        if (!isListLine(prevLine) && isListLine(line)) {\n            bodyFinal += \"\\n\"\n        }\n        bodyFinal += line;\n        bodyFinal = bodyFinal.replace(/。/g, \" 。\");\n        bodyFinal = bodyFinal.replace(/）/g, \" ） \");\n        bodyFinal = bodyFinal.replace(/（/g, \" （ \");\n        bodyFinal += \"\\n\";\n        prevLine = line;\n    });\n\n    return bodyFinal;\n}","import ShareIcon from '@material-ui/icons/Share';\n\nimport React, {Component} from 'react';\nimport MyButton from \"../../util/MyButton\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\nclass ShareButton extends Component {\n    handleShare = () => {\n        const { announcementId, content } = this.props;\n\n        const shareData = {\n            title: 'H2 App',\n            text: content,\n            url: `${process.env.PUBLIC_URL}?announcementId=${announcementId}`\n        };\n\n        try {\n            navigator.share(shareData);\n            console.log(\"Shared successfully\")\n        } catch(err) {\n            console.log(\"Share failed\")\n        }\n    };\n\n    canShare = () => {\n        try {\n            return navigator.canShare;\n        } catch(err) {\n            return false;\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return this.canShare() ? (\n            <div>\n                <MyButton onClick={this.handleShare} tip=\"Share announcement\" tipClassName={classes.expandButton}>\n                    <ShareIcon color=\"primary\" />\n                </MyButton>\n            </div>) : null;\n    }\n}\n\nexport default withStyles(styles)(ShareButton);","import React, {Component, Fragment} from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\n// MUI\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n// Redux\nimport { connect } from \"react-redux\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    commentData: {\n        marginLeft: 20\n    }\n});\n\nclass Comments extends Component {\n    render() {\n        const { comments, classes } = this.props;\n\n        return (\n            <Grid container>\n                {comments && comments.map(({ body, createdAt, userImage, userHandle }, index) => {\n                    return (\n                        <Fragment key={createdAt}>\n                            <Grid item sm={12}>\n                                <Grid container>\n                                    <Grid item sm={1}>\n                                        <Avatar alt={userHandle} src={userImage} className={classes.avatar} />\n                                    </Grid>\n                                    <Grid item sm={9}>\n                                        <div className={classes.commentData}>\n                                            <Typography\n                                                component={Link}\n                                                to={`/users/${userHandle}`}\n                                                color=\"primary\"\n                                            >\n                                                {userHandle}\n                                            </Typography>\n\n                                            <Typography\n                                                variant=\"body2\"\n                                                color=\"textSecondary\"\n                                                >\n                                                {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\n                                            </Typography>\n                                            <hr className={classes.invisibleSeparator}/>\n                                            <Typography variant=\"body1\">\n                                                {body}\n                                            </Typography>\n                                        </div>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                            {index !== comments.length - 1 && (<hr className={classes.visibleSeparator}/>)}\n                        </Fragment>\n                    )\n                })}\n            </Grid>\n        )\n    }\n}\n\nComments.propTypes = {\n    comments: PropTypes.array.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    announcement: state.data.announcement,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Comments));","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\n// Icon\n\nimport { submitComment } from \"../../redux/actions/dataActions\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\n\nclass CommentForm extends Component {\n    state = {\n        body: \"\",\n        errors: {}\n    };\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors !== this.state.errors) {\n            this.setState({ errors: nextProps.UI.errors ? nextProps.UI.errors : {}})\n        }\n        if (!nextProps.UI.errors && !nextProps.UI.loading) {\n            this.setState({ body: \"\" })\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({ [event.target.name]: event.target.value });\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.submitComment(this.props.announcementId, {body: this.state.body})\n    };\n\n    render() {\n        const { classes, authenticated } = this.props;\n        const errors = this.state.errors;\n\n        const commentFormMarkup = authenticated ? (\n            <Grid item sm={12} style={{ textAlign: \"center\" }}>\n                <form onSubmit={this.handleSubmit}>\n                    <TextField\n                        name=\"body\"\n                        type=\"text\"\n                        label=\"Comment on announcement\"\n                        error={errors.error ? true : false}\n                        helperText={errors.error}\n                        value={this.state.body}\n                        onChange={this.handleChange}\n                        fullWidth\n                        className={classes.textField}\n                    />\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                        >\n                            Submit\n                        </Button>\n                </form>\n                <hr className={classes.visibleSeparator}/>\n            </Grid>\n        ) : null;\n        return commentFormMarkup;\n    }\n}\n\nCommentForm.propTypes = {\n    submitComment: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired,\n    UI: PropTypes.object.isRequired,\n    authenticated: PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    UI: state.UI,\n    authenticated: state.user.authenticated\n});\n\nexport default connect(mapStateToProps, { submitComment })(withStyles(styles)(CommentForm));","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from \"prop-types\";\nimport dayjs from \"dayjs\";\nimport { Link } from \"react-router-dom\";\n\n// MUI\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\n\n// Icon\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nimport MyButton from \"../../util/MyButton\";\nimport { getAnnouncement, clearErrors } from \"../../redux/actions/dataActions\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport Comments from \"./Comments\";\nimport ReactMarkdown from \"react-markdown\";\nimport CommentForm from \"./CommentForm\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Container from \"@material-ui/core/Container\";\nimport {markdownTextPreProcess} from \"../../util/markdown_utils\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    dialogContent: {\n        padding: 20\n    },\n    closeButton: {\n        position: \"absolute\",\n        right: \"0.6rem\",\n        top: \"0.6rem\"\n    },\n    spinnerDiv: {\n        textAlign: \"center\",\n        marginTo: 50,\n        marginBottom: 50\n    },\n    markdownContainer: {\n        display: \"block\",\n        width: \"100%\",\n        overflow: \"hidden\"\n    },\n    avatar: {\n        width: \"4rem\",\n        height: \"4rem\"\n    }\n});\n\nclass AnnouncementDialog extends Component {\n    state = {\n        open: false\n    };\n\n    componentDidMount() {\n        if (this.props.openDialog) {\n            this.handleOpen();\n        }\n    }\n\n    handleOpen = () => {\n        this.setState({ open: true});\n        this.props.getAnnouncement(this.props.announcementId);\n    };\n\n    handleClose = () => {\n        window.history.pushState(null, null, this.state.oldPath);\n        this.setState({ open: false });\n        this.props.clearErrors();\n    };\n\n    render() {\n        const {\n            classes,\n            announcement : {\n                body,\n                createdAt,\n                userImage,\n                userHandle,\n                announcementId,\n                commentCount,\n                comments\n            },\n            UI: { loading }\n        } = this.props;\n\n        const dialogMarkup = loading ? (\n            <div className={classes.spinnerDiv}>\n                <CircularProgress size={200}/>\n            </div>\n\n        ) : (\n            <Grid container>\n                <Grid item sm={1} className={classes.avatarContainer}>\n                    <Avatar alt={userHandle} src={userImage} className={classes.avatar} />\n                </Grid>\n                <Grid item sm>\n                    <Typography\n                        component={Link}\n                        color=\"primary\"\n                        variant=\"h6\"\n                        to={`/users/${userHandle}`}\n                        >\n                        @{userHandle}\n                    </Typography>\n                    <hr className={classes.invisibleSeparator}/>\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                        {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\n                    </Typography>\n                </Grid>\n                <div className={classes.markdownContainer}>\n                    <hr className={classes.invisibleSeparator}/>\n                    <ReactMarkdown source={markdownTextPreProcess(body)}/>\n                </div>\n\n                <Container>\n                    <MyButton tip=\"comments\">\n                        <ChatIcon color=\"primary\"/>\n                    </MyButton>\n                    <span>{commentCount} comments</span>\n                </Container>\n                <hr className={classes.visibleSeparator} />\n                <CommentForm announcementId={announcementId}/>\n                <Comments comments={comments} />\n            </Grid>\n        );\n        return (\n            <Fragment>\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"md\">\n                    <MyButton tip=\"Close\" onClick={this.handleClose} tipClassName={classes.closeButton}>\n                        <CloseIcon/>\n                    </MyButton>\n                    <DialogContent className={classes.dialogContent}>\n                        {dialogMarkup}\n                    </DialogContent>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nAnnouncementDialog.propTypes = {\n    getAnnouncement: PropTypes.func.isRequired,\n    clearErrors: PropTypes.func.isRequired,\n    announcementId: PropTypes.string.isRequired,\n    userHandle: PropTypes.string.isRequired,\n    announcement: PropTypes.object.isRequired,\n    UI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n    announcement: state.data.announcement,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { getAnnouncement, clearErrors })(withStyles(styles)(AnnouncementDialog));","import React, { Component, Fragment } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport { connect } from \"react-redux\";\nimport { pinAnnouncement } from \"../../redux/actions/dataActions\";\nimport MyButton from \"../../util/MyButton\";\nimport VerticalAlignTopIcon from '@material-ui/icons/VerticalAlignTop';\n\nconst styles = {\n\n};\n\nclass PinAnnouncement extends Component {\n    state = {\n        open: false\n    };\n\n    togglePinToTop = () => {\n        const { announcementId, pinToTop } = this.props;\n        this.props.pinAnnouncement(announcementId, !pinToTop);\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Pin Announcement to Top\"\n                          onClick={this.togglePinToTop}\n                          btnClassName={classes.pinToTop}\n                >\n\n                        <VerticalAlignTopIcon color={this.props.pinToTop ? \"secondary\" : \"primary\"}/>\n                </MyButton>\n            </Fragment>\n        )\n    }\n}\n\nPinAnnouncement.propTypes = {\n    pinAnnouncement: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired,\n    announcementId: PropTypes.string.isRequired\n};\n\nexport default connect(null, { pinAnnouncement })(withStyles(styles)(PinAnnouncement));","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport { Link } from \"react-router-dom\";\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport clsx from 'clsx';\nimport EditAnnouncement from \"./EditAnnouncement\";\nimport DeleteAnnouncement from \"./DeleteAnnouncement\";\n// Redux\nimport { connect } from \"react-redux\";\n// MUI\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Card from '@material-ui/core/Card';\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardActions from '@material-ui/core/CardActions';\nimport Typography from \"@material-ui/core/Typography\";\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\n\n// Icons\nimport ArchiveAnnouncement from \"./ArchiveAnnouncement\";\nimport ReactMarkdown from \"react-markdown\";\nimport {markdownTextPreProcess} from \"../../util/markdown_utils\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport ShareButton from \"./ShareButton\";\nimport AnnouncementDialog from \"./AnnouncementDialog\";\nimport PinAnnouncement from \"./PinAnnouncement\";\n\nconst styles = (theme) => ({\n    card: {\n        marginBottom: 20,\n        position: \"relative\",\n    },\n    cardPinToTop: {\n        \"background-color\": \"cornsilk\"\n    },\n    image: {\n        minWidth: 200\n    },\n    content: {\n        padding: 25,\n        objectFit: \"cover\"\n    },\n    actions: {\n        display: \"block\"\n    },\n    markdownContainer: {\n        h2: {\n            fontSize: \"1em\"\n        },\n        '& img': {\n            width: \"100%\"\n        },\n        '& a': {\n            'white-space': \"pre-wrap\",\n            'word-wrap': 'break-word'\n        }\n    }\n});\n\nclass Announcement extends Component {\n    render() {\n        dayjs.extend(relativeTime);\n\n        const {\n            classes,\n            announcement: {\n                body,\n                createdAt,\n                userImage,\n                userHandle,\n                announcementId,\n                pinToTop\n            },\n            user: {\n                authenticated,\n                credentials: { handle }\n            },\n            openDialog\n        } = this.props;\n\n        const deleteButton = authenticated && userHandle === handle ? (\n            <DeleteAnnouncement announcementId={announcementId}/>\n        ) : null;\n        const editButton = authenticated && userHandle === handle ? (\n            <EditAnnouncement\n                announcementId={announcementId}\n                userHandle={userHandle}\n            />\n        ) : null;\n        const archiveButton = authenticated && userHandle === handle ? (\n            <ArchiveAnnouncement announcementId={announcementId} userHandle={userHandle} />\n        ) : null;\n        const pinButton = authenticated && userHandle === handle ? (\n            <PinAnnouncement announcementId={announcementId} pinToTop={pinToTop} />\n        ) : null;\n        const shareButton = <ShareButton announcementId={announcementId} content={body}/>;\n        const actionsMarkup = (\n            <ButtonGroup classes={classes.buttonGroup}>\n                {shareButton}\n                {editButton}\n                {pinButton}\n                {archiveButton}\n                {deleteButton}\n            </ButtonGroup>\n        );\n        const userLink = (<Typography\n            component={Link}\n            to={`/users/${userHandle}`}\n            color=\"primary\"\n        >\n            {userHandle}\n        </Typography>);\n\n        return (\n            <Card className={clsx(classes.card, {[classes.cardPinToTop]: pinToTop})}>\n                <CardHeader\n                    avatar={\n                        <Avatar\n                            alt={userHandle}\n                            className={classes.avatar}\n                            src={userImage}\n                        >\n                        </Avatar>\n                    }\n                    title={userLink}\n                    subheader={dayjs(createdAt).fromNow()}\n                />\n\n\n                    <CardContent className={classes.content}>\n                        <Typography\n                            id={\"content-\" + announcementId}\n                        >\n                            <ReactMarkdown\n                                source={markdownTextPreProcess(body)}\n                                className={classes.markdownContainer}\n                            />\n                        </Typography>\n                    </CardContent>\n\n                <CardActions className={classes.actions}>\n                    {actionsMarkup}\n                </CardActions>\n                <AnnouncementDialog announcementId={announcementId} openDialog={openDialog}/>\n            </Card>\n        )\n    }\n}\n\nAnnouncement.propTypes = {\n    user: PropTypes.object.isRequired,\n    announcement: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired,\n    openDialog: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    user: state.user\n});\nexport default connect(mapStateToProps)(withStyles(styles)(Announcement));","export default __webpack_public_path__ + \"static/media/no-img.c3f94521.png\";","import React, { Fragment } from 'react';\nimport NoImg from '../images/no-img.png';\nimport PropTypes from 'prop-types';\n\n// MUI\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\n\nimport withStyle from '@material-ui/core/styles/withStyles';\n\nconst styles = (theme) => ({\n    card: {\n        display: \"flex\",\n        marginBottom: 20\n    },\n    cardContent: {\n        width: \"100%\",\n        flexDirection: \"column\",\n        padding: 25\n    },\n    cover: {\n        minWidth: 200,\n        objectFit: \"cover\"\n    },\n    handle: {\n        width: 60,\n        height: 18,\n        backgroundColor: theme.palette.primary.main,\n        marginBottom: 7\n    },\n    date: {\n        height: 14,\n        width: 100,\n        backgroundColor: \"rgba(0,0,0,0.3)\",\n        marginBottom: 10\n    },\n    fullLine: {\n        height: 15,\n        width: \"90%\",\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        marginBottom: 10\n    },\n    halfLine: {\n        height: 15,\n        width: \"50%\",\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        marginBottom: 10\n    }\n\n});\n\nconst AnnouncementSkeleton = (props) => {\n    const { classes } = props;\n    const content = Array\n        .from({ length: 5})\n        .map((item, index) => (\n            <Card className={classes.card} key={index}>\n                <CardMedia className={classes.cover} image={NoImg}/>\n                <CardContent className={classes.cardContent}>\n                    <div className={classes.handle}/>\n                    <div className={classes.date}/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.halfLine}/>\n\n                </CardContent>\n            </Card>\n        ));\n    return (\n        <Fragment>\n            {content}\n        </Fragment>\n    );\n};\n\n\nAnnouncementSkeleton.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyle(styles)(AnnouncementSkeleton);","import React, { Component } from 'react'\nimport Announcement from '../components/announcement/Announcement';\nimport PropTypes from \"prop-types\";\n\nimport { connect } from \"react-redux\";\nimport { getAnnouncements } from \"../redux/actions/dataActions\";\nimport AnnouncementSkeleton from \"../util/AnnouncementSkeleton\";\nconst queryString = require('query-string');\n\nclass home extends Component {\n    state = {\n        announcementId: null\n    };\n\n    componentDidMount() {\n        this.props.getAnnouncements();\n        const queryParams = queryString.parse(this.props.location.search);\n        const announcementId = queryParams.announcementId;\n        if (announcementId) {\n            this.setState({ announcementId: announcementId})\n        }\n    }\n\n    render() {\n        const { announcementId } = this.state;\n        const { announcements, loading } = this.props.data;\n        return !loading ? (\n            announcements\n                .filter(ann => !ann.isArchived)\n                .map(ann => announcementId && ann.announcementId === announcementId ?\n                    (<Announcement key={ann.announcementId} announcement={ann} openDialog={true}/>) :\n                    (<Announcement key={ann.announcementId} announcement={ann}/>)\n                )\n        ) : <AnnouncementSkeleton />;\n    }\n}\n\nhome.propTypes = {\n    getAnnouncements: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data\n});\n\nexport default connect(mapStateToProps, { getAnnouncements })(home)","export default \"data:image/png;base64,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lzY+obu44bU+KsMZr7aYjN+LS4OVaY/QF4tsZHw+WCB/zCTYKzZIvJcNP26AAVyoYDh4p6ekD9v5t+Ar+aAgnH5wYCYlpNG1zQfWjPk5n42kiIIojDyJzVngc6FlP1X/3v+EuXwV32mws6/cDqB+GTTEuOczmYAWF8DCxQ2963ChT4cGK5VThJnRUtPHuLUo33ZJNtFhoZwFjbQUFaqXgMHfDPOI6JG6wDR4XwMA2EyFbgpPe+En0teCD1uwBaBK2vkNH0C5zfMA2ZN68jzcqPTPA1xxmsiQgwqWlz/CXFFoosa9uKfwaw3GKDPPR3WXj1tjIArchJxhh2u9hf0eOlcCcEmU4iyjPCKqVDntQGYSwQWqIWodRIi9dO8jaK/fo17+fvhfnahwXYUPDYIvK/pfp3Btk/ajcWmwoKMn7OThbnapZZ/eGvfijkeyUX9m2Z1GIp06ntPBBPI2tIeRFUIZdI/MGG6o4I0ovKiQdww1IpeIB+7ooRvn/Rciw6fAb10D/2wrnPwZ4L9+Yxc2XodqCKpAxa1r/nyOWAEW1stw/ydygEJFFkOiNlJdobI8on47TDGMc11RBQEw5bAdU16l+w1RSz7Yd+64Q1vtRztaAtpqPba/GFH06T/FTUapsfVPNBy+m0LVxEW4feCGcQ4/qb8WF8AIQNQByjedLduTIhJOHCYyzLseTY4U/z3uOaCxwkNqCBxXgkwcL68Bkcr3mYCTj3qwZlRVNP8a/34K/w5698MD3yUCdczm2kmNolEmFxfAsC2Sa8FC0q0sgqNsOUF9Vt1EouSlgJ10YIL8mmPkwc21MjjeRYR5lJnbizvj1u9BN898bJFUi9YyXu+F/zUYiQv/G2ki1H25BnoyyOv/izli4TqZ1VPDMq/cACVGi0uahIAdaRQPOypv1+sv+2O1pT6Y7cS2NXxjD9pEOKDzg4MZWmogZdaPu0IB7WhpMPZX4bZ8/wzK4mLSYlSnChP5O+z38H5Vq3fQcIutYQfaNWPGhLZiqracKnn+WABWyQlP5nMBZNPRjvYk5tiKfbZ+AJ7LRYPsvZrWNG7tOJmv92TmFpeJPJm5nPGfgaOP0uXW1yTfmgslvR+NF0/9JYPrjF/QyXoBjrX3Bmrxn6zzE/MSEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBL4c5XA/wNmB/fimPXDpAAAAABJRU5ErkJggg==\"","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTyes from 'prop-types';\n// MUI stuff\nimport AppIcon from '../images/icon.png';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Link } from \"react-router-dom\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n// Redux stuff\nimport { connect } from 'react-redux';\nimport { loginUser } from \"../redux/actions/userActions\";\n\nconst styles = (theme) => {\n    return {\n        ...theme.rootStyles\n    };\n};\n\nclass login extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            errors: []\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({errors: nextProps.UI.errors});\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const userData = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        this.props.loginUser(userData, this.props.history)\n    };\n\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    render() {\n        const { classes, UI: { loading } } = this.props;\n        const { errors } = this.state;\n\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <img src={AppIcon} alt=\"h2\" className={classes.image} />\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\n                        Login\n                    </Typography>\n                    <form noValidate onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"email\"\n                            name=\"email\"\n                            label=\"Email\"\n                            className={classes.textField}\n                            helperText={errors.email}\n                            error={!!errors.email}\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"password\"\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.password}\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        {errors.general && (\n                            <Typography variant=\"body2\"\n                                        className={classes.customError}>\n                                {errors.general}\n                            </Typography>\n\n                        )}\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                            disabled={loading}\n                        >\n                            Login\n                            {loading && (\n                                <CircularProgress className={classes.progress} size={30}/>\n                            )}\n                        </Button>\n                        <br/>\n                        <small>don't have an account ? signup <Link to=\"/signup\">here</Link></small>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        )\n    }\n}\n\nlogin.propTypes = {\n    classes: PropTyes.object.isRequired,\n    loginUser: PropTyes.func.isRequired,\n    // user: PropTyes.object.isRequired,\n    UI: PropTyes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    // user: state.user,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { loginUser })(withStyles(styles)(login))","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTyes from 'prop-types';\nimport AppIcon from '../images/icon.png';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { Link } from \"react-router-dom\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\n// Redux\nimport { connect } from 'react-redux';\nimport { signupUser } from \"../redux/actions/userActions\";\n\nconst styles = (theme) => {\n    return {\n        ...theme.rootStyles\n    };\n};\n\nclass signup extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            confirmPassword: \"\",\n            handle: \"\",\n            errors: []\n        }\n    }\n\n    componentWillReceiveProps(nextProps, nextContext) {\n        if (nextProps.UI.errors) {\n            this.setState({ errors: nextProps.UI.errors });\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.setState({\n            loading: true\n        });\n\n        const newUserData = {\n            email: this.state.email,\n            password: this.state.password,\n            confirmPassword: this.state.confirmPassword,\n            handle: this.state.handle\n        };\n\n        this.props.signupUser(newUserData, this.props.history);\n    };\n\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    render() {\n        const { classes, UI: { loading } } = this.props;\n        const { errors } = this.state;\n\n        return (\n            <Grid container className={classes.form}>\n                <Grid item sm/>\n                <Grid item sm>\n                    <img src={AppIcon} alt=\"h2\" className={classes.image} />\n                    <Typography variant=\"h2\" className={classes.pageTitle}>\n                        Signup\n                    </Typography>\n                    <form noValidate onSubmit={this.handleSubmit}>\n                        <TextField\n                            id=\"email\"\n                            name=\"email\"\n                            label=\"Email\"\n                            className={classes.textField}\n                            helperText={errors.email}\n                            error={!!errors.email}\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"password\"\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.password}\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"confirmPassword\"\n                            name=\"confirmPassword\"\n                            label=\"Confirm Password\"\n                            type=\"password\"\n                            className={classes.textField}\n                            helperText={errors.password}\n                            error={!!errors.confirmPassword}\n                            value={this.state.confirmPassword}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        <TextField\n                            id=\"handle\"\n                            name=\"handle\"\n                            label=\"Username\"\n                            type=\"text\"\n                            className={classes.textField}\n                            helperText={errors.handle}\n                            error={!!errors.handle}\n                            value={this.state.handle}\n                            onChange={this.handleChange}\n                            fullWidth\n                        />\n                        {errors.general && (\n                            <Typography variant=\"body2\"\n                                        className={classes.customError}>\n                                {errors.general}\n                            </Typography>\n\n                        )}\n                        <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.button}\n                            disabled={loading}\n                        >\n                            Login\n                            {loading && (\n                                <CircularProgress className={classes.progress} size={30}/>\n                            )}\n                        </Button>\n                        <br/>\n                        <small>Already have an account ? login <Link to=\"/login\">here</Link></small>\n                    </form>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        )\n    }\n}\n\nsignup.propTypes = {\n    classes: PropTyes.object.isRequired,\n    user: PropTyes.object.isRequired,\n    UI: PropTyes.object.isRequired,\n    logoutUser: PropTyes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    user: state.user,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { signupUser })(withStyles(styles)(signup));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport NoImg from '../images/no-img.png';\n// MUI\nimport Paper from '@material-ui/core/Paper';\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\n\nconst styles = theme => ({\n    ...theme.rootStyles,\n    handle: {\n        height: 20,\n        backgroundColor: theme.palette.primary.main,\n        width: 60,\n        margin: \"0 auto 7px auto\"\n    },\n    fullLine: {\n        height: 15,\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        width: \"100%\",\n        marginBottom: 10\n    },\n    halfLine: {\n        height: 15,\n        backgroundColor: \"rgba(0,0,0,0.6)\",\n        width: \"50%\",\n        marginBottom: 10\n    }\n});\n\nconst ProfileSkeleton = (props) => {\n    const { classes } = props;\n\n    return (\n        <Paper className={classes.paper}>\n            <div className={classes.profile}>\n                <div className=\"image-wrapper\">\n                    <img src={NoImg} alt={\"profile\"} className=\"profile-image\"/>\n                </div>\n                <hr/>\n                <div className=\"profile-details\">\n                    <div className={classes.handle}/>\n                    <hr/>\n                    <div className={classes.fullLine}/>\n                    <div className={classes.fullLine}/>\n                    <hr/>\n                    <LocationOn color=\"primary\"/><span>Location</span>\n                    <hr/>\n                    <LinkIcon color=\"primary\"/>https://website.com\n                    <hr/>\n                    <CalendarToday color=\"primary\"/>Join date\n                </div>\n            </div>\n        </Paper>\n    )\n\n};\n\nProfileSkeleton.propTypes = {\n    classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(ProfileSkeleton);","import React, {Component, Fragment} from 'react';\nimport { connect } from \"react-redux\";\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { editUserDetails } from \"../../redux/actions/userActions\";\nimport PropTypes from \"prop-types\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n// Icon\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MyButton from \"../../util/MyButton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles,\n    button: {\n        float: \"right\"\n    }\n});\n\nclass EditDetails extends Component {\n    state = {\n        bio: \"\",\n        website: \"\",\n        location: \"\",\n        open: false\n    };\n\n    componentDidMount() {\n        const { credentials } = this.props;\n        this.mapUserDetailsToState(credentials);\n    }\n\n    handleClose = () => {\n        this.setState({ open: false })\n    };\n\n    mapUserDetailsToState = (credentials) => {\n        this.setState({\n            bio: credentials.bio ? credentials.bio : \"\",\n            website: credentials.website ? credentials.website : \"\",\n            location: credentials.location ? credentials.location : \"\",\n        })\n    };\n\n    handleOpen = () => {\n        this.setState({open: true});\n        this.mapUserDetailsToState(this.props.credentials);\n    };\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    };\n\n    handleSubmit = () => {\n        const userDetails = {\n            bio: this.state.bio,\n            website: this.state.website,\n            location: this.state.location,\n        };\n        this.props.editUserDetails(userDetails);\n        this.handleClose();\n    };\n\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <Fragment>\n                <MyButton tip=\"Edit details\" onClick={this.handleOpen} btnClassName={classes.button}>\n                    <EditIcon color=\"primary\"/>\n                </MyButton>\n\n                <Dialog\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth\n                    maxWidth=\"sm\"\n                >\n                    <DialogTitle>Edit your details</DialogTitle>\n                    <DialogContent>\n                        <form>\n                            <TextField\n                                name=\"bio\"\n                                type=\"text\"\n                                label=\"Bio\"\n                                multiline\n                                rows=\"3\"\n                                placeholder=\"A short bio of yourself\"\n                                className={classes.textField}\n                                value={this.state.bio}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"website\"\n                                type=\"text\"\n                                label=\"Website\"\n                                multiline\n                                placeholder=\"Your personal website\"\n                                className={classes.textField}\n                                value={this.state.website}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                            <TextField\n                                name=\"location\"\n                                type=\"text\"\n                                label=\"Location\"\n                                multiline\n                                placeholder=\"Where you live\"\n                                className={classes.textField}\n                                value={this.state.location}\n                                onChange={this.handleChange}\n                                fullWidth\n                            />\n                        </form>\n\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={this.handleSubmit} color=\"primary\">\n                            Submit\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Fragment>\n        )\n    }\n}\n\nEditDetails.propTypes = {\n    editUserDetails: PropTypes.func.isRequired,\n    classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    credentials: state.user.credentials\n});\n\nexport default connect(mapStateToProps, { editUserDetails })(withStyles(styles)(EditDetails));","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\n\n// MUI\nimport Button from '@material-ui/core/Button';\nimport Paper from \"@material-ui/core/Paper\";\nimport MuiLink from '@material-ui/core/Link';\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from '@material-ui/core/Typography';\n// Icons\nimport LocationOn from '@material-ui/icons/LocationOn';\nimport LinkIcon from '@material-ui/icons/Link';\nimport CalendarToday from '@material-ui/icons/CalendarToday';\nimport EditIcon from \"@material-ui/icons/Edit\";\n\n// Redux\nimport { connect } from \"react-redux\";\nimport { logoutUser, uploadImage } from \"../../redux/actions/userActions\";\nimport KeyboardReturn from \"@material-ui/icons/KeyboardReturn\";\nimport EditDetails from \"./EditDetails\";\nimport MyButton from \"../../util/MyButton\";\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\n\nconst styles = (theme) => ({\n    ...theme.rootStyles\n});\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n        this.imageButtonRef = React.createRef();\n    }\n\n    handleImageChange = (event) => {\n        const image = event.target.files[0];\n        const formData = new FormData();\n        formData.append(\"image\", image, image.name);\n        this.props.uploadImage(formData);\n    };\n\n    handleEditPicture = () => {\n        this.imageButtonRef.current.click();\n    };\n\n    handleLogout = () => {\n        this.props.logoutUser()\n    };\n    render() {\n        const {\n            classes,\n            user: {\n                credentials: { handle, createdAt, imageUrl, bio, website, location },\n                loading,\n                authenticated\n            }\n        } = this.props;\n\n\n        return !loading ? (authenticated ? (\n            <Paper className={classes.paper}>\n                <div className={classes.profile}>\n                    <div className=\"image-wrapper\">\n                        <img src={imageUrl} alt=\"profile\" className=\"profile-image\"/>\n                        <input\n                            type=\"file\"\n                            id=\"imageInput\"\n                            hidden=\"hidden\"\n                            onChange={this.handleImageChange}\n                            ref={this.imageButtonRef}\n                        />\n                        <MyButton\n                            tip=\"Edit profile picture\"\n                            onClick={this.handleEditPicture}\n                            btnClassName=\"button\"\n                        >\n                            <EditIcon color=\"primary\"/>\n                        </MyButton>\n\n                    </div>\n                    <hr/>\n                    <div className=\"profile-details\">\n                        <MuiLink component={Link} to={`/users/${handle}`} color=\"primary\" variant=\"h5\">\n                            @{handle}\n                        </MuiLink>\n                        {bio && <Typography variant=\"body2\">{bio}</Typography> }\n                        <hr />\n                        {location && (\n                            <Fragment>\n                                <LocationOn color=\"primary\"/>\n                                <span>{location}</span>\n                            </Fragment>\n\n                        )}\n                        <hr />\n                        {website && (\n                            <Fragment>\n                                <LinkIcon color=\"primary\" />\n                                <a href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n                                    {\"  \"}{website}\n                                </a>\n                            </Fragment>\n                        )}\n                        <hr />\n                        <CalendarToday color=\"primary\" />{\"  \"}\n                        <span>Joined {dayjs(createdAt).format(\"MMM YYYY\")}</span>\n                    </div>\n                </div>\n                <Tooltip title=\"Logout\" placement=\"top\">\n                    <MyButton\n                        tip=\"Logout\"\n                        onClick={this.handleLogout}\n                    >\n                        <KeyboardReturn color=\"primary\"/>\n                    </MyButton>\n\n                </Tooltip>\n\n                <EditDetails />\n            </Paper>\n        ) : (\n\n            <Paper className={classes.paper}>\n                <Typography variant=\"body2\" aligh=\"center\">\n                    No profile found, please login again\n                </Typography>\n                <div className={classes.buttons}>\n                    <Button variant=\"contained\" color=\"primary\" component={Link} to={\"/login\"}>\n                        Login\n                    </Button>\n                    <Button variant=\"contained\" color=\"secondary\" component={Link} to={\"/signup\"}>\n                        Signup\n                    </Button>\n                </div>\n            </Paper>\n        )) : (<ProfileSkeleton />);\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user\n});\n\nProfile.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    uploadImage: PropTypes.func.isRequired,\n    user: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired\n};\nexport default connect(mapStateToProps, { logoutUser, uploadImage })(withStyles(styles)(Profile));","import React, { Component } from 'react'\nimport PropTyes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\n// Redux\nimport { connect } from 'react-redux';\nimport { getUserData } from \"../redux/actions/dataActions\";\nimport axios from \"axios\";\nimport Announcement from \"../components/announcement/Announcement\";\nimport AnnouncementSkeleton from \"../util/AnnouncementSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\nimport Profile from \"../components/profile/Profile\";\n\nclass user extends Component {\n    state = {\n        profile: {},\n        announcementIdParam: null\n    };\n\n    componentDidMount() {\n        const handle = this.props.match.params.handle;\n        const announcementId = this.props.match.params.announcementId;\n\n        if (announcementId) {\n            this.setState({ announcementIdParam: announcementId})\n        }\n        this.props.getUserData(handle);\n        axios.get(`/user/${handle}`)\n            .then(res => {\n                this.setState({\n                    profile: res.data.user\n                })\n            })\n            .catch(err => console.log(err))\n    }\n\n    render() {\n        const { announcements, loading } = this.props.data;\n        const { announcementIdParam } = this.state;\n\n        const announcementsMarkup = loading ? (\n            <AnnouncementSkeleton />\n            ) : announcements === null ? (\n                <p>No announcements from this user</p>\n            ) : !announcementIdParam ? (\n                announcements.map(ann => <Announcement key={ann.announcementId} announcement={ann} />)\n            ) : (\n                announcements.map(ann => {\n                    if (ann.announcementId !== announcementIdParam) {\n                        return <Announcement key={ann.announcementId} announcement={ann} />;\n                    } else {\n                        return <Announcement key={ann.announcementId} announcement={ann} openDialog={true} />;\n                    }\n\n                })\n            );\n        return (\n            <Grid container spacing={10}>\n                <Grid item sm={8} xs={12}>\n                    {announcementsMarkup}\n                </Grid>\n                <Grid item sm={4} xs={12}>\n                    {!this.state.profile ? (\n                        <ProfileSkeleton />\n                    ) : (\n                        <Profile />\n                    )}\n                </Grid>\n            </Grid>\n        )\n    }\n}\n\nuser.propTypes = {\n    data: PropTyes.object.isRequired,\n    getUserData: PropTyes.func.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data,\n    UI: state.UI\n});\n\nexport default connect(mapStateToProps, { getUserData })(user);","export const transpose = m => m[0].map((x,i) => m.map(x => x[i]))\n","import React, { Component } from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\n// Redux\nimport { connect } from \"react-redux\";\n\nimport { Calendar as RBCalendar, Views, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport {csvToArray} from \"../../util/csv_utils\";\nimport {transpose} from \"../../util/array_utils\";\n\nconst now = new Date()\n\nconst localizer = momentLocalizer(moment)\nconst styles = () => ({\n    container: {\n    },\n    eventContent: {\n        'white-space': 'pre-wrap'\n    },\n    eventWrapper: {\n    },\n    eventWrapperNoLabel: {\n        '& .rbc-event-label': {\n            display: \"none\"\n        }\n    }\n});\n\nconst CAL_DATA_SRC_CSV = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQvXCDvZBgp4hm89EvIzlKfiJpbkZDaK5dFYqVYYDJUZ4zGknXkOeUaT5xlGk5pyfL3G8Qfrp2TDZxJ/pub?output=csv'\nconst DATE_RE = /(\\d{2})\\/(\\d{2})\\/(\\d{4})/g;\nclass Calendar extends Component {\n    state = {\n        view: Views.WEEK,\n        events: []\n    };\n\n    componentDidMount() {\n        fetch(CAL_DATA_SRC_CSV)\n            .then((rsp) => {\n                return rsp.text();\n            })\n            .then((text) => {\n                const eventsRaw = transpose(csvToArray(text)).flat()\n                const events = [];\n                eventsRaw.forEach((d, i) => {\n                    if (d.match(DATE_RE)) {\n                        const m = DATE_RE.exec(d)\n                        const eventMo = parseInt(m[1]);\n                        const eventDa = parseInt(m[2]);\n                        const eventYr = parseInt(m[3]);\n                        let eventTitle = eventsRaw[i + 1];\n                        if (!!eventTitle) {\n                            let start = new Date(eventYr, eventMo - 1, eventDa);\n                            let end = new Date(eventYr, eventMo - 1, eventDa);\n                            if (eventTitle.includes(\"预查带领\")) {\n                                eventTitle = \"预查\\n\" + eventTitle\n                                start = new Date(eventYr, eventMo - 1, eventDa, 11, 15, 0);\n                                end = new Date(eventYr, eventMo - 1, eventDa, 12, 15, 0);\n                            } else if (eventTitle.includes(\"诗歌带领\")) {\n                                eventTitle = \"团契查经\\n\" + eventTitle\n                                start = new Date(eventYr, eventMo - 1, eventDa, 19, 20, 0);\n                                end = new Date(eventYr, eventMo - 1, eventDa, 21, 30, 0);\n                            }\n                            const event = {\n                                id: i,\n                                title: eventTitle,\n                                start: start,\n                                end: end,\n                            }\n                            events.push(event);\n                        }\n                    }\n                })\n                this.setState({events});\n            })\n    }\n\n    render() {\n        const { classes } = this.props;\n        const { events } = this.state;\n\n        let allViews = [Views.MONTH, Views.WEEK, Views.DAY, Views.AGENDA]\n\n        const titleAccessor = (event) => {\n            if (this.state.view === Views.MONTH) {\n                const titleLines = event.title.split(\"\\n\")\n                return (\n                    <div className={classes.eventContent}>\n                        {titleLines[0]}\n                    </div>\n                );\n            }\n            return (\n                <div className={classes.eventContent}>\n                    {event.title}\n                </div>\n            );\n        };\n\n        const eventWrapper = eventWrapperProps => {\n            const eventTimeMin = Math.floor( (eventWrapperProps.event.end - eventWrapperProps.event.start) / (1000*60))\n            return (\n                <div className={eventTimeMin < 60 ? classes.eventWrapperNoLabel : classes.eventWrapper}>\n                    {eventWrapperProps.children}\n                </div>\n            )\n        };\n\n        return <>\n\n            <div className={classes.container}>\n                <RBCalendar\n                    events={events}\n                    views={allViews}\n                    defaultView={Views.WEEK}\n                    step={60}\n                    defaultDate={now}\n                    // components={{\n                    //     timeSlotWrapper: ColoredDateCellWrapper\n                    // }}\n                    components={{\n                        eventWrapper: eventWrapper\n                    }}\n                    localizer={localizer}\n                    style={{ height: 1000 }}\n                    titleAccessor={titleAccessor}\n                    onView={(view) => {\n                        this.setState({view: view})\n                    }}\n                    min={moment('6:00am', 'h:mma').toDate()}\n                />\n            </div>\n        </>\n    }\n}\n\nCalendar.propTypes = {\n    user: PropTypes.object.isRequired,\n    announcement: PropTypes.object.isRequired,\n    classes: PropTypes.object.isRequired,\n    openDialog: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n    user: state.user\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Calendar));","export function csvToArray(text) {\n    let p = '', row = [''], ret = [row], i = 0, r = 0, s = !0, l;\n    for (l of text) {\n        if ('\"' === l) {\n            if (s && l === p) row[i] += l;\n            s = !s;\n        } else if (',' === l && s) l = row[++i] = '';\n        else if ('\\n' === l && s) {\n            if ('\\r' === p) row[i] = row[i].slice(0, -1);\n            row = ret[++r] = [l = '']; i = 0;\n        } else row[i] += l;\n        p = l;\n    }\n    return ret;\n}","import React, { Component } from 'react'\nimport PropTypes from \"prop-types\";\n\nimport { connect } from \"react-redux\";\nimport { getAnnouncements } from \"../redux/actions/dataActions\";\n\nimport Calendar from '../components/calendar/Calendar';\n\nclass calendar extends Component {\n    render() {\n        return <>\n            <Calendar/>\n        </>\n    }\n}\n\ncalendar.propTypes = {\n    getAnnouncements: PropTypes.func.isRequired,\n    data: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n    data: state.data\n});\n\nexport default connect(mapStateToProps, { getAnnouncements })(calendar)","import React from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\nimport themeFile from './util/theme';\nimport axios from 'axios';\n\n// Redux\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { getUserData } from \"./redux/actions/userActions\";\n\n// Components\nimport Navbar from './components/layout/Navbar';\nimport AuthRoute from './util/AuthRoute';\n\n// Pages\nimport home from './pages/home';\nimport login from './pages/login';\nimport signup from './pages/signup';\nimport user from './pages/user';\nimport calendar from \"./pages/calendar\";\n// This import loads the firebase namespace along with all its type information.\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport { setAuthorizationHeader } from \"./util/auth\";\n\nconst theme = createMuiTheme(themeFile);\n\n// // Initialize Firebase\nfirebase.initializeApp({apiKey: \"AIzaSyCCx9TDJtVzEaPym1OyU5KSuWgwslGDzEY\"});\n\nfirebase.auth().onAuthStateChanged(usr => {\n    if (usr) {\n        usr.getIdToken().then(token => {\n            setAuthorizationHeader(token);\n            store.dispatch(getUserData());\n        })\n    }\n});\n\naxios.defaults.baseURL = \"https://us-central1-h2-app.cloudfunctions.net/api\";\n// axios.defaults.baseURL = \"http://localhost:5000/h2-app/us-central1/api\";\n\nfunction App() {\n  return (\n      <MuiThemeProvider theme={theme}>\n          <Provider store={store}>\n              <Router basename={process.env.PUBLIC_URL}>\n                  <Navbar/>\n                  <div className=\"container\">\n                      <Switch>\n                          <Route exact path=\"/\" component={home} />\n                          <AuthRoute exact path=\"/login\" component={login}/>\n                          <AuthRoute exact path=\"/signup\" component={signup}/>\n                          <Route exact path=\"/users/:handle\" component={user}/>\n                          <Route exact path=\"/users/:handle/announcement/:announcementId\" component={user}/>\n                          <Route exact path=\"/cal\" component={calendar} />\n                      </Switch>\n                  </div>\n              </Router>\n          </Provider>\n      </MuiThemeProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}