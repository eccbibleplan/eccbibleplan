(this.webpackJsonpeccbibleplan=this.webpackJsonpeccbibleplan||[]).push([[0],{219:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),l=n(23),i=n(25),s=(n(219),n(401)),u=n(139),m=n.n(u),p={palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}},typography:{useNextVariants:!0},rootStyles:{form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},button:{marginTop:20,position:"relative"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"},invisibleSeparator:{border:"none",margin:4},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",marginBottom:20},paper:{padding:20},profile:{"& .image-wrapper":{textAlign:"center",position:"relative","& button":{position:"absolute",top:"80%",left:"70%"}},"& .profile-image":{width:200,height:200,objectFit:"cover",maxWidth:"100%",borderRadius:"50%"},"& .profile-details":{textAlign:"center","& span, svg":{verticalAlign:"middle"},"& a":{color:"#00bcd4"}},"& hr":{border:"none",margin:"0 0 10px 0"},"& svg.button":{"&:hover":{cursor:"pointer"}}},buttons:{textAlign:"center","& a":{margin:"20px 10px"}},closeButton:{position:"absolute",right:"0.2rem",top:"0.4rem"}}},d=n(22),h=n.n(d),f=n(11),E=n(65),b=n(185),g=n(67),v=n(6),y="SET_AUTHENTICATED",C="SET_UNAUTHENTICATED",A="SET_USER",O="LOADING_USER",j="MARK_NOTIFCATIONS_READ",I="SET_ERRORS",w="LOADING_DATA",k="LOADING_UI",N="CLEAR_ERRORS",S="STOP_LOADING_UI",B="SET_ANNOUNCEMENTS",x="SET_ANNOUNCEMENT",U="APPEND_IMAGEURL_TO_ANNOUNCEMENT",Q="LIKE_ANNOUNCEMENT",T="UNLIKE_ANNOUNCEMENT",D="DELETE_ANNOUNCEMENT",F="POST_ANNOUNCEMENT",P="SUBMIT_COMMENT",W={authenticated:!1,credentials:{},likes:[],notifications:[],loading:!1},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(v.a)(Object(v.a)({},e),{},{authenticated:!0});case C:return W;case A:return Object(v.a)({loading:!1,authenticated:!0},t.payload);case O:return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case Q:return Object(v.a)(Object(v.a)({},e),{},{likes:[].concat(Object(g.a)(e.likes),[{userHandle:e.credentials.handle,announcementId:t.payload.announcementId}])});case T:return Object(v.a)(Object(v.a)({},e),{},{likes:e.likes.filter((function(e){return e.announcementId!==t.payload.announcementId}))});case j:return e.notifications.forEach((function(e){return e.read=!0})),Object(v.a)({},e);default:return e}},z={announcements:[],announcement:{},loading:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case B:var n=t.payload.filter((function(e){return!!e.pinToTop})),a=t.payload.filter((function(e){return!e.pinToTop}));return Object(v.a)(Object(v.a)({},e),{},{announcements:[].concat(Object(g.a)(n),Object(g.a)(a)),loading:!1});case x:return Object(v.a)(Object(v.a)({},e),{},{announcement:t.payload});case U:return Object(v.a)(Object(v.a)({},e),{},{announcement:Object(v.a)(Object(v.a)({},e.announcement),{},{body:"".concat(e.announcement.body,"\n\n![](").concat(t.payload,")")})});case Q:case T:var r=e.announcements.findIndex((function(e){return e.announcementId===t.payload.announcementId}));return e.announcements[r]=t.payload,e.announcement.announcementId===t.payload.announcementId&&(e.announcement=Object(v.a)(Object(v.a)({},e.announcement),t.payload)),Object(v.a)({},e);case D:var o=e.announcements.findIndex((function(e){return e.announcementId===t.payload}));return e.announcements.splice(o,1),Object(v.a)({},e);case F:return Object(v.a)(Object(v.a)({},e),{},{announcements:[t.payload].concat(Object(g.a)(e.announcements))});case P:return Object(v.a)(Object(v.a)({},e),{},{announcement:Object(v.a)(Object(v.a)({},e.announcement),{},{comments:[t.payload].concat(Object(g.a)(e.announcement.comments))})});default:return e}},K={loading:!1,errors:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case I:return Object(v.a)(Object(v.a)({},e),{},{loading:!1,errors:t.payload});case N:return Object(v.a)(Object(v.a)({},e),{},{loading:!1,errors:null});case k:return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case S:return Object(v.a)(Object(v.a)({},e),{},{loading:!1})}},J=[b.a],V=Object(E.c)({user:R,data:L,UI:H}),Y=Object(E.e)(V,{},Object(E.d)(E.a.apply(void 0,J))),G=n(78),M=function(e){h.a.defaults.headers.common.Authentication="Bearer ".concat(e)},q=function(){return function(e){e({type:O}),h.a.get("/user").then((function(t){e({type:A,payload:t.data})})).catch((function(t){console.log(t),e({type:I,payload:t.response.data})}))}},X=n(13),Z=n(14),_=n(16),$=n(15),ee=n(403),te=n(404),ne=n(18),ae=n.n(ne),re=n(416),oe=n(396),ce=function(e){var t=e.children,n=e.onClick,a=e.tip,o=e.btnClassName,c=e.tipClassName;return r.a.createElement(re.a,{title:a,placement:"top",className:c},r.a.createElement(oe.a,{onClick:n,className:o},t))},le=n(146),ie=n.n(le),se=n(29),ue=function(){return function(e){e({type:w}),h.a.get("/announcements").then((function(t){e({type:B,payload:t.data.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{announcementId:e.announcementId})}))})})).catch((function(t){e({type:B,payload:[]})}))}},me=function(e){return function(t){t({type:k}),h.a.get("/announcement/".concat(e)).then((function(e){t({type:x,payload:Object(v.a)(Object(v.a)({},e.data),{},{announcementId:e.data.announcementId})}),t({type:S})})).catch((function(e){console.log(e)}))}},pe=function(){return function(e){e({type:N})}},de=n(363),he=n(399),fe=n(417),Ee=n(398),be=n(397),ge=n(400),ve=n(187),ye=n.n(ve),Ce=n(75),Ae=n.n(Ce),Oe=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1,body:"",errors:{}},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.props.clearErrors(),e.setState({open:!1,errors:{}})},e.handleChange=function(t){e.setState(Object(se.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.postAnnouncement({body:e.state.body})},e}return Object(Z.a)(n,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.errors||e.UI.loading||this.setState({body:"",open:!1})}},{key:"render",value:function(){var e=this.state.errors,t=this.props,n=t.classes,o=t.UI.loading;return r.a.createElement(a.Fragment,null,r.a.createElement(ce,{onClick:this.handleOpen,tip:"Post an Announcement!"},r.a.createElement(ye.a,null)),r.a.createElement(fe.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"md"},r.a.createElement(ce,{tip:"Close",onClick:this.handleClose,tipClassName:n.closeButton},r.a.createElement(Ae.a,null)),r.a.createElement(be.a,null,"Post a new announcement"),r.a.createElement(Ee.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(he.a,{name:"body",type:"text",label:"Content",multiline:!0,placeholder:"Announcement content with markdown",error:!!e.body,helperText:e.body,className:n.textField,onChange:this.handleChange,fullWidth:!0,rows:"6",rowsMax:"12"}),r.a.createElement(de.a,{type:"submit",variant:"contained",color:"primary",className:n.submitButton,disabled:o},"Submit",o&&r.a.createElement(ge.a,{size:30,className:n.progressSpinner}))))))}}]),n}(a.Component),je=Object(f.b)((function(e){return{UI:e.UI}}),{postAnnouncement:function(e){return function(t){t({type:k}),h.a.post("/announcement",e).then((function(e){t({type:F,payload:Object(v.a)(Object(v.a)({},e.data),{},{announcementId:e.data.announcementId})}),t(pe())})).catch((function(e){t({type:I,payload:e.response.data})}))}},clearErrors:pe})(ae()((function(e){return Object(v.a)(Object(v.a)({},e.rootStyles),{},{submitButton:{margin:"10px auto 10px auto",position:"relative",float:"right"},progressSpinner:{position:"absolute"}})}))(Oe)),Ie=n(41),we=n.n(Ie),ke=n(112),Ne=n.n(ke),Se=n(201),Be=n(418),xe=n(402),Ue=n(82),Qe=n(113),Te=n.n(Qe),De=n(188),Fe=n.n(De),Pe=n(119),We=n.n(Pe),Re=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null},e.handleOpen=function(t){e.setState({anchorEl:t.target})},e.handleClose=function(){e.setState({anchorEl:null})},e.onMenuOpened=function(){var t=e.props.notifications.filter((function(e){return!e.read})).map((function(e){return e.notificationId}));e.props.markNotificationsRead(t)},e}return Object(Z.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props.notifications,o=this.state.anchorEl;if(we.a.extend(Ne.a),n&&n.length>0){var c=n.filter((function(e){return!1===e.read})).length;e=c>0?r.a.createElement(xe.a,{badgeContent:c,color:"secondary"},r.a.createElement(We.a,null)):r.a.createElement(We.a,null)}else e=r.a.createElement(We.a,null);var i=n&&n.length>0?n.map((function(e){var n="like"===e.type?"liked":"commented on",a=we()(e.createdAt).fromNow(),o=e.read?"primary":"secondary",c="like"===e.type?r.a.createElement(Fe.a,{color:o,style:{marginRight:10}}):r.a.createElement(Te.a,{color:o,style:{marginRight:10}});return r.a.createElement(Be.a,{key:e.createdAt,onClick:t.handleClose},c,r.a.createElement(Ue.a,{component:l.b,color:"default",variant:"body1",to:"/users/".concat(e.recipient,"/announcement/").concat(e.announcementId)},e.sender," ",n," your announcement ",a))})):r.a.createElement(Be.a,{onClick:this.handleClose},"You have no notifications yet");return r.a.createElement(a.Fragment,null,r.a.createElement(re.a,{placement:"top",title:"Notifications"},r.a.createElement(oe.a,{"aria-owns":o?"simple-menu":void 0,"aria-haspopup":"true",onClick:this.handleOpen},e)),r.a.createElement(Se.a,{anchorEl:o,open:Boolean(o),onClose:this.handleClose,onEntered:this.onMenuOpened},i))}}]),n}(a.Component),ze=Object(f.b)((function(e){return{notifications:e.user.notifications}}),{markNotificationsRead:function(e){return function(t){h.a.post("/notifications",e).then((function(e){t({type:j})})).catch((function(e){console.log(e)}))}}})(Re),Le=n(189),Ke=n.n(Le),He=n(76),Je=n.n(He),Ve=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){return Object(X.a)(this,n),t.apply(this,arguments)}return Object(Z.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authenticated,n=e.isAnnouncementProvider,o=r.a.createElement(l.b,{to:"/cal"},r.a.createElement(ce,{tip:"Calendar"},r.a.createElement(Je.a,null)));return r.a.createElement(ee.a,null,r.a.createElement(te.a,{className:"nav-container"},t?r.a.createElement(a.Fragment,null,n?r.a.createElement(je,null):r.a.createElement("div",null),r.a.createElement(l.b,{to:"/"},r.a.createElement(ce,{tip:"Home"},r.a.createElement(ie.a,null))),r.a.createElement(ze,null),o):r.a.createElement(a.Fragment,null,r.a.createElement(l.b,{to:"/login"},r.a.createElement(ce,{tip:"Account login"},r.a.createElement(Ke.a,null))),r.a.createElement(l.b,{to:"/"},r.a.createElement(ce,{tip:"Home"},r.a.createElement(ie.a,null))),o)))}}]),n}(a.Component),Ye=Object(f.b)((function(e){return{authenticated:e.user.authenticated,isAnnouncementProvider:e.user.credentials.isAnnouncementProvider}}))(ae()({})(Ve)),Ge=n(202),Me=Object(f.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,n=e.authenticated,a=Object(Ge.a)(e,["component","authenticated"]);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return!0===n?r.a.createElement(i.a,{to:"/"}):r.a.createElement(t,e)}}))})),qe=n(2),Xe=n(77),Ze=n.n(Xe),_e=n(191),$e=n.n(_e),et=n(190),tt=n.n(et),nt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(e){var a;return Object(X.a)(this,n),(a=t.call(this,e)).state={open:!1,oldPath:"",newPath:"",errors:{},body:""},a.handleOpen=function(){var e=window.location.pathname,t=a.props,n=t.userHandle,r=t.announcementId,o="/users/".concat(n,"/announcement/").concat(r);e===o&&(e="/users/".concat(n)),window.history.pushState(null,null,o),a.setState({open:!0,oldPath:e,newPath:o}),a.props.getAnnouncement(a.props.announcementId)},a.handleClose=function(){window.history.pushState(null,null,a.state.oldPath),a.setState({open:!1}),a.props.clearErrors()},a.handleSubmit=function(e){e.preventDefault(),a.props.updateAnnouncement(a.props.announcementId,a.state.body)},a.handleChange=function(e){a.setState(Object(se.a)({},e.target.name,e.target.value))},a.handleImageChange=function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a.props.uploadImageForPost(a.props.announcementId,n)},a.handleEditPicture=function(){a.imageButtonRef.current.click()},a.imageButtonRef=r.a.createRef(),a}return Object(Z.a)(n,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors&&this.setState({errors:e.UI.errors}),e.announcement.body&&this.setState({body:e.announcement.body})}},{key:"componentDidMount",value:function(){this.props.openDialog&&this.handleOpen()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.UI.loading,o=this.state,c=o.body,l=o.errors,i=n?r.a.createElement("div",{className:t.spinnerDiv},r.a.createElement(ge.a,{size:200})):r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(tt.a,{name:"body",type:"text",label:"Content",multiline:!0,placeholder:"Announcement content with markdown",error:!!l.body,helperText:l.body,className:t.textField,onChange:this.handleChange,fullWidth:!0,value:c,rows:"6",rowsMax:"12"}),r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange,ref:this.imageButtonRef}),r.a.createElement(de.a,{variant:"contained",color:"primary",className:t.toolButton,disabled:n,onClick:this.handleEditPicture},r.a.createElement($e.a,null)),r.a.createElement(de.a,{type:"submit",variant:"contained",color:"primary",className:t.submitButton,disabled:n},"Submit",n&&r.a.createElement(ge.a,{size:30,className:t.progressSpinner})));return r.a.createElement(a.Fragment,null,r.a.createElement(ce,{onClick:this.handleOpen,tip:"Edit announcement",tipClassName:t.expandButton},r.a.createElement(Ze.a,{color:"primary"})),r.a.createElement(fe.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"md"},r.a.createElement(ce,{tip:"Close",onClick:this.handleClose,tipClassName:t.closeButton},r.a.createElement(Ae.a,null)),r.a.createElement(Ee.a,{className:t.dialogContent},i)))}}]),n}(a.Component),at=Object(f.b)((function(e){return{announcement:e.data.announcement,UI:e.UI}}),{getAnnouncement:me,updateAnnouncement:function(e,t){return function(n){n({type:k}),h.a.post("/announcement/".concat(e),{body:t}).then((function(){n(ue())})).catch((function(e){n({type:I,payload:e.response.data})}))}},uploadImageForPost:function(e,t){return function(n){n({type:O}),h.a.post("/announcement/".concat(e,"/image"),t).then((function(e){n({type:U,payload:e.data.imageUrl})})).catch((function(e){return console.log(e)}))}},clearErrors:pe})(ae()((function(e){return Object(v.a)(Object(v.a)({},e.rootStyles),{},{avatar:{height:"80%",width:"80%"},dialogContent:{padding:20},expandButton:{float:"right"},spinnerDiv:{textAlign:"center",marginTo:50,marginBottom:50},submitButton:{margin:"10px auto 10px auto",position:"relative",float:"right"},toolButton:{margin:"10px auto 10px auto",position:"relative",float:"left"}})}))(nt)),rt=n(405),ot=n(192),ct=n.n(ot),lt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.deleteAnnouncement=function(){e.props.deleteAnnouncement(e.props.announcementId),e.handleClose()},e}return Object(Z.a)(n,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(ce,{tip:"Delete Announcement",onClick:this.handleOpen,btnClassName:e.deleteButton},r.a.createElement(ct.a,{color:"primary"})),r.a.createElement(fe.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(be.a,null,"Are you sure you want to delete this announcement?"),r.a.createElement(rt.a,null,r.a.createElement(de.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(de.a,{onClick:this.deleteAnnouncement,color:"secondary"},"Delete"))))}}]),n}(a.Component),it=Object(f.b)(null,{deleteAnnouncement:function(e){return function(t){h.a.delete("/announcement/".concat(e)).then((function(){t({type:D,payload:e})})).catch((function(e){return console.log(e)}))}}})(ae()({})(lt)),st=n(419),ut=n(409),mt=n(410),pt=n(412),dt=n(408),ht=n(193),ft=n.n(ht),Et=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.archiveAnnouncement=function(){e.props.archiveAnnouncement(e.props.announcementId),e.handleClose()},e}return Object(Z.a)(n,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(ce,{tip:"Archive Announcement",onClick:this.handleOpen,btnClassName:e.archiveButton},r.a.createElement(ft.a,{color:"primary"})),r.a.createElement(fe.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(be.a,null,"Are you sure you want to archive this announcement?"),r.a.createElement(rt.a,null,r.a.createElement(de.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(de.a,{onClick:this.archiveAnnouncement,color:"secondary"},"Archive"))))}}]),n}(a.Component),bt=Object(f.b)(null,{archiveAnnouncement:function(e){return function(t){h.a.post("/announcement/".concat(e),{isArchived:!0}).then((function(){t(ue())})).catch((function(e){t({type:I,payload:e.response.data})}))}}})(ae()({})(Et)),gt=n(114),vt=n.n(gt);function yt(e){return e.match(/^[0-9]+\. /)||e.match(/^\* /)}function Ct(e){if(!e)return e;var t="",n="";return e.split("\n").forEach((function(e){var a=e.trim();!yt(n)&&yt(a)&&(t+="\n"),t=(t=(t=(t+=a).replace(/\u3002/g," \u3002")).replace(/\uff09/g," \uff09 ")).replace(/\uff08/g," \uff08 "),t+="\n",n=a})),t}var At=n(411),Ot=n(194),jt=n.n(Ot),It=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleShare=function(){var t=e.props,n=t.announcementId,a={title:"H2 App",text:t.content,url:"".concat("/eccbibleplan","?announcementId=").concat(n)};try{navigator.share(a),console.log("Shared successfully")}catch(r){console.log("Share failed")}},e.canShare=function(){try{return navigator.canShare}catch(e){return!1}},e}return Object(Z.a)(n,[{key:"render",value:function(){var e=this.props.classes;return this.canShare()?r.a.createElement("div",null,r.a.createElement(ce,{onClick:this.handleShare,tip:"Share announcement",tipClassName:e.expandButton},r.a.createElement(jt.a,{color:"primary"}))):null}}]),n}(a.Component),wt=ae()((function(e){return Object(v.a)({},e.rootStyles)}))(It),kt=n(406),Nt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){return Object(X.a)(this,n),t.apply(this,arguments)}return Object(Z.a)(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.classes;return r.a.createElement(kt.a,{container:!0},t&&t.map((function(e,o){var c=e.body,i=e.createdAt,s=e.userImage,u=e.userHandle;return r.a.createElement(a.Fragment,{key:i},r.a.createElement(kt.a,{item:!0,sm:12},r.a.createElement(kt.a,{container:!0},r.a.createElement(kt.a,{item:!0,sm:1},r.a.createElement(st.a,{alt:u,src:s,className:n.avatar})),r.a.createElement(kt.a,{item:!0,sm:9},r.a.createElement("div",{className:n.commentData},r.a.createElement(Ue.a,{component:l.b,to:"/users/".concat(u),color:"primary"},u),r.a.createElement(Ue.a,{variant:"body2",color:"textSecondary"},we()(i).format("h:mm a, MMMM DD YYYY")),r.a.createElement("hr",{className:n.invisibleSeparator}),r.a.createElement(Ue.a,{variant:"body1"},c))))),o!==t.length-1&&r.a.createElement("hr",{className:n.visibleSeparator}))})))}}]),n}(a.Component),St=Object(f.b)((function(e){return{announcement:e.data.announcement,UI:e.UI}}))(ae()((function(e){return Object(v.a)(Object(v.a)({},e.rootStyles),{},{commentData:{marginLeft:20}})}))(Nt)),Bt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={body:"",errors:{}},e.handleChange=function(t){e.setState(Object(se.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.submitComment(e.props.announcementId,{body:e.state.body})},e}return Object(Z.a)(n,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors!==this.state.errors&&this.setState({errors:e.UI.errors?e.UI.errors:{}}),e.UI.errors||e.UI.loading||this.setState({body:""})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.authenticated,a=this.state.errors;return n?r.a.createElement(kt.a,{item:!0,sm:12,style:{textAlign:"center"}},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(he.a,{name:"body",type:"text",label:"Comment on announcement",error:!!a.error,helperText:a.error,value:this.state.body,onChange:this.handleChange,fullWidth:!0,className:t.textField}),r.a.createElement(de.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Submit")),r.a.createElement("hr",{className:t.visibleSeparator})):null}}]),n}(a.Component),xt=Object(f.b)((function(e){return{UI:e.UI,authenticated:e.user.authenticated}}),{submitComment:function(e,t){return function(n){h.a.post("/announcement/".concat(e,"/comment"),t).then((function(e){n({type:P,payload:e.data}),n(pe())})).catch((function(e){n({type:I,payload:e.response.data})}))}}})(ae()((function(e){return Object(v.a)({},e.rootStyles)}))(Bt)),Ut=n(407),Qt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleOpen=function(){e.setState({open:!0}),e.props.getAnnouncement(e.props.announcementId)},e.handleClose=function(){window.history.pushState(null,null,e.state.oldPath),e.setState({open:!1}),e.props.clearErrors()},e}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){this.props.openDialog&&this.handleOpen()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.announcement,o=n.body,c=n.createdAt,i=n.userImage,s=n.userHandle,u=n.announcementId,m=n.commentCount,p=n.comments,d=e.UI.loading?r.a.createElement("div",{className:t.spinnerDiv},r.a.createElement(ge.a,{size:200})):r.a.createElement(kt.a,{container:!0},r.a.createElement(kt.a,{item:!0,sm:1,className:t.avatarContainer},r.a.createElement(st.a,{alt:s,src:i,className:t.avatar})),r.a.createElement(kt.a,{item:!0,sm:!0},r.a.createElement(Ue.a,{component:l.b,color:"primary",variant:"h6",to:"/users/".concat(s)},"@",s),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(Ue.a,{variant:"body2",color:"textSecondary"},we()(c).format("h:mm a, MMMM DD YYYY"))),r.a.createElement("div",{className:t.markdownContainer},r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(vt.a,{source:Ct(o)})),r.a.createElement(Ut.a,null,r.a.createElement(ce,{tip:"comments"},r.a.createElement(Te.a,{color:"primary"})),r.a.createElement("span",null,m," comments")),r.a.createElement("hr",{className:t.visibleSeparator}),r.a.createElement(xt,{announcementId:u}),r.a.createElement(St,{comments:p}));return r.a.createElement(a.Fragment,null,r.a.createElement(fe.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"md"},r.a.createElement(ce,{tip:"Close",onClick:this.handleClose,tipClassName:t.closeButton},r.a.createElement(Ae.a,null)),r.a.createElement(Ee.a,{className:t.dialogContent},d)))}}]),n}(a.Component),Tt=Object(f.b)((function(e){return{announcement:e.data.announcement,UI:e.UI}}),{getAnnouncement:me,clearErrors:pe})(ae()((function(e){return Object(v.a)(Object(v.a)({},e.rootStyles),{},{dialogContent:{padding:20},closeButton:{position:"absolute",right:"0.6rem",top:"0.6rem"},spinnerDiv:{textAlign:"center",marginTo:50,marginBottom:50},markdownContainer:{display:"block",width:"100%",overflow:"hidden"},avatar:{width:"4rem",height:"4rem"}})}))(Qt)),Dt=n(195),Ft=n.n(Dt),Pt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.togglePinToTop=function(){var t=e.props,n=t.announcementId,a=t.pinToTop;e.props.pinAnnouncement(n,!a)},e}return Object(Z.a)(n,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(ce,{tip:"Pin Announcement to Top",onClick:this.togglePinToTop,btnClassName:e.pinToTop},r.a.createElement(Ft.a,{color:this.props.pinToTop?"secondary":"primary"})))}}]),n}(a.Component),Wt=Object(f.b)(null,{pinAnnouncement:function(e,t){return function(n){h.a.post("/announcement/".concat(e),{pinToTop:t}).then((function(){n(ue())})).catch((function(e){n({type:I,payload:e.response.data})}))}}})(ae()({})(Pt)),Rt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){return Object(X.a)(this,n),t.apply(this,arguments)}return Object(Z.a)(n,[{key:"render",value:function(){we.a.extend(Ne.a);var e=this.props,t=e.classes,n=e.announcement,a=n.body,o=n.createdAt,c=n.userImage,i=n.userHandle,s=n.announcementId,u=n.pinToTop,m=e.user,p=m.authenticated,d=m.credentials.handle,h=e.openDialog,f=p&&i===d?r.a.createElement(it,{announcementId:s}):null,E=p&&i===d?r.a.createElement(at,{announcementId:s,userHandle:i}):null,b=p&&i===d?r.a.createElement(bt,{announcementId:s,userHandle:i}):null,g=p&&i===d?r.a.createElement(Wt,{announcementId:s,pinToTop:u}):null,v=r.a.createElement(wt,{announcementId:s,content:a}),y=r.a.createElement(dt.a,{classes:t.buttonGroup},v,E,g,b,f),C=r.a.createElement(Ue.a,{component:l.b,to:"/users/".concat(i),color:"primary"},i);return r.a.createElement(ut.a,{className:Object(qe.default)(t.card,Object(se.a)({},t.cardPinToTop,u))},r.a.createElement(mt.a,{avatar:r.a.createElement(st.a,{alt:i,className:t.avatar,src:c}),title:C,subheader:we()(o).fromNow()}),r.a.createElement(At.a,{className:t.content},r.a.createElement(Ue.a,{id:"content-"+s},r.a.createElement(vt.a,{source:Ct(a),className:t.markdownContainer}))),r.a.createElement(pt.a,{className:t.actions},y),r.a.createElement(Tt,{announcementId:s,openDialog:h}))}}]),n}(a.Component),zt=Object(f.b)((function(e){return{user:e.user}}))(ae()((function(e){return{card:{marginBottom:20,position:"relative"},cardPinToTop:{"background-color":"cornsilk"},image:{minWidth:200},content:{padding:25,objectFit:"cover"},actions:{display:"block"},markdownContainer:{h2:{fontSize:"1em"},"& img":{width:"100%"},"& a":{"white-space":"pre-wrap","word-wrap":"break-word"}}}}))(Rt)),Lt=n.p+"static/media/no-img.c3f94521.png",Kt=n(413),Ht=ae()((function(e){return{card:{display:"flex",marginBottom:20},cardContent:{width:"100%",flexDirection:"column",padding:25},cover:{minWidth:200,objectFit:"cover"},handle:{width:60,height:18,backgroundColor:e.palette.primary.main,marginBottom:7},date:{height:14,width:100,backgroundColor:"rgba(0,0,0,0.3)",marginBottom:10},fullLine:{height:15,width:"90%",backgroundColor:"rgba(0,0,0,0.6)",marginBottom:10},halfLine:{height:15,width:"50%",backgroundColor:"rgba(0,0,0,0.6)",marginBottom:10}}}))((function(e){var t=e.classes,n=Array.from({length:5}).map((function(e,n){return r.a.createElement(ut.a,{className:t.card,key:n},r.a.createElement(Kt.a,{className:t.cover,image:Lt}),r.a.createElement(At.a,{className:t.cardContent},r.a.createElement("div",{className:t.handle}),r.a.createElement("div",{className:t.date}),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("div",{className:t.halfLine})))}));return r.a.createElement(a.Fragment,null,n)})),Jt=n(342),Vt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={announcementId:null},e}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){this.props.getAnnouncements();var e=Jt.parse(this.props.location.search).announcementId;e&&this.setState({announcementId:e})}},{key:"render",value:function(){var e=this.state.announcementId,t=this.props.data,n=t.announcements;return t.loading?r.a.createElement(Ht,null):n.filter((function(e){return!e.isArchived})).map((function(t){return e&&t.announcementId===e?r.a.createElement(zt,{key:t.announcementId,announcement:t,openDialog:!0}):r.a.createElement(zt,{key:t.announcementId,announcement:t})}))}}]),n}(a.Component),Yt=Object(f.b)((function(e){return{data:e.data}}),{getAnnouncements:ue})(Vt),Gt="data:image/png;base64,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lzY+obu44bU+KsMZr7aYjN+LS4OVaY/QF4tsZHw+WCB/zCTYKzZIvJcNP26AAVyoYDh4p6ekD9v5t+Ar+aAgnH5wYCYlpNG1zQfWjPk5n42kiIIojDyJzVngc6FlP1X/3v+EuXwV32mws6/cDqB+GTTEuOczmYAWF8DCxQ2963ChT4cGK5VThJnRUtPHuLUo33ZJNtFhoZwFjbQUFaqXgMHfDPOI6JG6wDR4XwMA2EyFbgpPe+En0teCD1uwBaBK2vkNH0C5zfMA2ZN68jzcqPTPA1xxmsiQgwqWlz/CXFFoosa9uKfwaw3GKDPPR3WXj1tjIArchJxhh2u9hf0eOlcCcEmU4iyjPCKqVDntQGYSwQWqIWodRIi9dO8jaK/fo17+fvhfnahwXYUPDYIvK/pfp3Btk/ajcWmwoKMn7OThbnapZZ/eGvfijkeyUX9m2Z1GIp06ntPBBPI2tIeRFUIZdI/MGG6o4I0ovKiQdww1IpeIB+7ooRvn/Rciw6fAb10D/2wrnPwZ4L9+Yxc2XodqCKpAxa1r/nyOWAEW1stw/ydygEJFFkOiNlJdobI8on47TDGMc11RBQEw5bAdU16l+w1RSz7Yd+64Q1vtRztaAtpqPba/GFH06T/FTUapsfVPNBy+m0LVxEW4feCGcQ4/qb8WF8AIQNQByjedLduTIhJOHCYyzLseTY4U/z3uOaCxwkNqCBxXgkwcL68Bkcr3mYCTj3qwZlRVNP8a/34K/w5698MD3yUCdczm2kmNolEmFxfAsC2Sa8FC0q0sgqNsOUF9Vt1EouSlgJ10YIL8mmPkwc21MjjeRYR5lJnbizvj1u9BN898bJFUi9YyXu+F/zUYiQv/G2ki1H25BnoyyOv/izli4TqZ1VPDMq/cACVGi0uahIAdaRQPOypv1+sv+2O1pT6Y7cS2NXxjD9pEOKDzg4MZWmogZdaPu0IB7WhpMPZX4bZ8/wzK4mLSYlSnChP5O+z38H5Vq3fQcIutYQfaNWPGhLZiqracKnn+WABWyQlP5nMBZNPRjvYk5tiKfbZ+AJ7LRYPsvZrWNG7tOJmv92TmFpeJPJm5nPGfgaOP0uXW1yTfmgslvR+NF0/9JYPrjF/QyXoBjrX3Bmrxn6zzE/MSEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBIQEhASEBL4c5XA/wNmB/fimPXDpAAAAABJRU5ErkJggg==",Mt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(e){var a;return Object(X.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};a.props.loginUser(t,a.props.history)},a.handleChange=function(e){a.setState(Object(se.a)({},e.target.name,e.target.value))},a.state={email:"",password:"",errors:[]},a}return Object(Z.a)(n,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.UI.loading,a=this.state.errors;return r.a.createElement(kt.a,{container:!0,className:t.form},r.a.createElement(kt.a,{item:!0,sm:!0}),r.a.createElement(kt.a,{item:!0,sm:!0},r.a.createElement("img",{src:Gt,alt:"h2",className:t.image}),r.a.createElement(Ue.a,{variant:"h2",className:t.pageTitle},"Login"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement(he.a,{id:"email",name:"email",label:"Email",className:t.textField,helperText:a.email,error:!!a.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(he.a,{id:"password",name:"password",label:"Password",type:"password",className:t.textField,helperText:a.password,error:!!a.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),a.general&&r.a.createElement(Ue.a,{variant:"body2",className:t.customError},a.general),r.a.createElement(de.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:n},"Login",n&&r.a.createElement(ge.a,{className:t.progress,size:30})),r.a.createElement("br",null),r.a.createElement("small",null,"don't have an account ? signup ",r.a.createElement(l.b,{to:"/signup"},"here")))),r.a.createElement(kt.a,{item:!0,sm:!0}))}}]),n}(a.Component),qt=Object(f.b)((function(e){return{UI:e.UI}}),{loginUser:function(e,t){return function(n){n({type:k}),G.a.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){return e.user.getIdToken()})).then((function(e){M(e),n(q()),n({type:N}),t.push("/")})).catch((function(e){console.log(e),n({type:I,payload:e.response.data})}))}}})(ae()((function(e){return Object(v.a)({},e.rootStyles)}))(Mt)),Xt=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(e){var a;return Object(X.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.setState({loading:!0});var t={email:a.state.email,password:a.state.password,confirmPassword:a.state.confirmPassword,handle:a.state.handle};a.props.signupUser(t,a.props.history)},a.handleChange=function(e){a.setState(Object(se.a)({},e.target.name,e.target.value))},a.state={email:"",password:"",confirmPassword:"",handle:"",errors:[]},a}return Object(Z.a)(n,[{key:"componentWillReceiveProps",value:function(e,t){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.UI.loading,a=this.state.errors;return r.a.createElement(kt.a,{container:!0,className:t.form},r.a.createElement(kt.a,{item:!0,sm:!0}),r.a.createElement(kt.a,{item:!0,sm:!0},r.a.createElement("img",{src:Gt,alt:"h2",className:t.image}),r.a.createElement(Ue.a,{variant:"h2",className:t.pageTitle},"Signup"),r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement(he.a,{id:"email",name:"email",label:"Email",className:t.textField,helperText:a.email,error:!!a.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(he.a,{id:"password",name:"password",label:"Password",type:"password",className:t.textField,helperText:a.password,error:!!a.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(he.a,{id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",className:t.textField,helperText:a.password,error:!!a.confirmPassword,value:this.state.confirmPassword,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(he.a,{id:"handle",name:"handle",label:"Username",type:"text",className:t.textField,helperText:a.handle,error:!!a.handle,value:this.state.handle,onChange:this.handleChange,fullWidth:!0}),a.general&&r.a.createElement(Ue.a,{variant:"body2",className:t.customError},a.general),r.a.createElement(de.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:n},"Login",n&&r.a.createElement(ge.a,{className:t.progress,size:30})),r.a.createElement("br",null),r.a.createElement("small",null,"Already have an account ? login ",r.a.createElement(l.b,{to:"/login"},"here")))),r.a.createElement(kt.a,{item:!0,sm:!0}))}}]),n}(a.Component),Zt=Object(f.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(n){n({type:k}),h.a.post("/signup",e).then((function(e){var a=e.data;M(a.token),n(q()),n({type:N}),t.push("/")})).catch((function(e){console.log(e),n({type:I,payload:e.response.data})}))}}})(ae()((function(e){return Object(v.a)({},e.rootStyles)}))(Xt)),_t=n(203),$t=n(115),en=n.n($t),tn=n(116),nn=n.n(tn),an=ae()((function(e){return Object(v.a)(Object(v.a)({},e.rootStyles),{},{handle:{height:20,backgroundColor:e.palette.primary.main,width:60,margin:"0 auto 7px auto"},fullLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"100%",marginBottom:10},halfLine:{height:15,backgroundColor:"rgba(0,0,0,0.6)",width:"50%",marginBottom:10}})}))((function(e){var t=e.classes;return r.a.createElement(_t.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:Lt,alt:"profile",className:"profile-image"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement("div",{className:t.handle}),r.a.createElement("hr",null),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("div",{className:t.fullLine}),r.a.createElement("hr",null),r.a.createElement(en.a,{color:"primary"}),r.a.createElement("span",null,"Location"),r.a.createElement("hr",null),r.a.createElement(nn.a,{color:"primary"}),"https://website.com",r.a.createElement("hr",null),r.a.createElement(Je.a,{color:"primary"}),"Join date")))})),rn=n(414),on=n(196),cn=n.n(on),ln=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={bio:"",website:"",location:"",open:!1},e.handleClose=function(){e.setState({open:!1})},e.mapUserDetailsToState=function(t){e.setState({bio:t.bio?t.bio:"",website:t.website?t.website:"",location:t.location?t.location:""})},e.handleOpen=function(){e.setState({open:!0}),e.mapUserDetailsToState(e.props.credentials)},e.handleChange=function(t){e.setState(Object(se.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t={bio:e.state.bio,website:e.state.website,location:e.state.location};e.props.editUserDetails(t),e.handleClose()},e}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.credentials;this.mapUserDetailsToState(e)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(a.Fragment,null,r.a.createElement(ce,{tip:"Edit details",onClick:this.handleOpen,btnClassName:e.button},r.a.createElement(Ze.a,{color:"primary"})),r.a.createElement(fe.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm"},r.a.createElement(be.a,null,"Edit your details"),r.a.createElement(Ee.a,null,r.a.createElement("form",null,r.a.createElement(he.a,{name:"bio",type:"text",label:"Bio",multiline:!0,rows:"3",placeholder:"A short bio of yourself",className:e.textField,value:this.state.bio,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(he.a,{name:"website",type:"text",label:"Website",multiline:!0,placeholder:"Your personal website",className:e.textField,value:this.state.website,onChange:this.handleChange,fullWidth:!0}),r.a.createElement(he.a,{name:"location",type:"text",label:"Location",multiline:!0,placeholder:"Where you live",className:e.textField,value:this.state.location,onChange:this.handleChange,fullWidth:!0}))),r.a.createElement(rt.a,null,r.a.createElement(de.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(de.a,{onClick:this.handleSubmit,color:"primary"},"Submit"))))}}]),n}(a.Component),sn=Object(f.b)((function(e){return{credentials:e.user.credentials}}),{editUserDetails:function(e){return function(t){t({type:O}),h.a.post("/user",e).then((function(){t(q())})).catch((function(e){return console.log(e)}))}}})(ae()((function(e){return Object(v.a)(Object(v.a)({},e.rootStyles),{},{button:{float:"right"}})}))(ln)),un=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(e){var a;return Object(X.a)(this,n),(a=t.call(this,e)).handleImageChange=function(e){var t=e.target.files[0],n=new FormData;n.append("image",t,t.name),a.props.uploadImage(n)},a.handleEditPicture=function(){a.imageButtonRef.current.click()},a.handleLogout=function(){a.props.logoutUser()},a.imageButtonRef=r.a.createRef(),a}return Object(Z.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.user,o=n.credentials,c=o.handle,i=o.createdAt,s=o.imageUrl,u=o.bio,m=o.website,p=o.location,d=n.loading,h=n.authenticated;return d?r.a.createElement(an,null):h?r.a.createElement(_t.a,{className:t.paper},r.a.createElement("div",{className:t.profile},r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{src:s,alt:"profile",className:"profile-image"}),r.a.createElement("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:this.handleImageChange,ref:this.imageButtonRef}),r.a.createElement(ce,{tip:"Edit profile picture",onClick:this.handleEditPicture,btnClassName:"button"},r.a.createElement(Ze.a,{color:"primary"}))),r.a.createElement("hr",null),r.a.createElement("div",{className:"profile-details"},r.a.createElement(rn.a,{component:l.b,to:"/users/".concat(c),color:"primary",variant:"h5"},"@",c),u&&r.a.createElement(Ue.a,{variant:"body2"},u),r.a.createElement("hr",null),p&&r.a.createElement(a.Fragment,null,r.a.createElement(en.a,{color:"primary"}),r.a.createElement("span",null,p)),r.a.createElement("hr",null),m&&r.a.createElement(a.Fragment,null,r.a.createElement(nn.a,{color:"primary"}),r.a.createElement("a",{href:m,target:"_blank",rel:"noopener noreferrer"},"  ",m)),r.a.createElement("hr",null),r.a.createElement(Je.a,{color:"primary"}),"  ",r.a.createElement("span",null,"Joined ",we()(i).format("MMM YYYY")))),r.a.createElement(re.a,{title:"Logout",placement:"top"},r.a.createElement(ce,{tip:"Logout",onClick:this.handleLogout},r.a.createElement(cn.a,{color:"primary"}))),r.a.createElement(sn,null)):r.a.createElement(_t.a,{className:t.paper},r.a.createElement(Ue.a,{variant:"body2",aligh:"center"},"No profile found, please login again"),r.a.createElement("div",{className:t.buttons},r.a.createElement(de.a,{variant:"contained",color:"primary",component:l.b,to:"/login"},"Login"),r.a.createElement(de.a,{variant:"contained",color:"secondary",component:l.b,to:"/signup"},"Signup")))}}]),n}(a.Component),mn=Object(f.b)((function(e){return{user:e.user}}),{logoutUser:function(){return function(e){G.a.auth().signOut().then((function(){e({type:C})}))}},uploadImage:function(e){return function(t){t({type:O}),h.a.post("/user/image",e).then((function(e){t(q())})).catch((function(e){return console.log(e)}))}}})(ae()((function(e){return Object(v.a)({},e.rootStyles)}))(un)),pn=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={profile:{},announcementIdParam:null},e}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.handle,n=this.props.match.params.announcementId;n&&this.setState({announcementIdParam:n}),this.props.getUserData(t),h.a.get("/user/".concat(t)).then((function(t){e.setState({profile:t.data.user})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.data,t=e.announcements,n=e.loading,a=this.state.announcementIdParam,o=n?r.a.createElement(Ht,null):null===t?r.a.createElement("p",null,"No announcements from this user"):a?t.map((function(e){return e.announcementId!==a?r.a.createElement(zt,{key:e.announcementId,announcement:e}):r.a.createElement(zt,{key:e.announcementId,announcement:e,openDialog:!0})})):t.map((function(e){return r.a.createElement(zt,{key:e.announcementId,announcement:e})}));return r.a.createElement(kt.a,{container:!0,spacing:10},r.a.createElement(kt.a,{item:!0,sm:8,xs:12},o),r.a.createElement(kt.a,{item:!0,sm:4,xs:12},this.state.profile?r.a.createElement(mn,null):r.a.createElement(an,null)))}}]),n}(a.Component),dn=Object(f.b)((function(e){return{data:e.data,UI:e.UI}}),{getUserData:function(e){return function(t){t({type:w}),h.a.get("/user/".concat(e)).then((function(e){t({type:B,payload:e.data.announcements})})).catch((function(){t({type:B,payload:null})}))}}})(pn),hn=n(49),fn=n(147),En=n.n(fn),bn=(n(356),n(200));var gn=new Date,vn=Object(hn.c)(En.a),yn=/(\d{2})\/(\d{2})\/(\d{4})/g,Cn=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(X.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={view:hn.b.WEEK,events:[]},e}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vQvXCDvZBgp4hm89EvIzlKfiJpbkZDaK5dFYqVYYDJUZ4zGknXkOeUaT5xlGk5pyfL3G8Qfrp2TDZxJ/pub?output=csv").then((function(e){return e.text()})).then((function(t){var n,a=(n=function(e){var t,n,a="",r=[""],o=[r],c=0,l=0,i=!0,s=Object(bn.a)(e);try{for(s.s();!(n=s.n()).done;)'"'===(t=n.value)?(i&&t===a&&(r[c]+=t),i=!i):","===t&&i?t=r[++c]="":"\n"===t&&i?("\r"===a&&(r[c]=r[c].slice(0,-1)),r=o[++l]=[t=""],c=0):r[c]+=t,a=t}catch(u){s.e(u)}finally{s.f()}return o}(t),n[0].map((function(e,t){return n.map((function(e){return e[t]}))}))).flat(),r=[];a.forEach((function(e,t){if(e.match(yn)){var n=yn.exec(e),o=parseInt(n[1]),c=parseInt(n[2]),l=parseInt(n[3]),i=a[t+1];if(i){var s=new Date(l,o-1,c),u=new Date(l,o-1,c);i.includes("\u9884\u67e5\u5e26\u9886")?(i="\u9884\u67e5\n"+i,s=new Date(l,o-1,c,11,15,0),u=new Date(l,o-1,c,12,15,0)):i.includes("\u8bd7\u6b4c\u5e26\u9886")&&(i="\u56e2\u5951\u67e5\u7ecf\n"+i,s=new Date(l,o-1,c,19,20,0),u=new Date(l,o-1,c,21,30,0));var m={id:t,title:i,start:s,end:u};r.push(m)}}})),e.setState({events:r})}))}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.events,a=[hn.b.MONTH,hn.b.WEEK,hn.b.DAY,hn.b.AGENDA];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.container},r.a.createElement(hn.a,{events:n,views:a,defaultView:hn.b.WEEK,step:60,defaultDate:gn,components:{eventWrapper:function(e){var n=Math.floor((e.event.end-e.event.start)/6e4);return r.a.createElement("div",{className:n<60?t.eventWrapperNoLabel:t.eventWrapper},e.children)}},localizer:vn,style:{height:1e3},titleAccessor:function(n){if(e.state.view===hn.b.MONTH){var a=n.title.split("\n");return r.a.createElement("div",{className:t.eventContent},a[0])}return r.a.createElement("div",{className:t.eventContent},n.title)},onView:function(t){e.setState({view:t})},min:En()("6:00am","h:mma").toDate()})))}}]),n}(a.Component),An=Object(f.b)((function(e){return{user:e.user}}))(ae()((function(){return{container:{},eventContent:{"white-space":"pre-wrap"},eventWrapper:{},eventWrapperNoLabel:{"& .rbc-event-label":{display:"none"}}}}))(Cn)),On=function(e){Object(_.a)(n,e);var t=Object($.a)(n);function n(){return Object(X.a)(this,n),t.apply(this,arguments)}return Object(Z.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(An,null))}}]),n}(a.Component),jn=Object(f.b)((function(e){return{data:e.data}}),{getAnnouncements:ue})(On),In=(n(357),m()(p));G.a.initializeApp({apiKey:"AIzaSyCCx9TDJtVzEaPym1OyU5KSuWgwslGDzEY"}),G.a.auth().onAuthStateChanged((function(e){e&&e.getIdToken().then((function(e){M(e),Y.dispatch(q())}))})),h.a.defaults.baseURL="https://us-central1-h2-app.cloudfunctions.net/api";var wn=function(){return r.a.createElement(s.a,{theme:In},r.a.createElement(f.a,{store:Y},r.a.createElement(l.a,{basename:"/eccbibleplan"},r.a.createElement(Ye,null),r.a.createElement("div",{className:"container"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:Yt}),r.a.createElement(Me,{exact:!0,path:"/login",component:qt}),r.a.createElement(Me,{exact:!0,path:"/signup",component:Zt}),r.a.createElement(i.b,{exact:!0,path:"/users/:handle",component:dn}),r.a.createElement(i.b,{exact:!0,path:"/users/:handle/announcement/:announcementId",component:dn}),r.a.createElement(i.b,{exact:!0,path:"/cal",component:jn}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(wn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[359,1,2]]]);
//# sourceMappingURL=main.25abaad9.chunk.js.map